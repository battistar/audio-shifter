function _mergeNamespaces(a,o){for(var $=0;$<o.length;$++){const j=o[$];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in a)){const et=Object.getOwnPropertyDescriptor(j,_e);et&&Object.defineProperty(a,_e,et.get?et:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const et of _e)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function $(_e){const et={};return _e.integrity&&(et.integrity=_e.integrity),_e.referrerPolicy&&(et.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?et.credentials="include":_e.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(_e){if(_e.ep)return;_e.ep=!0;const et=$(_e);fetch(_e.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var o=a.default;if(typeof o=="function"){var $=function j(){if(this instanceof j){var _e=[null];_e.push.apply(_e,arguments);var et=Function.bind.apply(o,_e);return new et}return o.apply(this,arguments)};$.prototype=o.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(a).forEach(function(j){var _e=Object.getOwnPropertyDescriptor(a,j);Object.defineProperty($,j,_e.get?_e:{enumerable:!0,get:function(){return a[j]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(a,o,$){this.props=a,this.context=o,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,o){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,o,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(a,o,$){this.props=a,this.context=o,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,o,$){var j,_e={},et=null,tt=null;if(o!=null)for(j in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(et=""+o.key),o)J.call(o,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=o[j]);var rt=arguments.length-2;if(rt===1)_e.children=$;else if(1<rt){for(var ot=Array(rt),st=0;st<rt;st++)ot[st]=arguments[st+2];_e.children=ot}if(a&&a.defaultProps)for(j in rt=a.defaultProps,rt)_e[j]===void 0&&(_e[j]=rt[j]);return{$$typeof:l$2,type:a,key:et,ref:tt,props:_e,_owner:K$1.current}}function N$1(a,o){return{$$typeof:l$2,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$2}function escape(a){var o={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function($){return o[$]})}var P$1=/\/+/g;function Q$1(a,o){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):o.toString(36)}function R$1(a,o,$,j,_e){var et=typeof a;(et==="undefined"||et==="boolean")&&(a=null);var tt=!1;if(a===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch(a.$$typeof){case l$2:case n$3:tt=!0}}if(tt)return tt=a,_e=_e(tt),a=j===""?"."+Q$1(tt,0):j,I$1(_e)?($="",a!=null&&($=a.replace(P$1,"$&/")+"/"),R$1(_e,o,$,"",function(st){return st})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,$+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+a)),o.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$1(a))for(var rt=0;rt<a.length;rt++){et=a[rt];var ot=j+Q$1(et,rt);tt+=R$1(et,o,$,ot,_e)}else if(ot=A$2(a),typeof ot=="function")for(a=ot.call(a),rt=0;!(et=a.next()).done;)et=et.value,ot=j+Q$1(et,rt++),tt+=R$1(et,o,$,ot,_e);else if(et==="object")throw o=String(a),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(a,o,$){if(a==null)return a;var j=[],_e=0;return R$1(a,j,"","",function(et){return o.call($,et,_e++)}),j}function T$1(a){if(a._status===-1){var o=a._result;o=o(),o.then(function($){(a._status===0||a._status===-1)&&(a._status=1,a._result=$)},function($){(a._status===0||a._status===-1)&&(a._status=2,a._result=$)}),a._status===-1&&(a._status=0,a._result=o)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(a,o,$){S$1(a,function(){o.apply(this,arguments)},$)},count:function(a){var o=0;return S$1(a,function(){o++}),o},toArray:function(a){return S$1(a,function(o){return o})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(a,o,$){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var j=C$1({},a.props),_e=a.key,et=a.ref,tt=a._owner;if(o!=null){if(o.ref!==void 0&&(et=o.ref,tt=K$1.current),o.key!==void 0&&(_e=""+o.key),a.type&&a.type.defaultProps)var rt=a.type.defaultProps;for(ot in o)J.call(o,ot)&&!L$1.hasOwnProperty(ot)&&(j[ot]=o[ot]===void 0&&rt!==void 0?rt[ot]:o[ot])}var ot=arguments.length-2;if(ot===1)j.children=$;else if(1<ot){rt=Array(ot);for(var st=0;st<ot;st++)rt[st]=arguments[st+2];j.children=rt}return{$$typeof:l$2,type:a.type,key:_e,ref:et,props:j,_owner:tt}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$2,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var o=M$1.bind(null,a);return o.type=a,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,o){return{$$typeof:x$1,type:a,compare:o===void 0?null:o}};react_production_min.startTransition=function(a){var o=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,o){return U$1.current.useCallback(a,o)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,o){return U$1.current.useEffect(a,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,o,$){return U$1.current.useImperativeHandle(a,o,$)};react_production_min.useInsertionEffect=function(a,o){return U$1.current.useInsertionEffect(a,o)};react_production_min.useLayoutEffect=function(a,o){return U$1.current.useLayoutEffect(a,o)};react_production_min.useMemo=function(a,o){return U$1.current.useMemo(a,o)};react_production_min.useReducer=function(a,o,$){return U$1.current.useReducer(a,o,$)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,o,$){return U$1.current.useSyncExternalStore(a,o,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(a,o,$){var j,_e={},et=null,tt=null;$!==void 0&&(et=""+$),o.key!==void 0&&(et=""+o.key),o.ref!==void 0&&(tt=o.ref);for(j in o)m$2.call(o,j)&&!p$2.hasOwnProperty(j)&&(_e[j]=o[j]);if(a&&a.defaultProps)for(j in o=a.defaultProps,o)_e[j]===void 0&&(_e[j]=o[j]);return{$$typeof:k$1,type:a,key:et,ref:tt,props:_e,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function o(Kt,Qt){var fn=Kt.length;Kt.push(Qt);e:for(;0<fn;){var ln=fn-1>>>1,vn=Kt[ln];if(0<_e(vn,Qt))Kt[ln]=Qt,Kt[fn]=vn,fn=ln;else break e}}function $(Kt){return Kt.length===0?null:Kt[0]}function j(Kt){if(Kt.length===0)return null;var Qt=Kt[0],fn=Kt.pop();if(fn!==Qt){Kt[0]=fn;e:for(var ln=0,vn=Kt.length,Cn=vn>>>1;ln<Cn;){var kn=2*(ln+1)-1,_n=Kt[kn],Ut=kn+1,Vt=Kt[Ut];if(0>_e(_n,fn))Ut<vn&&0>_e(Vt,_n)?(Kt[ln]=Vt,Kt[Ut]=fn,ln=Ut):(Kt[ln]=_n,Kt[kn]=fn,ln=kn);else if(Ut<vn&&0>_e(Vt,fn))Kt[ln]=Vt,Kt[Ut]=fn,ln=Ut;else break e}}return Qt}function _e(Kt,Qt){var fn=Kt.sortIndex-Qt.sortIndex;return fn!==0?fn:Kt.id-Qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;a.unstable_now=function(){return et.now()}}else{var tt=Date,rt=tt.now();a.unstable_now=function(){return tt.now()-rt}}var ot=[],st=[],at=1,ut=null,ct=3,vt=!1,ht=!1,yt=!1,bt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Tt(Kt){for(var Qt=$(st);Qt!==null;){if(Qt.callback===null)j(st);else if(Qt.startTime<=Kt)j(st),Qt.sortIndex=Qt.expirationTime,o(ot,Qt);else break;Qt=$(st)}}function Ct(Kt){if(yt=!1,Tt(Kt),!ht)if($(ot)!==null)ht=!0,an(Et);else{var Qt=$(st);Qt!==null&&pn(Ct,Qt.startTime-Kt)}}function Et(Kt,Qt){ht=!1,yt&&(yt=!1,dt(wt),wt=-1),vt=!0;var fn=ct;try{for(Tt(Qt),ut=$(ot);ut!==null&&(!(ut.expirationTime>Qt)||Kt&&!Lt());){var ln=ut.callback;if(typeof ln=="function"){ut.callback=null,ct=ut.priorityLevel;var vn=ln(ut.expirationTime<=Qt);Qt=a.unstable_now(),typeof vn=="function"?ut.callback=vn:ut===$(ot)&&j(ot),Tt(Qt)}else j(ot);ut=$(ot)}if(ut!==null)var Cn=!0;else{var kn=$(st);kn!==null&&pn(Ct,kn.startTime-Qt),Cn=!1}return Cn}finally{ut=null,ct=fn,vt=!1}}var St=!1,gt=null,wt=-1,Mt=5,Ot=-1;function Lt(){return!(a.unstable_now()-Ot<Mt)}function jt(){if(gt!==null){var Kt=a.unstable_now();Ot=Kt;var Qt=!0;try{Qt=gt(!0,Kt)}finally{Qt?Jt():(St=!1,gt=null)}}else St=!1}var Jt;if(typeof xt=="function")Jt=function(){xt(jt)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,rn=qt.port2;qt.port1.onmessage=jt,Jt=function(){rn.postMessage(null)}}else Jt=function(){bt(jt,0)};function an(Kt){gt=Kt,St||(St=!0,Jt())}function pn(Kt,Qt){wt=bt(function(){Kt(a.unstable_now())},Qt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Kt){Kt.callback=null},a.unstable_continueExecution=function(){ht||vt||(ht=!0,an(Et))},a.unstable_forceFrameRate=function(Kt){0>Kt||125<Kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Kt?Math.floor(1e3/Kt):5},a.unstable_getCurrentPriorityLevel=function(){return ct},a.unstable_getFirstCallbackNode=function(){return $(ot)},a.unstable_next=function(Kt){switch(ct){case 1:case 2:case 3:var Qt=3;break;default:Qt=ct}var fn=ct;ct=Qt;try{return Kt()}finally{ct=fn}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Kt,Qt){switch(Kt){case 1:case 2:case 3:case 4:case 5:break;default:Kt=3}var fn=ct;ct=Kt;try{return Qt()}finally{ct=fn}},a.unstable_scheduleCallback=function(Kt,Qt,fn){var ln=a.unstable_now();switch(typeof fn=="object"&&fn!==null?(fn=fn.delay,fn=typeof fn=="number"&&0<fn?ln+fn:ln):fn=ln,Kt){case 1:var vn=-1;break;case 2:vn=250;break;case 5:vn=1073741823;break;case 4:vn=1e4;break;default:vn=5e3}return vn=fn+vn,Kt={id:at++,callback:Qt,priorityLevel:Kt,startTime:fn,expirationTime:vn,sortIndex:-1},fn>ln?(Kt.sortIndex=fn,o(st,Kt),$(ot)===null&&Kt===$(st)&&(yt?(dt(wt),wt=-1):yt=!0,pn(Ct,fn-ln))):(Kt.sortIndex=vn,o(ot,Kt),ht||vt||(ht=!0,an(Et))),Kt},a.unstable_shouldYield=Lt,a.unstable_wrapCallback=function(Kt){var Qt=ct;return function(){var fn=ct;ct=Qt;try{return Kt.apply(this,arguments)}finally{ct=fn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,$=1;$<arguments.length;$++)o+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,o){ha(a,o),ha(a+"Capture",o)}function ha(a,o){for(ea[a]=o,a=0;a<o.length;a++)da.add(o[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,o,$,j){if($!==null&&$.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:$!==null?!$.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,o,$,j){if(o===null||typeof o>"u"||pa(a,o,$,j))return!0;if(j)return!1;if($!==null)switch($.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$1(a,o,$,j,_e,et,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=$,this.propertyName=a,this.type=o,this.sanitizeURL=et,this.removeEmptyString=tt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];z$1[o]=new v$1(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$1(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$1(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ra,sa);z$1[o]=new v$1(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,o,$,j){var _e=z$1.hasOwnProperty(o)?z$1[o]:null;(_e!==null?_e.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,$,_e,j)&&($=null),j||_e===null?oa(o)&&($===null?a.removeAttribute(o):a.setAttribute(o,""+$)):_e.mustUseProperty?a[_e.propertyName]=$===null?_e.type===3?!1:"":$:(o=_e.attributeName,j=_e.attributeNamespace,$===null?a.removeAttribute(o):(_e=_e.type,$=_e===3||_e===4&&$===!0?"":""+$,j?a.setAttributeNS(j,o,$):a.setAttribute(o,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch($){var o=$.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+a}var Na=!1;function Oa(a,o){if(!a||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(st){var j=st}Reflect.construct(a,[],o)}else{try{o.call()}catch(st){j=st}a.call(o.prototype)}else{try{throw Error()}catch(st){j=st}a()}}catch(st){if(st&&j&&typeof st.stack=="string"){for(var _e=st.stack.split(`
`),et=j.stack.split(`
`),tt=_e.length-1,rt=et.length-1;1<=tt&&0<=rt&&_e[tt]!==et[rt];)rt--;for(;1<=tt&&0<=rt;tt--,rt--)if(_e[tt]!==et[rt]){if(tt!==1||rt!==1)do if(tt--,rt--,0>rt||_e[tt]!==et[rt]){var ot=`
`+_e[tt].replace(" at new "," at ");return a.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",a.displayName)),ot}while(1<=tt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return o=a.displayName||null,o!==null?o:Qa(a.type)||"Memo";case Ha:o=a._payload,a=a._init;try{return Qa(a(o))}catch{}}return null}function Ra(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(a){var o=Ta(a)?"checked":"value",$=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),j=""+a[o];if(!a.hasOwnProperty(o)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var _e=$.get,et=$.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,et.call(this,tt)}}),Object.defineProperty(a,o,{enumerable:$.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var $=o.getValue(),j="";return a&&(j=Ta(a)?a.checked?"true":"false":a.value),a=j,a!==$?(o.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,o){var $=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??a._wrapperState.initialChecked})}function Za(a,o){var $=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;$=Sa(o.value!=null?o.value:$),a._wrapperState={initialChecked:j,initialValue:$,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(a,o){o=o.checked,o!=null&&ta(a,"checked",o,!1)}function bb(a,o){ab(a,o);var $=Sa(o.value),j=o.type;if($!=null)j==="number"?($===0&&a.value===""||a.value!=$)&&(a.value=""+$):a.value!==""+$&&(a.value=""+$);else if(j==="submit"||j==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?cb(a,o.type,$):o.hasOwnProperty("defaultValue")&&cb(a,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function db(a,o,$){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,$||o===a.value||(a.value=o),a.defaultValue=o}$=a.name,$!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,$!==""&&(a.name=$)}function cb(a,o,$){(o!=="number"||Xa(a.ownerDocument)!==a)&&($==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+$&&(a.defaultValue=""+$))}var eb=Array.isArray;function fb(a,o,$,j){if(a=a.options,o){o={};for(var _e=0;_e<$.length;_e++)o["$"+$[_e]]=!0;for($=0;$<a.length;$++)_e=o.hasOwnProperty("$"+a[$].value),a[$].selected!==_e&&(a[$].selected=_e),_e&&j&&(a[$].defaultSelected=!0)}else{for($=""+Sa($),o=null,_e=0;_e<a.length;_e++){if(a[_e].value===$){a[_e].selected=!0,j&&(a[_e].defaultSelected=!0);return}o!==null||a[_e].disabled||(o=a[_e])}o!==null&&(o.selected=!0)}}function gb(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,o){var $=o.value;if($==null){if($=o.children,o=o.defaultValue,$!=null){if(o!=null)throw Error(p$1(92));if(eb($)){if(1<$.length)throw Error(p$1(93));$=$[0]}o=$}o==null&&(o=""),$=o}a._wrapperState={initialValue:Sa($)}}function ib(a,o){var $=Sa(o.value),j=Sa(o.defaultValue);$!=null&&($=""+$,$!==a.value&&(a.value=$),o.defaultValue==null&&a.defaultValue!==$&&(a.defaultValue=$)),j!=null&&(a.defaultValue=""+j)}function jb(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,$,j,_e){MSApp.execUnsafeLocalFunction(function(){return a(o,$,j,_e)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function ob(a,o){if(o){var $=a.firstChild;if($&&$===a.lastChild&&$.nodeType===3){$.nodeValue=o;return}}a.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),pb[o]=pb[a]})});function rb(a,o,$){return o==null||typeof o=="boolean"||o===""?"":$||typeof o!="number"||o===0||pb.hasOwnProperty(a)&&pb[a]?(""+o).trim():o+"px"}function sb(a,o){a=a.style;for(var $ in o)if(o.hasOwnProperty($)){var j=$.indexOf("--")===0,_e=rb($,o[$],j);$==="float"&&($="cssFloat"),j?a.setProperty($,_e):a[$]=_e}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,o){if(o){if(tb[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$1(280));var o=a.stateNode;o&&(o=Db(o),yb(a.stateNode,a.type,o))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,o=Ab;if(Ab=zb=null,Bb(a),o)for(a=0;a<o.length;a++)Bb(o[a])}}function Gb(a,o){return a(o)}function Hb(){}var Ib=!1;function Jb(a,o,$){if(Ib)return a(o,$);Ib=!0;try{return Gb(a,o,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,o){var $=a.stateNode;if($===null)return null;var j=Db($);if(j===null)return null;$=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(a=a.type,j=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!j;break e;default:a=!1}if(a)return null;if($&&typeof $!="function")throw Error(p$1(231,o,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,o,$,j,_e,et,tt,rt,ot){var st=Array.prototype.slice.call(arguments,3);try{o.apply($,st)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,o,$,j,_e,et,tt,rt,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,o,$,j,_e,et,tt,rt,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=st)}}function Vb(a){var o=a,$=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&($=o.return),a=o.return;while(a)}return o.tag===3?$:null}function Wb(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$1(188))}function Yb(a){var o=a.alternate;if(!o){if(o=Vb(a),o===null)throw Error(p$1(188));return o!==a?null:a}for(var $=a,j=o;;){var _e=$.return;if(_e===null)break;var et=_e.alternate;if(et===null){if(j=_e.return,j!==null){$=j;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===$)return Xb(_e),a;if(et===j)return Xb(_e),o;et=et.sibling}throw Error(p$1(188))}if($.return!==j.return)$=_e,j=et;else{for(var tt=!1,rt=_e.child;rt;){if(rt===$){tt=!0,$=_e,j=et;break}if(rt===j){tt=!0,j=_e,$=et;break}rt=rt.sibling}if(!tt){for(rt=et.child;rt;){if(rt===$){tt=!0,$=et,j=_e;break}if(rt===j){tt=!0,j=et,$=_e;break}rt=rt.sibling}if(!tt)throw Error(p$1(189))}}if($.alternate!==j)throw Error(p$1(190))}if($.tag!==3)throw Error(p$1(188));return $.stateNode.current===$?a:o}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=$b(a);if(o!==null)return o;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,o){var $=a.pendingLanes;if($===0)return 0;var j=0,_e=a.suspendedLanes,et=a.pingedLanes,tt=$&268435455;if(tt!==0){var rt=tt&~_e;rt!==0?j=tc(rt):(et&=tt,et!==0&&(j=tc(et)))}else tt=$&~_e,tt!==0?j=tc(tt):et!==0&&(j=tc(et));if(j===0)return 0;if(o!==0&&o!==j&&!(o&_e)&&(_e=j&-j,et=o&-o,_e>=et||_e===16&&(et&4194240)!==0))return o;if(j&4&&(j|=$&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=j;0<o;)$=31-oc(o),_e=1<<$,j|=a[$],o&=~_e;return j}function vc(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,o){for(var $=a.suspendedLanes,j=a.pingedLanes,_e=a.expirationTimes,et=a.pendingLanes;0<et;){var tt=31-oc(et),rt=1<<tt,ot=_e[tt];ot===-1?(!(rt&$)||rt&j)&&(_e[tt]=vc(rt,o)):ot<=o&&(a.expiredLanes|=rt),et&=~rt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var o=[],$=0;31>$;$++)o.push(a);return o}function Ac(a,o,$){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-oc(o),a[o]=$}function Bc(a,o){var $=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var j=a.eventTimes;for(a=a.expirationTimes;0<$;){var _e=31-oc($),et=1<<_e;o[_e]=0,j[_e]=-1,a[_e]=-1,$&=~et}}function Cc(a,o){var $=a.entangledLanes|=o;for(a=a.entanglements;$;){var j=31-oc($),_e=1<<j;_e&o|a[j]&o&&(a[j]|=o),$&=~_e}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,o){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(a,o,$,j,_e,et){return a===null||a.nativeEvent!==et?(a={blockedOn:o,domEventName:$,eventSystemFlags:j,nativeEvent:et,targetContainers:[_e]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),a):(a.eventSystemFlags|=j,o=a.targetContainers,_e!==null&&o.indexOf(_e)===-1&&o.push(_e),a)}function Uc(a,o,$,j,_e){switch(o){case"focusin":return Lc=Tc(Lc,a,o,$,j,_e),!0;case"dragenter":return Mc=Tc(Mc,a,o,$,j,_e),!0;case"mouseover":return Nc=Tc(Nc,a,o,$,j,_e),!0;case"pointerover":var et=_e.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,a,o,$,j,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc.set(et,Tc(Pc.get(et)||null,a,o,$,j,_e)),!0}return!1}function Vc(a){var o=Wc(a.target);if(o!==null){var $=Vb(o);if($!==null){if(o=$.tag,o===13){if(o=Wb($),o!==null){a.blockedOn=o,Ic(a.priority,function(){Gc($)});return}}else if(o===3&&$.stateNode.current.memoizedState.isDehydrated){a.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var $=Yc(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if($===null){$=a.nativeEvent;var j=new $.constructor($.type,$);wb=j,$.target.dispatchEvent(j),wb=null}else return o=Cb($),o!==null&&Fc(o),a.blockedOn=$,!1;o.shift()}return!0}function Zc(a,o,$){Xc(a)&&$.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,o){a.blockedOn===o&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function o(_e){return ad(_e,a)}if(0<Kc.length){ad(Kc[0],a);for(var $=1;$<Kc.length;$++){var j=Kc[$];j.blockedOn===a&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(o),Pc.forEach(o),$=0;$<Qc.length;$++)j=Qc[$],j.blockedOn===a&&(j.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,o,$,j){var _e=C,et=cd.transition;cd.transition=null;try{C=1,fd(a,o,$,j)}finally{C=_e,cd.transition=et}}function gd(a,o,$,j){var _e=C,et=cd.transition;cd.transition=null;try{C=4,fd(a,o,$,j)}finally{C=_e,cd.transition=et}}function fd(a,o,$,j){if(dd){var _e=Yc(a,o,$,j);if(_e===null)hd(a,o,j,id,$),Sc(a,j);else if(Uc(_e,a,o,$,j))j.stopPropagation();else if(Sc(a,j),o&4&&-1<Rc.indexOf(a)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec(et),et=Yc(a,o,$,j),et===null&&hd(a,o,j,id,$),et===_e)break;_e=et}_e!==null&&j.stopPropagation()}else hd(a,o,j,null,$)}}var id=null;function Yc(a,o,$,j){if(id=null,a=xb(j),a=Wc(a),a!==null)if(o=Vb(a),o===null)a=null;else if($=o.tag,$===13){if(a=Wb(o),a!==null)return a;a=null}else if($===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,o=ld,$=o.length,j,_e="value"in kd?kd.value:kd.textContent,et=_e.length;for(a=0;a<$&&o[a]===_e[a];a++);var tt=$-a;for(j=1;j<=tt&&o[$-j]===_e[et-j];j++);return md=_e.slice(a,1<j?1-j:void 0)}function od(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function o($,j,_e,et,tt){this._reactName=$,this._targetInst=_e,this.type=j,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var rt in a)a.hasOwnProperty(rt)&&($=a[rt],this[rt]=$?$(et):et[rt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Od[a])?!!o[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var o=Md[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(a,o){switch(a){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,o){switch(a){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return a=o.data,a===ee&&fe?null:a;default:return null}}function ke(a,o){if(ie)return a==="compositionend"||!ae&&ge(a,o)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!le[a.type]:o==="textarea"}function ne(a,o,$,j){Eb(j),o=oe(o,"onChange"),0<o.length&&($=new td("onChange","change",null,$,j),a.push({event:$,listeners:o}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var o=ue(a);if(Wa(o))return a}function ve(a,o){if(a==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,a,xb(a)),Jb(re,o)}}function Ce(a,o,$){a==="focusin"?(Ae(),pe=o,qe=$,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,o){if(a==="click")return te(o)}function Fe(a,o){if(a==="input"||a==="change")return te(o)}function Ge(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,o){if(He(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var $=Object.keys(a),j=Object.keys(o);if($.length!==j.length)return!1;for(j=0;j<$.length;j++){var _e=$[j];if(!ja.call(o,_e)||!He(a[_e],o[_e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,o){var $=Je(a);a=0;for(var j;$;){if($.nodeType===3){if(j=a+$.textContent.length,a<=o&&j>=o)return{node:$,offset:o-a};a=j}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Le(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var a=window,o=Xa();o instanceof a.HTMLIFrameElement;){try{var $=typeof o.contentWindow.location.href=="string"}catch{$=!1}if($)a=o.contentWindow;else break;o=Xa(a.document)}return o}function Ne(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Oe(a){var o=Me(),$=a.focusedElem,j=a.selectionRange;if(o!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(j!==null&&Ne($)){if(o=j.start,a=j.end,a===void 0&&(a=o),"selectionStart"in $)$.selectionStart=o,$.selectionEnd=Math.min(a,$.value.length);else if(a=(o=$.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var _e=$.textContent.length,et=Math.min(j.start,_e);j=j.end===void 0?et:Math.min(j.end,_e),!a.extend&&et>j&&(_e=j,j=et,et=_e),_e=Ke($,et);var tt=Ke($,j);_e&&tt&&(a.rangeCount!==1||a.anchorNode!==_e.node||a.anchorOffset!==_e.offset||a.focusNode!==tt.node||a.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart(_e.node,_e.offset),a.removeAllRanges(),et>j?(a.addRange(o),a.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),a.addRange(o)))}}for(o=[],a=$;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<o.length;$++)a=o[$],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,o,$){var j=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td("onSelect","select",null,o,$),a.push({event:o,listeners:j}),o.target=Qe)))}function Ve(a,o){var $={};return $[a.toLowerCase()]=o.toLowerCase(),$["Webkit"+a]="webkit"+o,$["Moz"+a]="moz"+o,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var o=We[a],$;for($ in o)if(o.hasOwnProperty($)&&$ in Ye)return Xe[a]=o[$];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,o){df.set(a,o),fa(o,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,o,$){var j=a.type||"unknown-event";a.currentTarget=$,Ub(j,o,void 0,a),a.currentTarget=null}function se(a,o){o=(o&4)!==0;for(var $=0;$<a.length;$++){var j=a[$],_e=j.event;j=j.listeners;e:{var et=void 0;if(o)for(var tt=j.length-1;0<=tt;tt--){var rt=j[tt],ot=rt.instance,st=rt.currentTarget;if(rt=rt.listener,ot!==et&&_e.isPropagationStopped())break e;nf(_e,rt,st),et=ot}else for(tt=0;tt<j.length;tt++){if(rt=j[tt],ot=rt.instance,st=rt.currentTarget,rt=rt.listener,ot!==et&&_e.isPropagationStopped())break e;nf(_e,rt,st),et=ot}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D(a,o){var $=o[of];$===void 0&&($=o[of]=new Set);var j=a+"__bubble";$.has(j)||(pf(o,a,2,!1),$.add(j))}function qf(a,o,$){var j=0;o&&(j|=4),pf($,a,j,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,a),qf($,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(a,o,$,j){switch(jd(o)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}$=_e.bind(null,o,$,a),_e=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_e=!0),j?_e!==void 0?a.addEventListener(o,$,{capture:!0,passive:_e}):a.addEventListener(o,$,!0):_e!==void 0?a.addEventListener(o,$,{passive:_e}):a.addEventListener(o,$,!1)}function hd(a,o,$,j,_e){var et=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var rt=j.stateNode.containerInfo;if(rt===_e||rt.nodeType===8&&rt.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var ot=tt.tag;if((ot===3||ot===4)&&(ot=tt.stateNode.containerInfo,ot===_e||ot.nodeType===8&&ot.parentNode===_e))return;tt=tt.return}for(;rt!==null;){if(tt=Wc(rt),tt===null)return;if(ot=tt.tag,ot===5||ot===6){j=et=tt;continue e}rt=rt.parentNode}}j=j.return}Jb(function(){var st=et,at=xb($),ut=[];e:{var ct=df.get(a);if(ct!==void 0){var vt=td,ht=a;switch(a){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":ht="focus",vt=Fd;break;case"focusout":ht="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var yt=(o&4)!==0,bt=!yt&&a==="scroll",dt=yt?ct!==null?ct+"Capture":null:ct;yt=[];for(var xt=st,Tt;xt!==null;){Tt=xt;var Ct=Tt.stateNode;if(Tt.tag===5&&Ct!==null&&(Tt=Ct,dt!==null&&(Ct=Kb(xt,dt),Ct!=null&&yt.push(tf(xt,Ct,Tt)))),bt)break;xt=xt.return}0<yt.length&&(ct=new vt(ct,ht,null,$,at),ut.push({event:ct,listeners:yt}))}}if(!(o&7)){e:{if(ct=a==="mouseover"||a==="pointerover",vt=a==="mouseout"||a==="pointerout",ct&&$!==wb&&(ht=$.relatedTarget||$.fromElement)&&(Wc(ht)||ht[uf]))break e;if((vt||ct)&&(ct=at.window===at?at:(ct=at.ownerDocument)?ct.defaultView||ct.parentWindow:window,vt?(ht=$.relatedTarget||$.toElement,vt=st,ht=ht?Wc(ht):null,ht!==null&&(bt=Vb(ht),ht!==bt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(vt=null,ht=st),vt!==ht)){if(yt=Bd,Ct="onMouseLeave",dt="onMouseEnter",xt="mouse",(a==="pointerout"||a==="pointerover")&&(yt=Td,Ct="onPointerLeave",dt="onPointerEnter",xt="pointer"),bt=vt==null?ct:ue(vt),Tt=ht==null?ct:ue(ht),ct=new yt(Ct,xt+"leave",vt,$,at),ct.target=bt,ct.relatedTarget=Tt,Ct=null,Wc(at)===st&&(yt=new yt(dt,xt+"enter",ht,$,at),yt.target=Tt,yt.relatedTarget=bt,Ct=yt),bt=Ct,vt&&ht)t:{for(yt=vt,dt=ht,xt=0,Tt=yt;Tt;Tt=vf(Tt))xt++;for(Tt=0,Ct=dt;Ct;Ct=vf(Ct))Tt++;for(;0<xt-Tt;)yt=vf(yt),xt--;for(;0<Tt-xt;)dt=vf(dt),Tt--;for(;xt--;){if(yt===dt||dt!==null&&yt===dt.alternate)break t;yt=vf(yt),dt=vf(dt)}yt=null}else yt=null;vt!==null&&wf(ut,ct,vt,yt,!1),ht!==null&&bt!==null&&wf(ut,bt,ht,yt,!0)}}e:{if(ct=st?ue(st):window,vt=ct.nodeName&&ct.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ct.type==="file")var Et=ve;else if(me(ct))if(we)Et=Fe;else{Et=De;var St=Ce}else(vt=ct.nodeName)&&vt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Et=Ee);if(Et&&(Et=Et(a,st))){ne(ut,Et,$,at);break e}St&&St(a,ct,st),a==="focusout"&&(St=ct._wrapperState)&&St.controlled&&ct.type==="number"&&cb(ct,"number",ct.value)}switch(St=st?ue(st):window,a){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,$,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,$,at)}var gt;if(ae)e:{switch(a){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge(a,$)&&(wt="onCompositionEnd"):a==="keydown"&&$.keyCode===229&&(wt="onCompositionStart");wt&&(de&&$.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(gt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie=!0)),St=oe(st,wt),0<St.length&&(wt=new Ld(wt,a,null,$,at),ut.push({event:wt,listeners:St}),gt?wt.data=gt:(gt=he($),gt!==null&&(wt.data=gt)))),(gt=ce?je(a,$):ke(a,$))&&(st=oe(st,"onBeforeInput"),0<st.length&&(at=new Ld("onBeforeInput","beforeinput",null,$,at),ut.push({event:at,listeners:st}),at.data=gt))}se(ut,o)})}function tf(a,o,$){return{instance:a,listener:o,currentTarget:$}}function oe(a,o){for(var $=o+"Capture",j=[];a!==null;){var _e=a,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb(a,$),et!=null&&j.unshift(tf(a,et,_e)),et=Kb(a,o),et!=null&&j.push(tf(a,et,_e))),a=a.return}return j}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,o,$,j,_e){for(var et=o._reactName,tt=[];$!==null&&$!==j;){var rt=$,ot=rt.alternate,st=rt.stateNode;if(ot!==null&&ot===j)break;rt.tag===5&&st!==null&&(rt=st,_e?(ot=Kb($,et),ot!=null&&tt.unshift(tf($,ot,rt))):_e||(ot=Kb($,et),ot!=null&&tt.push(tf($,ot,rt)))),$=$.return}tt.length!==0&&a.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,o,$){if(o=zf(o),zf(a)!==o&&$)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,o){var $=o,j=0;do{var _e=$.nextSibling;if(a.removeChild($),_e&&_e.nodeType===8)if($=_e.data,$==="/$"){if(j===0){a.removeChild(_e),bd(o);return}j--}else $!=="$"&&$!=="$?"&&$!=="$!"||j++;$=_e}while($);bd(o)}function Lf(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var $=a.data;if($==="$"||$==="$!"||$==="$?"){if(o===0)return a;o--}else $==="/$"&&o++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var o=a[Of];if(o)return o;for(var $=a.parentNode;$;){if(o=$[uf]||$[Of]){if($=o.alternate,o.child!==null||$!==null&&$.child!==null)for(a=Mf(a);a!==null;){if($=a[Of])return $;a=Mf(a)}return o}a=$,$=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$1(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,o){Tf++,Sf[Tf]=a.current,a.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,o){var $=a.type.contextTypes;if(!$)return Vf;var j=a.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in $)_e[et]=o[et];return j&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H)}function ag(a,o,$){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,$)}function bg(a,o,$){var j=a.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return $;j=j.getChildContext();for(var _e in j)if(!(_e in o))throw Error(p$1(108,Ra(a)||"Unknown",_e));return A$1({},$,j)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,a),G(Wf,Wf.current),!0}function dg(a,o,$){var j=a.stateNode;if(!j)throw Error(p$1(169));$?(a=bg(a,o,Xf),j.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,o=C;try{var $=eg;for(C=1;a<$.length;a++){var j=$[a];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),_e}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,o){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=o}function ug(a,o,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var j=rg;a=sg;var _e=32-oc(j)-1;j&=~(1<<_e),$+=1;var et=32-oc(o)+_e;if(30<et){var tt=_e-_e%5;et=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc(o)+_e|$<<_e|j,sg=et+a}else rg=1<<et|$<<_e|j,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,o){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=o,$.return=a,o=a.deletions,o===null?(a.deletions=[$],a.flags|=16):o.push($)}function Cg(a,o){switch(a.tag){case 5:var $=a.type;return o=o.nodeType!==1||$.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,xg=a,yg=Lf(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,xg=a,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?($=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:o,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=o,$.return=a,a.child=$,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var o=yg;if(o){var $=o;if(!Cg(a,o)){if(Dg(a))throw Error(p$1(418));o=Lf($.nextSibling);var j=xg;o&&Cg(a,o)?Ag(j,$):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p$1(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ef(a.type,a.memoizedProps)),o&&(o=yg)){if(Dg(a))throw Hg(),Error(p$1(418));for(;o;)Ag(a,o),o=Lf(o.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$1(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var $=a.data;if($==="/$"){if(o===0){yg=Lf(a.nextSibling);break e}o--}else $!=="$"&&$!=="$!"&&$!=="$?"||o++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,o){if(a&&a.defaultProps){o=A$1({},o),a=a.defaultProps;for(var $ in a)o[$]===void 0&&(o[$]=a[$]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var o=Mg.current;E(Mg),a._currentValue=o}function Sg(a,o,$){for(;a!==null;){var j=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),a===$)break;a=a.return}}function Tg(a,o){Ng=a,Pg=Og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(Ug=!0),a.firstContext=null)}function Vg(a){var o=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=a,Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return o}var Wg=null;function Xg(a){Wg===null?Wg=[a]:Wg.push(a)}function Yg(a,o,$,j){var _e=o.interleaved;return _e===null?($.next=$,Xg(o)):($.next=_e.next,_e.next=$),o.interleaved=$,Zg(a,j)}function Zg(a,o){a.lanes|=o;var $=a.alternate;for($!==null&&($.lanes|=o),$=a,a=a.return;a!==null;)a.childLanes|=o,$=a.alternate,$!==null&&($.childLanes|=o),$=a,a=a.return;return $.tag===3?$.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(a,o,$){var j=a.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var _e=j.pending;return _e===null?o.next=o:(o.next=_e.next,_e.next=o),j.pending=o,Zg(a,$)}return _e=j.interleaved,_e===null?(o.next=o,Xg(j)):(o.next=_e.next,_e.next=o),j.interleaved=o,Zg(a,$)}function eh(a,o,$){if(o=o.updateQueue,o!==null&&(o=o.shared,($&4194240)!==0)){var j=o.lanes;j&=a.pendingLanes,$|=j,o.lanes=$,Cc(a,$)}}function fh(a,o){var $=a.updateQueue,j=a.alternate;if(j!==null&&(j=j.updateQueue,$===j)){var _e=null,et=null;if($=$.firstBaseUpdate,$!==null){do{var tt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};et===null?_e=et=tt:et=et.next=tt,$=$.next}while($!==null);et===null?_e=et=o:et=et.next=o}else _e=et=o;$={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:j.shared,effects:j.effects},a.updateQueue=$;return}a=$.lastBaseUpdate,a===null?$.firstBaseUpdate=o:a.next=o,$.lastBaseUpdate=o}function gh(a,o,$,j){var _e=a.updateQueue;$g=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,rt=_e.shared.pending;if(rt!==null){_e.shared.pending=null;var ot=rt,st=ot.next;ot.next=null,tt===null?et=st:tt.next=st,tt=ot;var at=a.alternate;at!==null&&(at=at.updateQueue,rt=at.lastBaseUpdate,rt!==tt&&(rt===null?at.firstBaseUpdate=st:rt.next=st,at.lastBaseUpdate=ot))}if(et!==null){var ut=_e.baseState;tt=0,at=st=ot=null,rt=et;do{var ct=rt.lane,vt=rt.eventTime;if((j&ct)===ct){at!==null&&(at=at.next={eventTime:vt,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var ht=a,yt=rt;switch(ct=o,vt=$,yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){ut=ht.call(vt,ut,ct);break e}ut=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,ct=typeof ht=="function"?ht.call(vt,ut,ct):ht,ct==null)break e;ut=A$1({},ut,ct);break e;case 2:$g=!0}}rt.callback!==null&&rt.lane!==0&&(a.flags|=64,ct=_e.effects,ct===null?_e.effects=[rt]:ct.push(rt))}else vt={eventTime:vt,lane:ct,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},at===null?(st=at=vt,ot=ut):at=at.next=vt,tt|=ct;if(rt=rt.next,rt===null){if(rt=_e.shared.pending,rt===null)break;ct=rt,rt=ct.next,ct.next=null,_e.lastBaseUpdate=ct,_e.shared.pending=null}}while(1);if(at===null&&(ot=ut),_e.baseState=ot,_e.firstBaseUpdate=st,_e.lastBaseUpdate=at,o=_e.shared.interleaved,o!==null){_e=o;do tt|=_e.lane,_e=_e.next;while(_e!==o)}else et===null&&(_e.shared.lanes=0);hh|=tt,a.lanes=tt,a.memoizedState=ut}}function ih(a,o,$){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var j=a[o],_e=j.callback;if(_e!==null){if(j.callback=null,j=$,typeof _e!="function")throw Error(p$1(191,_e));_e.call(j)}}}var jh=new aa.Component().refs;function kh(a,o,$,j){o=a.memoizedState,$=$(j,o),$=$==null?o:A$1({},o,$),a.memoizedState=$,a.lanes===0&&(a.updateQueue.baseState=$)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,o,$){a=a._reactInternals;var j=L(),_e=lh(a),et=ch(j,_e);et.payload=o,$!=null&&(et.callback=$),o=dh(a,et,_e),o!==null&&(mh(o,a,_e,j),eh(o,a,_e))},enqueueReplaceState:function(a,o,$){a=a._reactInternals;var j=L(),_e=lh(a),et=ch(j,_e);et.tag=1,et.payload=o,$!=null&&(et.callback=$),o=dh(a,et,_e),o!==null&&(mh(o,a,_e,j),eh(o,a,_e))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var $=L(),j=lh(a),_e=ch($,j);_e.tag=2,o!=null&&(_e.callback=o),o=dh(a,_e,j),o!==null&&(mh(o,a,j,$),eh(o,a,j))}};function oh(a,o,$,j,_e,et,tt){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(j,et,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie($,j)||!Ie(_e,et):!0}function ph(a,o,$){var j=!1,_e=Vf,et=o.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(_e=Zf(o)?Xf:H.current,j=o.contextTypes,et=(j=j!=null)?Yf(a,_e):Vf),o=new o($,et),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,a.stateNode=o,o._reactInternals=a,j&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_e,a.__reactInternalMemoizedMaskedChildContext=et),o}function qh(a,o,$,j){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps($,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps($,j),o.state!==a&&nh.enqueueReplaceState(o,o.state,null)}function rh(a,o,$,j){var _e=a.stateNode;_e.props=$,_e.state=a.memoizedState,_e.refs=jh,ah(a);var et=o.contextType;typeof et=="object"&&et!==null?_e.context=Vg(et):(et=Zf(o)?Xf:H.current,_e.context=Yf(a,et)),_e.state=a.memoizedState,et=o.getDerivedStateFromProps,typeof et=="function"&&(kh(a,o,et,$),_e.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(o=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),o!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh(a,$,_e,j),_e.state=a.memoizedState),typeof _e.componentDidMount=="function"&&(a.flags|=4194308)}function sh(a,o,$){if(a=$.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$1(309));var j=$.stateNode}if(!j)throw Error(p$1(147,a));var _e=j,et=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===et?o.ref:(o=function(tt){var rt=_e.refs;rt===jh&&(rt=_e.refs={}),tt===null?delete rt[et]:rt[et]=tt},o._stringRef=et,o)}if(typeof a!="string")throw Error(p$1(284));if(!$._owner)throw Error(p$1(290,a))}return a}function th(a,o){throw a=Object.prototype.toString.call(o),Error(p$1(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function uh(a){var o=a._init;return o(a._payload)}function vh(a){function o(dt,xt){if(a){var Tt=dt.deletions;Tt===null?(dt.deletions=[xt],dt.flags|=16):Tt.push(xt)}}function $(dt,xt){if(!a)return null;for(;xt!==null;)o(dt,xt),xt=xt.sibling;return null}function j(dt,xt){for(dt=new Map;xt!==null;)xt.key!==null?dt.set(xt.key,xt):dt.set(xt.index,xt),xt=xt.sibling;return dt}function _e(dt,xt){return dt=wh(dt,xt),dt.index=0,dt.sibling=null,dt}function et(dt,xt,Tt){return dt.index=Tt,a?(Tt=dt.alternate,Tt!==null?(Tt=Tt.index,Tt<xt?(dt.flags|=2,xt):Tt):(dt.flags|=2,xt)):(dt.flags|=1048576,xt)}function tt(dt){return a&&dt.alternate===null&&(dt.flags|=2),dt}function rt(dt,xt,Tt,Ct){return xt===null||xt.tag!==6?(xt=xh(Tt,dt.mode,Ct),xt.return=dt,xt):(xt=_e(xt,Tt),xt.return=dt,xt)}function ot(dt,xt,Tt,Ct){var Et=Tt.type;return Et===ya?at(dt,xt,Tt.props.children,Ct,Tt.key):xt!==null&&(xt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&uh(Et)===xt.type)?(Ct=_e(xt,Tt.props),Ct.ref=sh(dt,xt,Tt),Ct.return=dt,Ct):(Ct=yh(Tt.type,Tt.key,Tt.props,null,dt.mode,Ct),Ct.ref=sh(dt,xt,Tt),Ct.return=dt,Ct)}function st(dt,xt,Tt,Ct){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==Tt.containerInfo||xt.stateNode.implementation!==Tt.implementation?(xt=zh(Tt,dt.mode,Ct),xt.return=dt,xt):(xt=_e(xt,Tt.children||[]),xt.return=dt,xt)}function at(dt,xt,Tt,Ct,Et){return xt===null||xt.tag!==7?(xt=Ah(Tt,dt.mode,Ct,Et),xt.return=dt,xt):(xt=_e(xt,Tt),xt.return=dt,xt)}function ut(dt,xt,Tt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=xh(""+xt,dt.mode,Tt),xt.return=dt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return Tt=yh(xt.type,xt.key,xt.props,null,dt.mode,Tt),Tt.ref=sh(dt,null,xt),Tt.return=dt,Tt;case wa:return xt=zh(xt,dt.mode,Tt),xt.return=dt,xt;case Ha:var Ct=xt._init;return ut(dt,Ct(xt._payload),Tt)}if(eb(xt)||Ka(xt))return xt=Ah(xt,dt.mode,Tt,null),xt.return=dt,xt;th(dt,xt)}return null}function ct(dt,xt,Tt,Ct){var Et=xt!==null?xt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return Et!==null?null:rt(dt,xt,""+Tt,Ct);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return Tt.key===Et?ot(dt,xt,Tt,Ct):null;case wa:return Tt.key===Et?st(dt,xt,Tt,Ct):null;case Ha:return Et=Tt._init,ct(dt,xt,Et(Tt._payload),Ct)}if(eb(Tt)||Ka(Tt))return Et!==null?null:at(dt,xt,Tt,Ct,null);th(dt,Tt)}return null}function vt(dt,xt,Tt,Ct,Et){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return dt=dt.get(Tt)||null,rt(xt,dt,""+Ct,Et);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case va:return dt=dt.get(Ct.key===null?Tt:Ct.key)||null,ot(xt,dt,Ct,Et);case wa:return dt=dt.get(Ct.key===null?Tt:Ct.key)||null,st(xt,dt,Ct,Et);case Ha:var St=Ct._init;return vt(dt,xt,Tt,St(Ct._payload),Et)}if(eb(Ct)||Ka(Ct))return dt=dt.get(Tt)||null,at(xt,dt,Ct,Et,null);th(xt,Ct)}return null}function ht(dt,xt,Tt,Ct){for(var Et=null,St=null,gt=xt,wt=xt=0,Mt=null;gt!==null&&wt<Tt.length;wt++){gt.index>wt?(Mt=gt,gt=null):Mt=gt.sibling;var Ot=ct(dt,gt,Tt[wt],Ct);if(Ot===null){gt===null&&(gt=Mt);break}a&&gt&&Ot.alternate===null&&o(dt,gt),xt=et(Ot,xt,wt),St===null?Et=Ot:St.sibling=Ot,St=Ot,gt=Mt}if(wt===Tt.length)return $(dt,gt),I&&tg(dt,wt),Et;if(gt===null){for(;wt<Tt.length;wt++)gt=ut(dt,Tt[wt],Ct),gt!==null&&(xt=et(gt,xt,wt),St===null?Et=gt:St.sibling=gt,St=gt);return I&&tg(dt,wt),Et}for(gt=j(dt,gt);wt<Tt.length;wt++)Mt=vt(gt,dt,wt,Tt[wt],Ct),Mt!==null&&(a&&Mt.alternate!==null&&gt.delete(Mt.key===null?wt:Mt.key),xt=et(Mt,xt,wt),St===null?Et=Mt:St.sibling=Mt,St=Mt);return a&&gt.forEach(function(Lt){return o(dt,Lt)}),I&&tg(dt,wt),Et}function yt(dt,xt,Tt,Ct){var Et=Ka(Tt);if(typeof Et!="function")throw Error(p$1(150));if(Tt=Et.call(Tt),Tt==null)throw Error(p$1(151));for(var St=Et=null,gt=xt,wt=xt=0,Mt=null,Ot=Tt.next();gt!==null&&!Ot.done;wt++,Ot=Tt.next()){gt.index>wt?(Mt=gt,gt=null):Mt=gt.sibling;var Lt=ct(dt,gt,Ot.value,Ct);if(Lt===null){gt===null&&(gt=Mt);break}a&&gt&&Lt.alternate===null&&o(dt,gt),xt=et(Lt,xt,wt),St===null?Et=Lt:St.sibling=Lt,St=Lt,gt=Mt}if(Ot.done)return $(dt,gt),I&&tg(dt,wt),Et;if(gt===null){for(;!Ot.done;wt++,Ot=Tt.next())Ot=ut(dt,Ot.value,Ct),Ot!==null&&(xt=et(Ot,xt,wt),St===null?Et=Ot:St.sibling=Ot,St=Ot);return I&&tg(dt,wt),Et}for(gt=j(dt,gt);!Ot.done;wt++,Ot=Tt.next())Ot=vt(gt,dt,wt,Ot.value,Ct),Ot!==null&&(a&&Ot.alternate!==null&&gt.delete(Ot.key===null?wt:Ot.key),xt=et(Ot,xt,wt),St===null?Et=Ot:St.sibling=Ot,St=Ot);return a&&gt.forEach(function(jt){return o(dt,jt)}),I&&tg(dt,wt),Et}function bt(dt,xt,Tt,Ct){if(typeof Tt=="object"&&Tt!==null&&Tt.type===ya&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:e:{for(var Et=Tt.key,St=xt;St!==null;){if(St.key===Et){if(Et=Tt.type,Et===ya){if(St.tag===7){$(dt,St.sibling),xt=_e(St,Tt.props.children),xt.return=dt,dt=xt;break e}}else if(St.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&uh(Et)===St.type){$(dt,St.sibling),xt=_e(St,Tt.props),xt.ref=sh(dt,St,Tt),xt.return=dt,dt=xt;break e}$(dt,St);break}else o(dt,St);St=St.sibling}Tt.type===ya?(xt=Ah(Tt.props.children,dt.mode,Ct,Tt.key),xt.return=dt,dt=xt):(Ct=yh(Tt.type,Tt.key,Tt.props,null,dt.mode,Ct),Ct.ref=sh(dt,xt,Tt),Ct.return=dt,dt=Ct)}return tt(dt);case wa:e:{for(St=Tt.key;xt!==null;){if(xt.key===St)if(xt.tag===4&&xt.stateNode.containerInfo===Tt.containerInfo&&xt.stateNode.implementation===Tt.implementation){$(dt,xt.sibling),xt=_e(xt,Tt.children||[]),xt.return=dt,dt=xt;break e}else{$(dt,xt);break}else o(dt,xt);xt=xt.sibling}xt=zh(Tt,dt.mode,Ct),xt.return=dt,dt=xt}return tt(dt);case Ha:return St=Tt._init,bt(dt,xt,St(Tt._payload),Ct)}if(eb(Tt))return ht(dt,xt,Tt,Ct);if(Ka(Tt))return yt(dt,xt,Tt,Ct);th(dt,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"?(Tt=""+Tt,xt!==null&&xt.tag===6?($(dt,xt.sibling),xt=_e(xt,Tt),xt.return=dt,dt=xt):($(dt,xt),xt=xh(Tt,dt.mode,Ct),xt.return=dt,dt=xt),tt(dt)):$(dt,xt)}return bt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p$1(174));return a}function Ih(a,o){switch(G(Gh,o),G(Fh,a),G(Eh,Dh),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=lb(o,a)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(a){Hh(Gh.current);var o=Hh(Eh.current),$=lb(o,a.type);o!==$&&(G(Fh,a),G(Eh,$))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(a){for(var o=a;o!==null;){if(o.tag===13){var $=o.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(a,o){if(o===null)return!1;for(var $=0;$<o.length&&$<a.length;$++)if(!He(a[$],o[$]))return!1;return!0}function Xh(a,o,$,j,_e,et){if(Rh=et,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=a===null||a.memoizedState===null?Yh:Zh,a=$(j,_e),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$1(301));et+=1,P=O=null,o.updateQueue=null,Ph.current=$h,a=$(j,_e)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$1(300));return a}function bi(){var a=Uh!==0;return Uh=0,a}function ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=a:P=P.next=a,P}function di(){if(O===null){var a=N.alternate;a=a!==null?a.memoizedState:null}else a=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=a;else{if(a===null)throw Error(p$1(310));O=a,a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=a:P=P.next=a}return P}function ei(a,o){return typeof o=="function"?o(a):o}function fi(a){var o=di(),$=o.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=a;var j=O,_e=j.baseQueue,et=$.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}j.baseQueue=_e=et,$.pending=null}if(_e!==null){et=_e.next,j=j.baseState;var rt=tt=null,ot=null,st=et;do{var at=st.lane;if((Rh&at)===at)ot!==null&&(ot=ot.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),j=st.hasEagerState?st.eagerState:a(j,st.action);else{var ut={lane:at,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};ot===null?(rt=ot=ut,tt=j):ot=ot.next=ut,N.lanes|=at,hh|=at}st=st.next}while(st!==null&&st!==et);ot===null?tt=j:ot.next=rt,He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseState=tt,o.baseQueue=ot,$.lastRenderedState=j}if(a=$.interleaved,a!==null){_e=a;do et=_e.lane,N.lanes|=et,hh|=et,_e=_e.next;while(_e!==a)}else _e===null&&($.lanes=0);return[o.memoizedState,$.dispatch]}function gi(a){var o=di(),$=o.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=a;var j=$.dispatch,_e=$.pending,et=o.memoizedState;if(_e!==null){$.pending=null;var tt=_e=_e.next;do et=a(et,tt.action),tt=tt.next;while(tt!==_e);He(et,o.memoizedState)||(Ug=!0),o.memoizedState=et,o.baseQueue===null&&(o.baseState=et),$.lastRenderedState=et}return[et,j]}function hi(){}function ii(a,o){var $=N,j=di(),_e=o(),et=!He(j.memoizedState,_e);if(et&&(j.memoizedState=_e,Ug=!0),j=j.queue,ji(ki.bind(null,$,j,a),[a]),j.getSnapshot!==o||et||P!==null&&P.memoizedState.tag&1){if($.flags|=2048,li(9,mi.bind(null,$,j,_e,o),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni($,o,_e)}return _e}function ni(a,o,$){a.flags|=16384,a={getSnapshot:o,value:$},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[a]):($=o.stores,$===null?o.stores=[a]:$.push(a))}function mi(a,o,$,j){o.value=$,o.getSnapshot=j,oi(o)&&pi(a)}function ki(a,o,$){return $(function(){oi(o)&&pi(a)})}function oi(a){var o=a.getSnapshot;a=a.value;try{var $=o();return!He(a,$)}catch{return!0}}function pi(a){var o=Zg(a,1);o!==null&&mh(o,a,1,-1)}function qi(a){var o=ci();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},o.queue=a,a=a.dispatch=ri.bind(null,N,a),[o.memoizedState,a]}function li(a,o,$,j){return a={tag:a,create:o,destroy:$,deps:j,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=a.next=a):($=o.lastEffect,$===null?o.lastEffect=a.next=a:(j=$.next,$.next=a,a.next=j,o.lastEffect=a)),a}function si(){return di().memoizedState}function ti(a,o,$,j){var _e=ci();N.flags|=a,_e.memoizedState=li(1|o,$,void 0,j===void 0?null:j)}function ui(a,o,$,j){var _e=di();j=j===void 0?null:j;var et=void 0;if(O!==null){var tt=O.memoizedState;if(et=tt.destroy,j!==null&&Wh(j,tt.deps)){_e.memoizedState=li(o,$,et,j);return}}N.flags|=a,_e.memoizedState=li(1|o,$,et,j)}function vi(a,o){return ti(8390656,8,a,o)}function ji(a,o){return ui(2048,8,a,o)}function wi(a,o){return ui(4,2,a,o)}function xi(a,o){return ui(4,4,a,o)}function yi(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zi(a,o,$){return $=$!=null?$.concat([a]):null,ui(4,4,yi.bind(null,o,a),$)}function Ai(){}function Bi(a,o){var $=di();o=o===void 0?null:o;var j=$.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:($.memoizedState=[a,o],a)}function Ci(a,o){var $=di();o=o===void 0?null:o;var j=$.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:(a=a(),$.memoizedState=[a,o],a)}function Di(a,o,$){return Rh&21?(He($,o)||($=yc(),N.lanes|=$,hh|=$,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=$)}function Ei(a,o){var $=C;C=$!==0&&4>$?$:4,a(!0);var j=Qh.transition;Qh.transition={};try{a(!1),o()}finally{C=$,Qh.transition=j}}function Fi(){return di().memoizedState}function Gi(a,o,$){var j=lh(a);if($={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null},Hi(a))Ii(o,$);else if($=Yg(a,o,$,j),$!==null){var _e=L();mh($,a,j,_e),Ji($,o,j)}}function ri(a,o,$){var j=lh(a),_e={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(o,_e);else{var et=a.alternate;if(a.lanes===0&&(et===null||et.lanes===0)&&(et=o.lastRenderedReducer,et!==null))try{var tt=o.lastRenderedState,rt=et(tt,$);if(_e.hasEagerState=!0,_e.eagerState=rt,He(rt,tt)){var ot=o.interleaved;ot===null?(_e.next=_e,Xg(o)):(_e.next=ot.next,ot.next=_e),o.interleaved=_e;return}}catch{}finally{}$=Yg(a,o,_e,j),$!==null&&(_e=L(),mh($,a,j,_e),Ji($,o,j))}}function Hi(a){var o=a.alternate;return a===N||o!==null&&o===N}function Ii(a,o){Th=Sh=!0;var $=a.pending;$===null?o.next=o:(o.next=$.next,$.next=o),a.pending=o}function Ji(a,o,$){if($&4194240){var j=o.lanes;j&=a.pendingLanes,$|=j,o.lanes=$,Cc(a,$)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,o){return ci().memoizedState=[a,o===void 0?null:o],a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,o,$){return $=$!=null?$.concat([a]):null,ti(4194308,4,yi.bind(null,o,a),$)},useLayoutEffect:function(a,o){return ti(4194308,4,a,o)},useInsertionEffect:function(a,o){return ti(4,2,a,o)},useMemo:function(a,o){var $=ci();return o=o===void 0?null:o,a=a(),$.memoizedState=[a,o],a},useReducer:function(a,o,$){var j=ci();return o=$!==void 0?$(o):o,j.memoizedState=j.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},j.queue=a,a=a.dispatch=Gi.bind(null,N,a),[j.memoizedState,a]},useRef:function(a){var o=ci();return a={current:a},o.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),o=a[0];return a=Ei.bind(null,a[1]),ci().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,$){var j=N,_e=ci();if(I){if($===void 0)throw Error(p$1(407));$=$()}else{if($=o(),R===null)throw Error(p$1(349));Rh&30||ni(j,o,$)}_e.memoizedState=$;var et={value:$,getSnapshot:o};return _e.queue=et,vi(ki.bind(null,j,et,a),[a]),j.flags|=2048,li(9,mi.bind(null,j,et,$,o),void 0,null),$},useId:function(){var a=ci(),o=R.identifierPrefix;if(I){var $=sg,j=rg;$=(j&~(1<<32-oc(j)-1)).toString(32)+$,o=":"+o+"R"+$,$=Uh++,0<$&&(o+="H"+$.toString(32)),o+=":"}else $=Vh++,o=":"+o+"r"+$.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var o=di();return Di(o,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],o=di().memoizedState;return[a,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var o=di();return O===null?o.memoizedState=a:Di(o,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],o=di().memoizedState;return[a,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,o){try{var $="",j=o;do $+=Pa(j),j=j.return;while(j);var _e=$}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:a,source:o,stack:_e,digest:null}}function Li(a,o,$){return{value:a,source:null,stack:$??null,digest:o??null}}function Mi(a,o){try{console.error(o.value)}catch($){setTimeout(function(){throw $})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(a,o,$){$=ch(-1,$),$.tag=3,$.payload={element:null};var j=o.value;return $.callback=function(){Pi||(Pi=!0,Qi=j),Mi(a,o)},$}function Ri(a,o,$){$=ch(-1,$),$.tag=3;var j=a.type.getDerivedStateFromError;if(typeof j=="function"){var _e=o.value;$.payload=function(){return j(_e)},$.callback=function(){Mi(a,o)}}var et=a.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&($.callback=function(){Mi(a,o),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),$}function Ti(a,o,$){var j=a.pingCache;if(j===null){j=a.pingCache=new Ni;var _e=new Set;j.set(o,_e)}else _e=j.get(o),_e===void 0&&(_e=new Set,j.set(o,_e));_e.has($)||(_e.add($),a=Ui.bind(null,a,o,$),o.then(a,a))}function Vi(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Wi(a,o,$,j,_e){return a.mode&1?(a.flags|=65536,a.lanes=_e,a):(a===o?a.flags|=65536:(a.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(o=ch(-1,1),o.tag=2,dh($,o,1))),$.lanes|=1),a)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,o,$,j){o.child=a===null?Ch(o,null,$,j):Bh(o,a.child,$,j)}function Zi(a,o,$,j,_e){$=$.render;var et=o.ref;return Tg(o,_e),j=Xh(a,o,$,j,et,_e),$=bi(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~_e,$i(a,o,_e)):(I&&$&&vg(o),o.flags|=1,Yi(a,o,j,_e),o.child)}function aj(a,o,$,j,_e){if(a===null){var et=$.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(o.tag=15,o.type=et,cj(a,o,et,j,_e)):(a=yh($.type,null,j,o,o.mode,_e),a.ref=o.ref,a.return=o,o.child=a)}if(et=a.child,!(a.lanes&_e)){var tt=et.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(tt,j)&&a.ref===o.ref)return $i(a,o,_e)}return o.flags|=1,a=wh(et,j),a.ref=o.ref,a.return=o,o.child=a}function cj(a,o,$,j,_e){if(a!==null){var et=a.memoizedProps;if(Ie(et,j)&&a.ref===o.ref)if(Ug=!1,o.pendingProps=j=et,(a.lanes&_e)!==0)a.flags&131072&&(Ug=!0);else return o.lanes=a.lanes,$i(a,o,_e)}return dj(a,o,$,j,_e)}function ej(a,o,$){var j=o.pendingProps,_e=j.children,et=a!==null?a.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=$;else{if(!($&1073741824))return a=et!==null?et.baseLanes|$:$,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:$,G(fj,gj),gj|=j}else et!==null?(j=et.baseLanes|$,o.memoizedState=null):j=$,G(fj,gj),gj|=j;return Yi(a,o,_e,$),o.child}function hj(a,o){var $=o.ref;(a===null&&$!==null||a!==null&&a.ref!==$)&&(o.flags|=512,o.flags|=2097152)}function dj(a,o,$,j,_e){var et=Zf($)?Xf:H.current;return et=Yf(o,et),Tg(o,_e),$=Xh(a,o,$,j,et,_e),j=bi(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~_e,$i(a,o,_e)):(I&&j&&vg(o),o.flags|=1,Yi(a,o,$,_e),o.child)}function ij(a,o,$,j,_e){if(Zf($)){var et=!0;cg(o)}else et=!1;if(Tg(o,_e),o.stateNode===null)jj(a,o),ph(o,$,j),rh(o,$,j,_e),j=!0;else if(a===null){var tt=o.stateNode,rt=o.memoizedProps;tt.props=rt;var ot=tt.context,st=$.contextType;typeof st=="object"&&st!==null?st=Vg(st):(st=Zf($)?Xf:H.current,st=Yf(o,st));var at=$.getDerivedStateFromProps,ut=typeof at=="function"||typeof tt.getSnapshotBeforeUpdate=="function";ut||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==j||ot!==st)&&qh(o,tt,j,st),$g=!1;var ct=o.memoizedState;tt.state=ct,gh(o,j,tt,_e),ot=o.memoizedState,rt!==j||ct!==ot||Wf.current||$g?(typeof at=="function"&&(kh(o,$,at,j),ot=o.memoizedState),(rt=$g||oh(o,$,rt,j,ct,ot,st))?(ut||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=ot),tt.props=j,tt.state=ot,tt.context=st,j=rt):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{tt=o.stateNode,bh(a,o),rt=o.memoizedProps,st=o.type===o.elementType?rt:Lg(o.type,rt),tt.props=st,ut=o.pendingProps,ct=tt.context,ot=$.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf($)?Xf:H.current,ot=Yf(o,ot));var vt=$.getDerivedStateFromProps;(at=typeof vt=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==ut||ct!==ot)&&qh(o,tt,j,ot),$g=!1,ct=o.memoizedState,tt.state=ct,gh(o,j,tt,_e);var ht=o.memoizedState;rt!==ut||ct!==ht||Wf.current||$g?(typeof vt=="function"&&(kh(o,$,vt,j),ht=o.memoizedState),(st=$g||oh(o,$,st,j,ct,ht,ot)||!1)?(at||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,ht,ot),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,ht,ot)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||rt===a.memoizedProps&&ct===a.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===a.memoizedProps&&ct===a.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=ht),tt.props=j,tt.state=ht,tt.context=ot,j=st):(typeof tt.componentDidUpdate!="function"||rt===a.memoizedProps&&ct===a.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===a.memoizedProps&&ct===a.memoizedState||(o.flags|=1024),j=!1)}return kj(a,o,$,j,et,_e)}function kj(a,o,$,j,_e,et){hj(a,o);var tt=(o.flags&128)!==0;if(!j&&!tt)return _e&&dg(o,$,!1),$i(a,o,et);j=o.stateNode,Xi.current=o;var rt=tt&&typeof $.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,a!==null&&tt?(o.child=Bh(o,a.child,null,et),o.child=Bh(o,null,rt,et)):Yi(a,o,rt,et),o.memoizedState=j.state,_e&&dg(o,$,!0),o.child}function lj(a){var o=a.stateNode;o.pendingContext?ag(a,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(a,o.context,!1),Ih(a,o.containerInfo)}function mj(a,o,$,j,_e){return Ig(),Jg(_e),o.flags|=256,Yi(a,o,$,j),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,o,$){var j=o.pendingProps,_e=M.current,et=!1,tt=(o.flags&128)!==0,rt;if((rt=tt)||(rt=a!==null&&a.memoizedState===null?!1:(_e&2)!==0),rt?(et=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(_e|=1),G(M,_e&1),a===null)return Eg(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=j.children,a=j.fallback,et?(j=o.mode,et=o.child,tt={mode:"hidden",children:tt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=qj(tt,j,0,null),a=Ah(a,j,$,null),et.return=o,a.return=o,et.sibling=a,o.child=et,o.child.memoizedState=oj($),o.memoizedState=nj,a):rj(o,tt));if(_e=a.memoizedState,_e!==null&&(rt=_e.dehydrated,rt!==null))return sj(a,o,tt,j,rt,_e,$);if(et){et=j.fallback,tt=o.mode,_e=a.child,rt=_e.sibling;var ot={mode:"hidden",children:j.children};return!(tt&1)&&o.child!==_e?(j=o.child,j.childLanes=0,j.pendingProps=ot,o.deletions=null):(j=wh(_e,ot),j.subtreeFlags=_e.subtreeFlags&14680064),rt!==null?et=wh(rt,et):(et=Ah(et,tt,$,null),et.flags|=2),et.return=o,j.return=o,j.sibling=et,o.child=j,j=et,et=o.child,tt=a.child.memoizedState,tt=tt===null?oj($):{baseLanes:tt.baseLanes|$,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=a.childLanes&~$,o.memoizedState=nj,j}return et=a.child,a=et.sibling,j=wh(et,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=$),j.return=o,j.sibling=null,a!==null&&($=o.deletions,$===null?(o.deletions=[a],o.flags|=16):$.push(a)),o.child=j,o.memoizedState=null,j}function rj(a,o){return o=qj({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function tj(a,o,$,j){return j!==null&&Jg(j),Bh(o,a.child,null,$),a=rj(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function sj(a,o,$,j,_e,et,tt){if($)return o.flags&256?(o.flags&=-257,j=Li(Error(p$1(422))),tj(a,o,tt,j)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(et=j.fallback,_e=o.mode,j=qj({mode:"visible",children:j.children},_e,0,null),et=Ah(et,_e,tt,null),et.flags|=2,j.return=o,et.return=o,j.sibling=et,o.child=j,o.mode&1&&Bh(o,a.child,null,tt),o.child.memoizedState=oj(tt),o.memoizedState=nj,et);if(!(o.mode&1))return tj(a,o,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var rt=j.dgst;return j=rt,et=Error(p$1(419)),j=Li(et,j,void 0),tj(a,o,tt,j)}if(rt=(tt&a.childLanes)!==0,Ug||rt){if(j=R,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,Zg(a,_e),mh(j,a,_e,-1))}return uj(),j=Li(Error(p$1(421))),tj(a,o,tt,j)}return _e.data==="$?"?(o.flags|=128,o.child=a.child,o=vj.bind(null,a),_e._reactRetry=o,null):(a=et.treeContext,yg=Lf(_e.nextSibling),xg=o,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=o),o=rj(o,j.children),o.flags|=4096,o)}function wj(a,o,$){a.lanes|=o;var j=a.alternate;j!==null&&(j.lanes|=o),Sg(a.return,o,$)}function xj(a,o,$,j,_e){var et=a.memoizedState;et===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:$,tailMode:_e}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=$,et.tailMode=_e)}function yj(a,o,$){var j=o.pendingProps,_e=j.revealOrder,et=j.tail;if(Yi(a,o,j.children,$),j=M.current,j&2)j=j&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wj(a,$,o);else if(a.tag===19)wj(a,$,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}j&=1}if(G(M,j),!(o.mode&1))o.memoizedState=null;else switch(_e){case"forwards":for($=o.child,_e=null;$!==null;)a=$.alternate,a!==null&&Mh(a)===null&&(_e=$),$=$.sibling;$=_e,$===null?(_e=o.child,o.child=null):(_e=$.sibling,$.sibling=null),xj(o,!1,_e,$,et);break;case"backwards":for($=null,_e=o.child,o.child=null;_e!==null;){if(a=_e.alternate,a!==null&&Mh(a)===null){o.child=_e;break}a=_e.sibling,_e.sibling=$,$=_e,_e=a}xj(o,!0,$,null,et);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function $i(a,o,$){if(a!==null&&(o.dependencies=a.dependencies),hh|=o.lanes,!($&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(p$1(153));if(o.child!==null){for(a=o.child,$=wh(a,a.pendingProps),o.child=$,$.return=o;a.sibling!==null;)a=a.sibling,$=$.sibling=wh(a,a.pendingProps),$.return=o;$.sibling=null}return o.child}function zj(a,o,$){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,_e=o.memoizedProps.value;G(Mg,j._currentValue),j._currentValue=_e;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):$&o.child.childLanes?pj(a,o,$):(G(M,M.current&1),a=$i(a,o,$),a!==null?a.sibling:null);G(M,M.current&1);break;case 19:if(j=($&o.childLanes)!==0,a.flags&128){if(j)return yj(a,o,$);o.flags|=128}if(_e=o.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M,M.current),j)break;return null;case 22:case 23:return o.lanes=0,ej(a,o,$)}return $i(a,o,$)}var Aj,Bj,Cj,Dj;Aj=function(a,o){for(var $=o.child;$!==null;){if($.tag===5||$.tag===6)a.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===o)break;for(;$.sibling===null;){if($.return===null||$.return===o)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Bj=function(){};Cj=function(a,o,$,j){var _e=a.memoizedProps;if(_e!==j){a=o.stateNode,Hh(Eh.current);var et=null;switch($){case"input":_e=Ya(a,_e),j=Ya(a,j),et=[];break;case"select":_e=A$1({},_e,{value:void 0}),j=A$1({},j,{value:void 0}),et=[];break;case"textarea":_e=gb(a,_e),j=gb(a,j),et=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&(a.onclick=Bf)}ub($,j);var tt;$=null;for(st in _e)if(!j.hasOwnProperty(st)&&_e.hasOwnProperty(st)&&_e[st]!=null)if(st==="style"){var rt=_e[st];for(tt in rt)rt.hasOwnProperty(tt)&&($||($={}),$[tt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?et||(et=[]):(et=et||[]).push(st,null));for(st in j){var ot=j[st];if(rt=_e!=null?_e[st]:void 0,j.hasOwnProperty(st)&&ot!==rt&&(ot!=null||rt!=null))if(st==="style")if(rt){for(tt in rt)!rt.hasOwnProperty(tt)||ot&&ot.hasOwnProperty(tt)||($||($={}),$[tt]="");for(tt in ot)ot.hasOwnProperty(tt)&&rt[tt]!==ot[tt]&&($||($={}),$[tt]=ot[tt])}else $||(et||(et=[]),et.push(st,$)),$=ot;else st==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,rt=rt?rt.__html:void 0,ot!=null&&rt!==ot&&(et=et||[]).push(st,ot)):st==="children"?typeof ot!="string"&&typeof ot!="number"||(et=et||[]).push(st,""+ot):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(ot!=null&&st==="onScroll"&&D("scroll",a),et||rt===ot||(et=[])):(et=et||[]).push(st,ot))}$&&(et=et||[]).push("style",$);var st=et;(o.updateQueue=st)&&(o.flags|=4)}};Dj=function(a,o,$,j){$!==j&&(o.flags|=4)};function Ej(a,o){if(!I)switch(a.tailMode){case"hidden":o=a.tail;for(var $=null;o!==null;)o.alternate!==null&&($=o),o=o.sibling;$===null?a.tail=null:$.sibling=null;break;case"collapsed":$=a.tail;for(var j=null;$!==null;)$.alternate!==null&&(j=$),$=$.sibling;j===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:j.sibling=null}}function S(a){var o=a.alternate!==null&&a.alternate.child===a.child,$=0,j=0;if(o)for(var _e=a.child;_e!==null;)$|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=a,_e=_e.sibling;else for(_e=a.child;_e!==null;)$|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=a,_e=_e.sibling;return a.subtreeFlags|=j,a.childLanes=$,o}function Fj(a,o,$){var j=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return j=o.stateNode,Jh(),E(Wf),E(H),Oh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(a===null||a.child===null)&&(Gg(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(a,o),S(o),null;case 5:Lh(o);var _e=Hh(Gh.current);if($=o.type,a!==null&&o.stateNode!=null)Cj(a,o,$,j,_e),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$1(166));return S(o),null}if(a=Hh(Eh.current),Gg(o)){j=o.stateNode,$=o.type;var et=o.memoizedProps;switch(j[Of]=o,j[Pf]=et,a=(o.mode&1)!==0,$){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub($,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=et[tt];tt==="children"?typeof rt=="string"?j.textContent!==rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,a),_e=["children",rt]):typeof rt=="number"&&j.textContent!==""+rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,a),_e=["children",""+rt]):ea.hasOwnProperty(tt)&&rt!=null&&tt==="onScroll"&&D("scroll",j)}switch($){case"input":Va(j),db(j,et,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}j=_e,o.updateQueue=j,j!==null&&(o.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb($)),a==="http://www.w3.org/1999/xhtml"?$==="script"?(a=tt.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof j.is=="string"?a=tt.createElement($,{is:j.is}):(a=tt.createElement($),$==="select"&&(tt=a,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):a=tt.createElementNS(a,$),a[Of]=o,a[Pf]=j,Aj(a,o,!1,!1),o.stateNode=a;e:{switch(tt=vb($,j),$){case"dialog":D("cancel",a),D("close",a),_e=j;break;case"iframe":case"object":case"embed":D("load",a),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],a);_e=j;break;case"source":D("error",a),_e=j;break;case"img":case"image":case"link":D("error",a),D("load",a),_e=j;break;case"details":D("toggle",a),_e=j;break;case"input":Za(a,j),_e=Ya(a,j),D("invalid",a);break;case"option":_e=j;break;case"select":a._wrapperState={wasMultiple:!!j.multiple},_e=A$1({},j,{value:void 0}),D("invalid",a);break;case"textarea":hb(a,j),_e=gb(a,j),D("invalid",a);break;default:_e=j}ub($,_e),rt=_e;for(et in rt)if(rt.hasOwnProperty(et)){var ot=rt[et];et==="style"?sb(a,ot):et==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(a,ot)):et==="children"?typeof ot=="string"?($!=="textarea"||ot!=="")&&ob(a,ot):typeof ot=="number"&&ob(a,""+ot):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?ot!=null&&et==="onScroll"&&D("scroll",a):ot!=null&&ta(a,et,ot,tt))}switch($){case"input":Va(a),db(a,j,!1);break;case"textarea":Va(a),jb(a);break;case"option":j.value!=null&&a.setAttribute("value",""+Sa(j.value));break;case"select":a.multiple=!!j.multiple,et=j.value,et!=null?fb(a,!!j.multiple,et,!1):j.defaultValue!=null&&fb(a,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(a.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(a&&o.stateNode!=null)Dj(a,o,a.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$1(166));if($=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(j=o.stateNode,$=o.memoizedProps,j[Of]=o,(et=j.nodeValue!==$)&&(a=xg,a!==null))switch(a.tag){case 3:Af(j.nodeValue,$,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,$,(a.mode&1)!==0)}et&&(o.flags|=4)}else j=($.nodeType===9?$:$.ownerDocument).createTextNode(j),j[Of]=o,o.stateNode=j}return S(o),null;case 13:if(E(M),j=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,et=!1;else if(et=Gg(o),j!==null&&j.dehydrated!==null){if(a===null){if(!et)throw Error(p$1(318));if(et=o.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return o.flags&65536?o:null}return o.flags&128?(o.lanes=$,o):(j=j!==null,j!==(a!==null&&a.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&(a===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(a,o),a===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),et=o.memoizedState,et===null)return S(o),null;if(j=(o.flags&128)!==0,tt=et.rendering,tt===null)if(j)Ej(et,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(tt=Mh(a),tt!==null){for(o.flags|=128,Ej(et,!1),j=tt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=$,$=o.child;$!==null;)et=$,a=j,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=a,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,a=tt.dependencies,et.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),$=$.sibling;return G(M,M.current&1|2),o.child}a=a.sibling}et.tail!==null&&B()>Hj&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304)}else{if(!j)if(a=Mh(tt),a!==null){if(o.flags|=128,j=!0,$=a.updateQueue,$!==null&&(o.updateQueue=$,o.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-et.renderingStartTime>Hj&&$!==1073741824&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304);et.isBackwards?(tt.sibling=o.child,o.child=tt):($=et.last,$!==null?$.sibling=tt:o.child=tt,et.last=tt)}return et.tail!==null?(o=et.tail,et.rendering=o,et.tail=o.sibling,et.renderingStartTime=B(),o.sibling=null,$=M.current,G(M,j?$&1|2:$&1),o):(S(o),null);case 22:case 23:return Ij(),j=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Jj(a,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(a,o){var $=a.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(j){W(a,o,j)}else $.current=null}function Nj(a,o,$){try{$()}catch(j){W(a,o,j)}}var Oj=!1;function Pj(a,o){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var $={start:a.selectionStart,end:a.selectionEnd};else e:{$=($=a.ownerDocument)&&$.defaultView||window;var j=$.getSelection&&$.getSelection();if(j&&j.rangeCount!==0){$=j.anchorNode;var _e=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{$.nodeType,et.nodeType}catch{$=null;break e}var tt=0,rt=-1,ot=-1,st=0,at=0,ut=a,ct=null;t:for(;;){for(var vt;ut!==$||_e!==0&&ut.nodeType!==3||(rt=tt+_e),ut!==et||j!==0&&ut.nodeType!==3||(ot=tt+j),ut.nodeType===3&&(tt+=ut.nodeValue.length),(vt=ut.firstChild)!==null;)ct=ut,ut=vt;for(;;){if(ut===a)break t;if(ct===$&&++st===_e&&(rt=tt),ct===et&&++at===j&&(ot=tt),(vt=ut.nextSibling)!==null)break;ut=ct,ct=ut.parentNode}ut=vt}$=rt===-1||ot===-1?null:{start:rt,end:ot}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:a,selectionRange:$},dd=!1,V=o;V!==null;)if(o=V,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,V=a;else for(;V!==null;){o=V;try{var ht=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var yt=ht.memoizedProps,bt=ht.memoizedState,dt=o.stateNode,xt=dt.getSnapshotBeforeUpdate(o.elementType===o.type?yt:Lg(o.type,yt),bt);dt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var Tt=o.stateNode.containerInfo;Tt.nodeType===1?Tt.textContent="":Tt.nodeType===9&&Tt.documentElement&&Tt.removeChild(Tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Ct){W(o,o.return,Ct)}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}return ht=Oj,Oj=!1,ht}function Qj(a,o,$){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&a)===a){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Nj(o,$,et)}_e=_e.next}while(_e!==j)}}function Rj(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var $=o=o.next;do{if(($.tag&a)===a){var j=$.create;$.destroy=j()}$=$.next}while($!==o)}}function Sj(a){var o=a.ref;if(o!==null){var $=a.stateNode;switch(a.tag){case 5:a=$;break;default:a=$}typeof o=="function"?o(a):o.current=a}}function Tj(a){var o=a.alternate;o!==null&&(a.alternate=null,Tj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uj(a){return a.tag===5||a.tag===3||a.tag===4}function Vj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,o,$){var j=a.tag;if(j===5||j===6)a=a.stateNode,o?$.nodeType===8?$.parentNode.insertBefore(a,o):$.insertBefore(a,o):($.nodeType===8?(o=$.parentNode,o.insertBefore(a,$)):(o=$,o.appendChild(a)),$=$._reactRootContainer,$!=null||o.onclick!==null||(o.onclick=Bf));else if(j!==4&&(a=a.child,a!==null))for(Wj(a,o,$),a=a.sibling;a!==null;)Wj(a,o,$),a=a.sibling}function Xj(a,o,$){var j=a.tag;if(j===5||j===6)a=a.stateNode,o?$.insertBefore(a,o):$.appendChild(a);else if(j!==4&&(a=a.child,a!==null))for(Xj(a,o,$),a=a.sibling;a!==null;)Xj(a,o,$),a=a.sibling}var X=null,Yj=!1;function Zj(a,o,$){for($=$.child;$!==null;)ak(a,o,$),$=$.sibling}function ak(a,o,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Mj($,o);case 6:var j=X,_e=Yj;X=null,Zj(a,o,$),X=j,Yj=_e,X!==null&&(Yj?(a=X,$=$.stateNode,a.nodeType===8?a.parentNode.removeChild($):a.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Yj?(a=X,$=$.stateNode,a.nodeType===8?Kf(a.parentNode,$):a.nodeType===1&&Kf(a,$),bd(a)):Kf(X,$.stateNode));break;case 4:j=X,_e=Yj,X=$.stateNode.containerInfo,Yj=!0,Zj(a,o,$),X=j,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=$.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Nj($,o,tt),_e=_e.next}while(_e!==j)}Zj(a,o,$);break;case 1:if(!U&&(Mj($,o),j=$.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=$.memoizedProps,j.state=$.memoizedState,j.componentWillUnmount()}catch(rt){W($,o,rt)}Zj(a,o,$);break;case 21:Zj(a,o,$);break;case 22:$.mode&1?(U=(j=U)||$.memoizedState!==null,Zj(a,o,$),U=j):Zj(a,o,$);break;default:Zj(a,o,$)}}function bk(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var $=a.stateNode;$===null&&($=a.stateNode=new Lj),o.forEach(function(j){var _e=ck.bind(null,a,j);$.has(j)||($.add(j),j.then(_e,_e))})}}function dk(a,o){var $=o.deletions;if($!==null)for(var j=0;j<$.length;j++){var _e=$[j];try{var et=a,tt=o,rt=tt;e:for(;rt!==null;){switch(rt.tag){case 5:X=rt.stateNode,Yj=!1;break e;case 3:X=rt.stateNode.containerInfo,Yj=!0;break e;case 4:X=rt.stateNode.containerInfo,Yj=!0;break e}rt=rt.return}if(X===null)throw Error(p$1(160));ak(et,tt,_e),X=null,Yj=!1;var ot=_e.alternate;ot!==null&&(ot.return=null),_e.return=null}catch(st){W(_e,o,st)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,a),o=o.sibling}function ek(a,o){var $=a.alternate,j=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dk(o,a),fk(a),j&4){try{Qj(3,a,a.return),Rj(3,a)}catch(yt){W(a,a.return,yt)}try{Qj(5,a,a.return)}catch(yt){W(a,a.return,yt)}}break;case 1:dk(o,a),fk(a),j&512&&$!==null&&Mj($,$.return);break;case 5:if(dk(o,a),fk(a),j&512&&$!==null&&Mj($,$.return),a.flags&32){var _e=a.stateNode;try{ob(_e,"")}catch(yt){W(a,a.return,yt)}}if(j&4&&(_e=a.stateNode,_e!=null)){var et=a.memoizedProps,tt=$!==null?$.memoizedProps:et,rt=a.type,ot=a.updateQueue;if(a.updateQueue=null,ot!==null)try{rt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(rt,tt);var st=vb(rt,et);for(tt=0;tt<ot.length;tt+=2){var at=ot[tt],ut=ot[tt+1];at==="style"?sb(_e,ut):at==="dangerouslySetInnerHTML"?nb(_e,ut):at==="children"?ob(_e,ut):ta(_e,at,ut,st)}switch(rt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var ct=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var vt=et.value;vt!=null?fb(_e,!!et.multiple,vt,!1):ct!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf]=et}catch(yt){W(a,a.return,yt)}}break;case 6:if(dk(o,a),fk(a),j&4){if(a.stateNode===null)throw Error(p$1(162));_e=a.stateNode,et=a.memoizedProps;try{_e.nodeValue=et}catch(yt){W(a,a.return,yt)}}break;case 3:if(dk(o,a),fk(a),j&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(yt){W(a,a.return,yt)}break;case 4:dk(o,a),fk(a);break;case 13:dk(o,a),fk(a),_e=a.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B())),j&4&&bk(a);break;case 22:if(at=$!==null&&$.memoizedState!==null,a.mode&1?(U=(st=U)||at,dk(o,a),U=st):dk(o,a),fk(a),j&8192){if(st=a.memoizedState!==null,(a.stateNode.isHidden=st)&&!at&&a.mode&1)for(V=a,at=a.child;at!==null;){for(ut=V=at;V!==null;){switch(ct=V,vt=ct.child,ct.tag){case 0:case 11:case 14:case 15:Qj(4,ct,ct.return);break;case 1:Mj(ct,ct.return);var ht=ct.stateNode;if(typeof ht.componentWillUnmount=="function"){j=ct,$=ct.return;try{o=j,ht.props=o.memoizedProps,ht.state=o.memoizedState,ht.componentWillUnmount()}catch(yt){W(j,$,yt)}}break;case 5:Mj(ct,ct.return);break;case 22:if(ct.memoizedState!==null){hk(ut);continue}}vt!==null?(vt.return=ct,V=vt):hk(ut)}at=at.sibling}e:for(at=null,ut=a;;){if(ut.tag===5){if(at===null){at=ut;try{_e=ut.stateNode,st?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(rt=ut.stateNode,ot=ut.memoizedProps.style,tt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,rt.style.display=rb("display",tt))}catch(yt){W(a,a.return,yt)}}}else if(ut.tag===6){if(at===null)try{ut.stateNode.nodeValue=st?"":ut.memoizedProps}catch(yt){W(a,a.return,yt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===a)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===a)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===a)break e;at===ut&&(at=null),ut=ut.return}at===ut&&(at=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:dk(o,a),fk(a),j&4&&bk(a);break;case 21:break;default:dk(o,a),fk(a)}}function fk(a){var o=a.flags;if(o&2){try{e:{for(var $=a.return;$!==null;){if(Uj($)){var j=$;break e}$=$.return}throw Error(p$1(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var et=Vj(a);Xj(a,et,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,rt=Vj(a);Wj(a,rt,tt);break;default:throw Error(p$1(161))}}catch(ot){W(a,a.return,ot)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ik(a,o,$){V=a,jk(a)}function jk(a,o,$){for(var j=(a.mode&1)!==0;V!==null;){var _e=V,et=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Kj;if(!tt){var rt=_e.alternate,ot=rt!==null&&rt.memoizedState!==null||U;rt=Kj;var st=U;if(Kj=tt,(U=ot)&&!st)for(V=_e;V!==null;)tt=V,ot=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(_e):ot!==null?(ot.return=tt,V=ot):kk(_e);for(;et!==null;)V=et,jk(et),et=et.sibling;V=_e,Kj=rt,U=st}lk(a)}else _e.subtreeFlags&8772&&et!==null?(et.return=_e,V=et):lk(a)}}function lk(a){for(;V!==null;){var o=V;if(o.flags&8772){var $=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U)if($===null)j.componentDidMount();else{var _e=o.elementType===o.type?$.memoizedProps:Lg(o.type,$.memoizedProps);j.componentDidUpdate(_e,$.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=o.updateQueue;et!==null&&ih(o,et,j);break;case 3:var tt=o.updateQueue;if(tt!==null){if($=null,o.child!==null)switch(o.child.tag){case 5:$=o.child.stateNode;break;case 1:$=o.child.stateNode}ih(o,tt,$)}break;case 5:var rt=o.stateNode;if($===null&&o.flags&4){$=rt;var ot=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&$.focus();break;case"img":ot.src&&($.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var st=o.alternate;if(st!==null){var at=st.memoizedState;if(at!==null){var ut=at.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Sj(o)}catch(ct){W(o,o.return,ct)}}if(o===a){V=null;break}if($=o.sibling,$!==null){$.return=o.return,V=$;break}V=o.return}}function hk(a){for(;V!==null;){var o=V;if(o===a){V=null;break}var $=o.sibling;if($!==null){$.return=o.return,V=$;break}V=o.return}}function kk(a){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var $=o.return;try{Rj(4,o)}catch(ot){W(o,$,ot)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var _e=o.return;try{j.componentDidMount()}catch(ot){W(o,_e,ot)}}var et=o.return;try{Sj(o)}catch(ot){W(o,et,ot)}break;case 5:var tt=o.return;try{Sj(o)}catch(ot){W(o,tt,ot)}}}catch(ot){W(o,o.return,ot)}if(o===a){V=null;break}var rt=o.sibling;if(rt!==null){rt.return=o.return,V=rt;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function mh(a,o,$,j){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(a,$,j),(!(K&2)||a!==R)&&(a===R&&(!(K&2)&&(rk|=$),T===4&&Dk(a,Z)),Ek(a,j),$===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(a,o){var $=a.callbackNode;wc(a,o);var j=uc(a,a===R?Z:0);if(j===0)$!==null&&bc($),a.callbackNode=null,a.callbackPriority=0;else if(o=j&-j,a.callbackPriority!==o){if($!=null&&bc($),o===1)a.tag===0?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(j)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Gk($,Hk.bind(null,a))}a.callbackPriority=o,a.callbackNode=$}}function Hk(a,o){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var $=a.callbackNode;if(Ik()&&a.callbackNode!==$)return null;var j=uc(a,a===R?Z:0);if(j===0)return null;if(j&30||j&a.expiredLanes||o)o=Jk(a,j);else{o=j;var _e=K;K|=2;var et=Kk();(R!==a||Z!==o)&&(vk=null,Hj=B()+500,Lk(a,o));do try{Mk();break}catch(rt){Nk(a,rt)}while(1);Qg(),nk.current=et,K=_e,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(_e=xc(a),_e!==0&&(j=_e,o=Ok(a,_e))),o===1)throw $=qk,Lk(a,0),Dk(a,j),Ek(a,B()),$;if(o===6)Dk(a,j);else{if(_e=a.current.alternate,!(j&30)&&!Pk(_e)&&(o=Jk(a,j),o===2&&(et=xc(a),et!==0&&(j=et,o=Ok(a,et))),o===1))throw $=qk,Lk(a,0),Dk(a,j),Ek(a,B()),$;switch(a.finishedWork=_e,a.finishedLanes=j,o){case 0:case 1:throw Error(p$1(345));case 2:Qk(a,uk,vk);break;case 3:if(Dk(a,j),(j&130023424)===j&&(o=gk+500-B(),10<o)){if(uc(a,0)!==0)break;if(_e=a.suspendedLanes,(_e&j)!==j){L(),a.pingedLanes|=a.suspendedLanes&_e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),o);break}Qk(a,uk,vk);break;case 4:if(Dk(a,j),(j&4194240)===j)break;for(o=a.eventTimes,_e=-1;0<j;){var tt=31-oc(j);et=1<<tt,tt=o[tt],tt>_e&&(_e=tt),j&=~et}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mk(j/1960))-j,10<j){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),j);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(a,B()),a.callbackNode===$?Hk.bind(null,a):null}function Ok(a,o){var $=tk;return a.current.memoizedState.isDehydrated&&(Lk(a,o).flags|=256),a=Jk(a,o),a!==2&&(o=uk,uk=$,o!==null&&Gj(o)),a}function Gj(a){uk===null?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var o=a;;){if(o.flags&16384){var $=o.updateQueue;if($!==null&&($=$.stores,$!==null))for(var j=0;j<$.length;j++){var _e=$[j],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if($=o.child,o.subtreeFlags&16384&&$!==null)$.return=o,o=$;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(a,o){for(o&=~sk,o&=~rk,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var $=31-oc(o),j=1<<$;a[$]=-1,o&=~j}}function Fk(a){if(K&6)throw Error(p$1(327));Ik();var o=uc(a,0);if(!(o&1))return Ek(a,B()),null;var $=Jk(a,o);if(a.tag!==0&&$===2){var j=xc(a);j!==0&&(o=j,$=Ok(a,j))}if($===1)throw $=qk,Lk(a,0),Dk(a,o),Ek(a,B()),$;if($===6)throw Error(p$1(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Qk(a,uk,vk),Ek(a,B()),null}function Rk(a,o){var $=K;K|=1;try{return a(o)}finally{K=$,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(a){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var $=pk.transition,j=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=j,pk.transition=$,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(a,o){a.finishedWork=null,a.finishedLanes=0;var $=a.timeoutHandle;if($!==-1&&(a.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var j=$;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(j);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(j.type._context);break;case 22:case 23:Ij()}$=$.return}if(R=a,Y=a=wh(a.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if($=Wg[o],j=$.interleaved,j!==null){$.interleaved=null;var _e=j.next,et=$.pending;if(et!==null){var tt=et.next;et.next=_e,j.next=tt}$.pending=j}Wg=null}return a}function Nk(a,o){do{var $=Y;try{if(Qg(),Ph.current=ai,Sh){for(var j=N.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,$===null||$.return===null){T=1,qk=o,Y=null;break}e:{var et=a,tt=$.return,rt=$,ot=o;if(o=Z,rt.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var st=ot,at=rt,ut=at.tag;if(!(at.mode&1)&&(ut===0||ut===11||ut===15)){var ct=at.alternate;ct?(at.updateQueue=ct.updateQueue,at.memoizedState=ct.memoizedState,at.lanes=ct.lanes):(at.updateQueue=null,at.memoizedState=null)}var vt=Vi(tt);if(vt!==null){vt.flags&=-257,Wi(vt,tt,rt,et,o),vt.mode&1&&Ti(et,st,o),o=vt,ot=st;var ht=o.updateQueue;if(ht===null){var yt=new Set;yt.add(ot),o.updateQueue=yt}else ht.add(ot);break e}else{if(!(o&1)){Ti(et,st,o),uj();break e}ot=Error(p$1(426))}}else if(I&&rt.mode&1){var bt=Vi(tt);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),Wi(bt,tt,rt,et,o),Jg(Ki(ot,rt));break e}}et=ot=Ki(ot,rt),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,o&=-o,et.lanes|=o;var dt=Oi(et,ot,o);fh(et,dt);break e;case 1:rt=ot;var xt=et.type,Tt=et.stateNode;if(!(et.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||Tt!==null&&typeof Tt.componentDidCatch=="function"&&(Si===null||!Si.has(Tt)))){et.flags|=65536,o&=-o,et.lanes|=o;var Ct=Ri(et,rt,o);fh(et,Ct);break e}}et=et.return}while(et!==null)}Tk($)}catch(Et){o=Et,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(1)}function Kk(){var a=nk.current;return nk.current=ai,a===null?ai:a}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(a,o){var $=K;K|=2;var j=Kk();(R!==a||Z!==o)&&(vk=null,Lk(a,o));do try{Uk();break}catch(_e){Nk(a,_e)}while(1);if(Qg(),K=$,nk.current=j,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(a){var o=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps,o===null?Tk(a):Y=o,ok.current=null}function Tk(a){var o=a;do{var $=o.alternate;if(a=o.return,o.flags&32768){if($=Jj($,o),$!==null){$.flags&=32767,Y=$;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if($=Fj($,o,gj),$!==null){Y=$;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=a}while(o!==null);T===0&&(T=5)}function Qk(a,o,$){var j=C,_e=pk.transition;try{pk.transition=null,C=1,Xk(a,o,$,j)}finally{pk.transition=_e,C=j}return null}function Xk(a,o,$,j){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));$=a.finishedWork;var _e=a.finishedLanes;if($===null)return null;if(a.finishedWork=null,a.finishedLanes=0,$===a.current)throw Error(p$1(177));a.callbackNode=null,a.callbackPriority=0;var et=$.lanes|$.childLanes;if(Bc(a,et),a===R&&(Y=R=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=($.flags&15990)!==0,$.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var tt=C;C=1;var rt=K;K|=4,ok.current=null,Pj(a,$),ek($,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=$,ik($),dc(),K=rt,C=tt,pk.transition=et}else a.current=$;if(wk&&(wk=!1,xk=a,yk=_e),et=a.pendingLanes,et===0&&(Si=null),mc($.stateNode),Ek(a,B()),o!==null)for(j=a.onRecoverableError,$=0;$<o.length;$++)_e=o[$],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;return yk&1&&a.tag!==0&&Ik(),et=a.pendingLanes,et&1?a===Ak?zk++:(zk=0,Ak=a):zk=0,jg(),null}function Ik(){if(xk!==null){var a=Dc(yk),o=pk.transition,$=C;try{if(pk.transition=null,C=16>a?16:a,xk===null)var j=!1;else{if(a=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var _e=K;for(K|=4,V=a.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var rt=et.deletions;if(rt!==null){for(var ot=0;ot<rt.length;ot++){var st=rt[ot];for(V=st;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Qj(8,at,et)}var ut=at.child;if(ut!==null)ut.return=at,V=ut;else for(;V!==null;){at=V;var ct=at.sibling,vt=at.return;if(Tj(at),at===st){V=null;break}if(ct!==null){ct.return=vt,V=ct;break}V=vt}}}var ht=et.alternate;if(ht!==null){var yt=ht.child;if(yt!==null){ht.child=null;do{var bt=yt.sibling;yt.sibling=null,yt=bt}while(yt!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var dt=et.sibling;if(dt!==null){dt.return=et.return,V=dt;break e}V=et.return}}var xt=a.current;for(V=xt;V!==null;){tt=V;var Tt=tt.child;if(tt.subtreeFlags&2064&&Tt!==null)Tt.return=tt,V=Tt;else e:for(tt=xt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Rj(9,rt)}}catch(Et){W(rt,rt.return,Et)}if(rt===tt){V=null;break e}var Ct=rt.sibling;if(Ct!==null){Ct.return=rt.return,V=Ct;break e}V=rt.return}}if(K=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}j=!0}return j}finally{C=$,pk.transition=o}}return!1}function Yk(a,o,$){o=Ki($,o),o=Oi(a,o,1),a=dh(a,o,1),o=L(),a!==null&&(Ac(a,1,o),Ek(a,o))}function W(a,o,$){if(a.tag===3)Yk(a,a,$);else for(;o!==null;){if(o.tag===3){Yk(o,a,$);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j))){a=Ki($,a),a=Ri(o,a,1),o=dh(o,a,1),a=L(),o!==null&&(Ac(o,1,a),Ek(o,a));break}}o=o.return}}function Ui(a,o,$){var j=a.pingCache;j!==null&&j.delete(o),o=L(),a.pingedLanes|=a.suspendedLanes&$,R===a&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=$),Ek(a,o)}function Zk(a,o){o===0&&(a.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var $=L();a=Zg(a,o),a!==null&&(Ac(a,o,$),Ek(a,$))}function vj(a){var o=a.memoizedState,$=0;o!==null&&($=o.retryLane),Zk(a,$)}function ck(a,o){var $=0;switch(a.tag){case 13:var j=a.stateNode,_e=a.memoizedState;_e!==null&&($=_e.retryLane);break;case 19:j=a.stateNode;break;default:throw Error(p$1(314))}j!==null&&j.delete(o),Zk(a,$)}var Wk;Wk=function(a,o,$){if(a!==null)if(a.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(a.lanes&$)&&!(o.flags&128))return Ug=!1,zj(a,o,$);Ug=!!(a.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;jj(a,o),a=o.pendingProps;var _e=Yf(o,H.current);Tg(o,$),_e=Xh(null,o,j,a,_e,$);var et=bi();return o.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(j)?(et=!0,cg(o)):et=!1,o.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(o),_e.updater=nh,o.stateNode=_e,_e._reactInternals=o,rh(o,j,a,$),o=kj(null,o,j,!0,et,$)):(o.tag=0,I&&et&&vg(o),Yi(null,o,_e,$),o=o.child),o;case 16:j=o.elementType;e:{switch(jj(a,o),a=o.pendingProps,_e=j._init,j=_e(j._payload),o.type=j,_e=o.tag=$k(j),a=Lg(j,a),_e){case 0:o=dj(null,o,j,a,$);break e;case 1:o=ij(null,o,j,a,$);break e;case 11:o=Zi(null,o,j,a,$);break e;case 14:o=aj(null,o,j,Lg(j.type,a),$);break e}throw Error(p$1(306,j,""))}return o;case 0:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),dj(a,o,j,_e,$);case 1:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),ij(a,o,j,_e,$);case 3:e:{if(lj(o),a===null)throw Error(p$1(387));j=o.pendingProps,et=o.memoizedState,_e=et.element,bh(a,o),gh(o,j,null,$);var tt=o.memoizedState;if(j=tt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=et,o.memoizedState=et,o.flags&256){_e=Ki(Error(p$1(423)),o),o=mj(a,o,j,$,_e);break e}else if(j!==_e){_e=Ki(Error(p$1(424)),o),o=mj(a,o,j,$,_e);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,$=Ch(o,null,j,$),o.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),j===_e){o=$i(a,o,$);break e}Yi(a,o,j,$)}o=o.child}return o;case 5:return Kh(o),a===null&&Eg(o),j=o.type,_e=o.pendingProps,et=a!==null?a.memoizedProps:null,tt=_e.children,Ef(j,_e)?tt=null:et!==null&&Ef(j,et)&&(o.flags|=32),hj(a,o),Yi(a,o,tt,$),o.child;case 6:return a===null&&Eg(o),null;case 13:return pj(a,o,$);case 4:return Ih(o,o.stateNode.containerInfo),j=o.pendingProps,a===null?o.child=Bh(o,null,j,$):Yi(a,o,j,$),o.child;case 11:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),Zi(a,o,j,_e,$);case 7:return Yi(a,o,o.pendingProps,$),o.child;case 8:return Yi(a,o,o.pendingProps.children,$),o.child;case 12:return Yi(a,o,o.pendingProps.children,$),o.child;case 10:e:{if(j=o.type._context,_e=o.pendingProps,et=o.memoizedProps,tt=_e.value,G(Mg,j._currentValue),j._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf.current){o=$i(a,o,$);break e}}else for(et=o.child,et!==null&&(et.return=o);et!==null;){var rt=et.dependencies;if(rt!==null){tt=et.child;for(var ot=rt.firstContext;ot!==null;){if(ot.context===j){if(et.tag===1){ot=ch(-1,$&-$),ot.tag=2;var st=et.updateQueue;if(st!==null){st=st.shared;var at=st.pending;at===null?ot.next=ot:(ot.next=at.next,at.next=ot),st.pending=ot}}et.lanes|=$,ot=et.alternate,ot!==null&&(ot.lanes|=$),Sg(et.return,$,o),rt.lanes|=$;break}ot=ot.next}}else if(et.tag===10)tt=et.type===o.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$1(341));tt.lanes|=$,rt=tt.alternate,rt!==null&&(rt.lanes|=$),Sg(tt,$,o),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===o){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Yi(a,o,_e.children,$),o=o.child}return o;case 9:return _e=o.type,j=o.pendingProps.children,Tg(o,$),_e=Vg(_e),j=j(_e),o.flags|=1,Yi(a,o,j,$),o.child;case 14:return j=o.type,_e=Lg(j,o.pendingProps),_e=Lg(j.type,_e),aj(a,o,j,_e,$);case 15:return cj(a,o,o.type,o.pendingProps,$);case 17:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),jj(a,o),o.tag=1,Zf(j)?(a=!0,cg(o)):a=!1,Tg(o,$),ph(o,j,_e),rh(o,j,_e,$),kj(null,o,j,!0,a,$);case 19:return yj(a,o,$);case 22:return ej(a,o,$)}throw Error(p$1(156,o.tag))};function Gk(a,o){return ac(a,o)}function al(a,o,$,j){this.tag=a,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,o,$,j){return new al(a,o,$,j)}function bj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $k(a){if(typeof a=="function")return bj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function wh(a,o){var $=a.alternate;return $===null?($=Bg(a.tag,o,a.key,a.mode),$.elementType=a.elementType,$.type=a.type,$.stateNode=a.stateNode,$.alternate=a,a.alternate=$):($.pendingProps=o,$.type=a.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=a.flags&14680064,$.childLanes=a.childLanes,$.lanes=a.lanes,$.child=a.child,$.memoizedProps=a.memoizedProps,$.memoizedState=a.memoizedState,$.updateQueue=a.updateQueue,o=a.dependencies,$.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},$.sibling=a.sibling,$.index=a.index,$.ref=a.ref,$}function yh(a,o,$,j,_e,et){var tt=2;if(j=a,typeof a=="function")bj(a)&&(tt=1);else if(typeof a=="string")tt=5;else e:switch(a){case ya:return Ah($.children,_e,et,o);case za:tt=8,_e|=8;break;case Aa:return a=Bg(12,$,o,_e|2),a.elementType=Aa,a.lanes=et,a;case Ea:return a=Bg(13,$,o,_e),a.elementType=Ea,a.lanes=et,a;case Fa:return a=Bg(19,$,o,_e),a.elementType=Fa,a.lanes=et,a;case Ia:return qj($,_e,et,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,j=null;break e}throw Error(p$1(130,a==null?a:typeof a,""))}return o=Bg(tt,$,o,_e),o.elementType=a,o.type=j,o.lanes=et,o}function Ah(a,o,$,j){return a=Bg(7,a,j,o),a.lanes=$,a}function qj(a,o,$,j){return a=Bg(22,a,j,o),a.elementType=Ia,a.lanes=$,a.stateNode={isHidden:!1},a}function xh(a,o,$){return a=Bg(6,a,null,o),a.lanes=$,a}function zh(a,o,$){return o=Bg(4,a.children!==null?a.children:[],a.key,o),o.lanes=$,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function bl(a,o,$,j,_e){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl(a,o,$,j,_e,et,tt,rt,ot){return a=new bl(a,o,$,rt,ot),o===1?(o=1,et===!0&&(o|=8)):o=0,et=Bg(3,null,null,o),a.current=et,et.stateNode=a,et.memoizedState={element:j,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),a}function dl(a,o,$){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:a,containerInfo:o,implementation:$}}function el(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$1(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(a.tag===1){var $=a.type;if(Zf($))return bg(a,$,o)}return o}function fl(a,o,$,j,_e,et,tt,rt,ot){return a=cl($,j,!0,a,_e,et,tt,rt,ot),a.context=el(null),$=a.current,j=L(),_e=lh($),et=ch(j,_e),et.callback=o??null,dh($,et,_e),a.current.lanes=_e,Ac(a,_e,j),Ek(a,j),a}function gl(a,o,$,j){var _e=o.current,et=L(),tt=lh(_e);return $=el($),o.context===null?o.context=$:o.pendingContext=$,o=ch(et,tt),o.payload={element:a},j=j===void 0?null:j,j!==null&&(o.callback=j),a=dh(_e,o,tt),a!==null&&(mh(a,_e,tt,et),eh(a,_e,tt)),tt}function hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var $=a.retryLane;a.retryLane=$!==0&&$<o?$:o}}function jl(a,o){il(a,o),(a=a.alternate)&&il(a,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(p$1(409));gl(a,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Sk(function(){gl(null,a,null,null)}),o[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var o=Hc();a={blockedOn:null,target:a,priority:o};for(var $=0;$<Qc.length&&o!==0&&o<Qc[$].priority;$++);Qc.splice($,0,a),$===0&&Vc(a)}};function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(a,o,$,j,_e){if(_e){if(typeof j=="function"){var et=j;j=function(){var st=hl(tt);et.call(st)}}var tt=fl(o,j,a,0,null,!1,!1,"",ql);return a._reactRootContainer=tt,a[uf]=tt.current,sf(a.nodeType===8?a.parentNode:a),Sk(),tt}for(;_e=a.lastChild;)a.removeChild(_e);if(typeof j=="function"){var rt=j;j=function(){var st=hl(ot);rt.call(st)}}var ot=cl(a,0,!1,null,null,!1,!1,"",ql);return a._reactRootContainer=ot,a[uf]=ot.current,sf(a.nodeType===8?a.parentNode:a),Sk(function(){gl(o,ot,$,j)}),ot}function sl(a,o,$,j,_e){var et=$._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var rt=_e;_e=function(){var ot=hl(tt);rt.call(ot)}}gl(o,tt,a,_e)}else tt=rl($,o,a,_e,j);return hl(tt)}Ec=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var $=tc(o.pendingLanes);$!==0&&(Cc(o,$|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var j=Zg(a,1);if(j!==null){var _e=L();mh(j,a,1,_e)}}),jl(a,1)}};Fc=function(a){if(a.tag===13){var o=Zg(a,134217728);if(o!==null){var $=L();mh(o,a,134217728,$)}jl(a,134217728)}};Gc=function(a){if(a.tag===13){var o=lh(a),$=Zg(a,o);if($!==null){var j=L();mh($,a,o,j)}jl(a,o)}};Hc=function(){return C};Ic=function(a,o){var $=C;try{return C=a,o()}finally{C=$}};yb=function(a,o,$){switch(o){case"input":if(bb(a,$),o=$.name,$.type==="radio"&&o!=null){for($=a;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<$.length;o++){var j=$[o];if(j!==a&&j.form===a.form){var _e=Db(j);if(!_e)throw Error(p$1(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib(a,$);break;case"select":o=$.value,o!=null&&fb(a,!!$.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,o){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$1(200));return dl(a,o,null,$)};reactDom_production_min.createRoot=function(a,o){if(!ol(a))throw Error(p$1(299));var $=!1,j="",_e=ll;return o!=null&&(o.unstable_strictMode===!0&&($=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(_e=o.onRecoverableError)),o=cl(a,1,!1,null,null,$,!1,j,_e),a[uf]=o.current,sf(a.nodeType===8?a.parentNode:a),new ml(o)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(p$1(188)):(a=Object.keys(a).join(","),Error(p$1(268,a)));return a=Zb(o),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,o,$){if(!pl(o))throw Error(p$1(200));return sl(null,a,o,!0,$)};reactDom_production_min.hydrateRoot=function(a,o,$){if(!ol(a))throw Error(p$1(405));var j=$!=null&&$.hydratedSources||null,_e=!1,et="",tt=ll;if($!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),o=fl(o,null,a,1,$??null,_e,!1,et,tt),a[uf]=o.current,sf(a),j)for(a=0;a<j.length;a++)$=j[a],_e=$._getVersion,_e=_e($._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[$,_e]:o.mutableSourceEagerHydrationData.push($,_e);return new nl(o)};reactDom_production_min.render=function(a,o,$){if(!pl(o))throw Error(p$1(200));return sl(null,a,o,!1,$)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p$1(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,o,$,j){if(!pl($))throw Error(p$1(200));if(a==null||a._reactInternals===void 0)throw Error(p$1(38));return sl(a,o,$,!1,j)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;const common$4={black:"#000",white:"#fff"},common$5=common$4,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var $=arguments[o];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends.apply(this,arguments)}function isPlainObject(a){return a!==null&&typeof a=="object"&&a.constructor===Object}function deepClone(a){if(!isPlainObject(a))return a;const o={};return Object.keys(a).forEach($=>{o[$]=deepClone(a[$])}),o}function deepmerge(a,o,$={clone:!0}){const j=$.clone?_extends({},a):a;return isPlainObject(a)&&isPlainObject(o)&&Object.keys(o).forEach(_e=>{_e!=="__proto__"&&(isPlainObject(o[_e])&&_e in a&&isPlainObject(a[_e])?j[_e]=deepmerge(a[_e],o[_e],$):$.clone?j[_e]=isPlainObject(o[_e])?deepClone(o[_e]):o[_e]:j[_e]=o[_e])}),j}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(j,_e,et,tt,rt,ot){if(ot!==ReactPropTypesSecret){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}a.isRequired=a;function o(){return a}var $={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function formatMuiErrorMessage(a){let o="https://mui.com/production-error/?code="+a;for(let $=1;$<arguments.length;$+=1)o+="&args[]="+encodeURIComponent(arguments[$]);return"Minified MUI error #"+a+"; visit "+o+" for the full message."}function capitalize(a){if(typeof a!="string")throw new Error(formatMuiErrorMessage(7));return a.charAt(0).toUpperCase()+a.slice(1)}function createChainedFunction(...a){return a.reduce((o,$)=>$==null?o:function(..._e){o.apply(this,_e),$.apply(this,_e)},()=>{})}function ownerDocument(a){return a&&a.ownerDocument||document}function ownerWindow(a){return ownerDocument(a).defaultView||window}function setRef(a,o){typeof a=="function"?a(o):a&&(a.current=o)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(a){const[o,$]=reactExports.useState(a),j=a||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,$(`mui-${globalId}`))},[o]),j}const maybeReactUseId=React$1["useId".toString()];function useId(a){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return a??o}return useGlobalId(a)}function useControlled({controlled:a,default:o,name:$,state:j="value"}){const{current:_e}=reactExports.useRef(a!==void 0),[et,tt]=reactExports.useState(o),rt=_e?a:et,ot=reactExports.useCallback(st=>{_e||tt(st)},[]);return[rt,ot]}function useEventCallback(a){const o=reactExports.useRef(a);return useEnhancedEffect$1(()=>{o.current=a}),reactExports.useCallback((...$)=>(0,o.current)(...$),[])}function useForkRef(...a){return reactExports.useMemo(()=>a.every(o=>o==null)?null:o=>{a.forEach($=>{setRef($,o)})},a)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(a){const{type:o,tagName:$}=a;return!!($==="INPUT"&&inputTypesWhitelist[o]&&!a.readOnly||$==="TEXTAREA"&&!a.readOnly||a.isContentEditable)}function handleKeyDown(a){a.metaKey||a.altKey||a.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(a){a.addEventListener("keydown",handleKeyDown,!0),a.addEventListener("mousedown",handlePointerDown,!0),a.addEventListener("pointerdown",handlePointerDown,!0),a.addEventListener("touchstart",handlePointerDown,!0),a.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(a){const{target:o}=a;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const a=reactExports.useCallback(_e=>{_e!=null&&prepare(_e.ownerDocument)},[]),o=reactExports.useRef(!1);function $(){return o.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),o.current=!1,!0):!1}function j(_e){return isFocusVisible(_e)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:j,onBlur:$,ref:a}}function getScrollbarSize(a){const o=a.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}const visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},visuallyHidden$1=visuallyHidden;function resolveProps(a,o){const $=_extends({},o);return Object.keys(a).forEach(j=>{if(j.toString().match(/^(components|slots)$/))$[j]=_extends({},a[j],$[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const _e=a[j]||{},et=o[j];$[j]={},!et||!Object.keys(et)?$[j]=_e:!_e||!Object.keys(_e)?$[j]=et:($[j]=_extends({},et),Object.keys(_e).forEach(tt=>{$[j][tt]=resolveProps(_e[tt],et[tt])}))}else $[j]===void 0&&($[j]=a[j])}),$}function composeClasses(a,o,$=void 0){const j={};return Object.keys(a).forEach(_e=>{j[_e]=a[_e].reduce((et,tt)=>{if(tt){const rt=o(tt);rt!==""&&et.push(rt),$&&$[tt]&&et.push($[tt])}return et},[]).join(" ")}),j}const defaultGenerator=a=>a,createClassNameGenerator=()=>{let a=defaultGenerator;return{configure(o){a=o},generate(o){return a(o)},reset(){a=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(a,o,$="Mui"){const j=globalStateClassesMapping[o];return j?`${$}-${j}`:`${ClassNameGenerator$1.generate(a)}-${o}`}function generateUtilityClasses(a,o,$="Mui"){const j={};return o.forEach(_e=>{j[_e]=generateUtilityClass(a,_e,$)}),j}const THEME_ID="$$material";function _objectWithoutPropertiesLoose$1(a,o){if(a==null)return{};var $={},j=Object.keys(a),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&($[_e]=a[_e]);return $}function memoize$1(a){var o=Object.create(null);return function($){return o[$]===void 0&&(o[$]=a($)),o[$]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(a){return reactPropsRegex.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91});const global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function sheetForTag(a){if(a.sheet)return a.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===a)return document.styleSheets[o]}function createStyleElement(a){var o=document.createElement("style");return o.setAttribute("data-emotion",a.key),a.nonce!==void 0&&o.setAttribute("nonce",a.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function a($){var j=this;this._insertTag=function(_e){var et;j.tags.length===0?j.insertionPoint?et=j.insertionPoint.nextSibling:j.prepend?et=j.container.firstChild:et=j.before:et=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(_e,et),j.tags.push(_e)},this.isSpeedy=$.speedy===void 0?!0:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var o=a.prototype;return o.hydrate=function(j){j.forEach(this._insertTag)},o.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _e=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(_e);try{et.insertRule(j,et.cssRules.length)}catch{}}else _e.appendChild(document.createTextNode(j));this.ctr++},o.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},a}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign=Object.assign;function hash(a,o){return charat(a,0)^45?(((o<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim(a){return a.trim()}function match(a,o){return(a=o.exec(a))?a[0]:a}function replace(a,o,$){return a.replace(o,$)}function indexof(a,o){return a.indexOf(o)}function charat(a,o){return a.charCodeAt(o)|0}function substr(a,o,$){return a.slice(o,$)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,o){return o.push(a),a}function combine(a,o){return a.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(a,o,$,j,_e,et,tt){return{value:a,root:o,parent:$,type:j,props:_e,children:et,line,column,length:tt,return:""}}function copy(a,o){return assign(node("",null,null,"",null,null,0),a,{length:-a.length},o)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(a,o){return substr(characters,a,o)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(a){return line=column=1,length=strlen(characters=a),position=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim(slice(position-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(a,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position}function commenter(a,o){for(;next()&&a+character!==47+10;)if(a+character===42+42&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from$1(a===47?a:next())}function identifier(a){for(;!token(peek());)next();return slice(a,position)}function compile(a){return dealloc(parse$3("",null,null,null,[""],a=alloc$1(a),0,[0],a))}function parse$3(a,o,$,j,_e,et,tt,rt,ot){for(var st=0,at=0,ut=tt,ct=0,vt=0,ht=0,yt=1,bt=1,dt=1,xt=0,Tt="",Ct=_e,Et=et,St=j,gt=Tt;bt;)switch(ht=xt,xt=next()){case 40:if(ht!=108&&charat(gt,ut-1)==58){indexof(gt+=replace(delimit(xt),"&","&\f"),"&\f")!=-1&&(dt=-1);break}case 34:case 39:case 91:gt+=delimit(xt);break;case 9:case 10:case 13:case 32:gt+=whitespace(ht);break;case 92:gt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,$),ot);break;default:gt+="/"}break;case 123*yt:rt[st++]=strlen(gt)*dt;case 125*yt:case 59:case 0:switch(xt){case 0:case 125:bt=0;case 59+at:dt==-1&&(gt=replace(gt,/\f/g,"")),vt>0&&strlen(gt)-ut&&append(vt>32?declaration(gt+";",j,$,ut-1):declaration(replace(gt," ","")+";",j,$,ut-2),ot);break;case 59:gt+=";";default:if(append(St=ruleset(gt,o,$,st,at,_e,rt,Tt,Ct=[],Et=[],ut),et),xt===123)if(at===0)parse$3(gt,o,St,St,Ct,et,ut,rt,Et);else switch(ct===99&&charat(gt,3)===110?100:ct){case 100:case 108:case 109:case 115:parse$3(a,St,St,j&&append(ruleset(a,St,St,0,0,_e,rt,Tt,_e,Ct=[],ut),Et),_e,Et,ut,rt,j?Ct:Et);break;default:parse$3(gt,St,St,St,[""],Et,0,rt,Et)}}st=at=vt=0,yt=dt=1,Tt=gt="",ut=tt;break;case 58:ut=1+strlen(gt),vt=ht;default:if(yt<1){if(xt==123)--yt;else if(xt==125&&yt++==0&&prev()==125)continue}switch(gt+=from$1(xt),xt*yt){case 38:dt=at>0?1:(gt+="\f",-1);break;case 44:rt[st++]=(strlen(gt)-1)*dt,dt=1;break;case 64:peek()===45&&(gt+=delimit(next())),ct=peek(),at=ut=strlen(Tt=gt+=identifier(caret())),xt++;break;case 45:ht===45&&strlen(gt)==2&&(yt=0)}}return et}function ruleset(a,o,$,j,_e,et,tt,rt,ot,st,at){for(var ut=_e-1,ct=_e===0?et:[""],vt=sizeof(ct),ht=0,yt=0,bt=0;ht<j;++ht)for(var dt=0,xt=substr(a,ut+1,ut=abs(yt=tt[ht])),Tt=a;dt<vt;++dt)(Tt=trim(yt>0?ct[dt]+" "+xt:replace(xt,/&\f/g,ct[dt])))&&(ot[bt++]=Tt);return node(a,o,$,_e===0?RULESET:rt,ot,st,at)}function comment(a,o,$){return node(a,o,$,COMMENT,from$1(char()),substr(a,2,-2),0)}function declaration(a,o,$,j){return node(a,o,$,DECLARATION,substr(a,0,j),substr(a,j+1,-1),j)}function serialize(a,o){for(var $="",j=sizeof(a),_e=0;_e<j;_e++)$+=o(a[_e],_e,a,o)||"";return $}function stringify(a,o,$,j){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize(a.children,j)+"}";case RULESET:a.value=a.props.join(",")}return strlen($=serialize(a.children,j))?a.return=a.value+"{"+$+"}":""}function middleware(a){var o=sizeof(a);return function($,j,_e,et){for(var tt="",rt=0;rt<o;rt++)tt+=a[rt]($,j,_e,et)||"";return tt}}function rulesheet(a){return function(o){o.root||(o=o.return)&&a(o)}}var identifierWithPointTracking=function(o,$,j){for(var _e=0,et=0;_e=et,et=peek(),_e===38&&et===12&&($[j]=1),!token(et);)next();return slice(o,position)},toRules=function(o,$){var j=-1,_e=44;do switch(token(_e)){case 0:_e===38&&peek()===12&&($[j]=1),o[j]+=identifierWithPointTracking(position-1,$,j);break;case 2:o[j]+=delimit(_e);break;case 4:if(_e===44){o[++j]=peek()===58?"&\f":"",$[j]=o[j].length;break}default:o[j]+=from$1(_e)}while(_e=next());return o},getRules=function(o,$){return dealloc(toRules(alloc$1(o),$))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var $=o.value,j=o.parent,_e=o.column===j.column&&o.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(o.props.length===1&&$.charCodeAt(0)!==58&&!fixedElements.get(j))&&!_e){fixedElements.set(o,!0);for(var et=[],tt=getRules($,et),rt=j.props,ot=0,st=0;ot<tt.length;ot++)for(var at=0;at<rt.length;at++,st++)o.props[st]=et[ot]?tt[ot].replace(/&\f/g,rt[at]):rt[at]+" "+tt[ot]}}},removeLabel=function(o){if(o.type==="decl"){var $=o.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(a,o){switch(hash(a,o)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 6828:case 4268:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/,"")+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-o>6)switch(charat(a,o+1)){case 109:if(charat(a,o+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,o+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch")?prefix(replace(a,"stretch","fill-available"),o)+a:a}break;case 4949:if(charat(a,o+1)!==115)break;case 6444:switch(charat(a,strlen(a)-3-(~indexof(a,"!important")&&10))){case 107:return replace(a,":",":"+WEBKIT)+a;case 101:return replace(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a}break;case 5936:switch(charat(a,o+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return WEBKIT+a+MS+a+a}return a}var prefixer=function(o,$,j,_e){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],_e);case RULESET:if(o.length)return combine(o.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy(o,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var $=o.key;if($==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(yt){var bt=yt.getAttribute("data-emotion");bt.indexOf(" ")!==-1&&(document.head.appendChild(yt),yt.setAttribute("data-s",""))})}var _e=o.stylisPlugins||defaultStylisPlugins,et={},tt,rt=[];tt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(yt){for(var bt=yt.getAttribute("data-emotion").split(" "),dt=1;dt<bt.length;dt++)et[bt[dt]]=!0;rt.push(yt)});var ot,st=[compat,removeLabel];{var at,ut=[stringify,rulesheet(function(yt){at.insert(yt)})],ct=middleware(st.concat(_e,ut)),vt=function(bt){return serialize(compile(bt),ct)};ot=function(bt,dt,xt,Tt){at=xt,vt(bt?bt+"{"+dt.styles+"}":dt.styles),Tt&&(ht.inserted[dt.name]=!0)}}var ht={key:$,sheet:new StyleSheet({key:$,container:tt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:et,registered:{},insert:ot};return ht.sheet.hydrate(rt),ht},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$1=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if(typeof a=="object"&&a!==null){var o=a.$$typeof;switch(o){case c:switch(a=a.type,a){case l:case m:case e$1:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n$1:case t$1:case r$1:case h:return a;default:return o}}case d:return o}}}function A(a){return z(a)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(a){return A(a)||z(a)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(a){return z(a)===k};reactIs_production_min.isContextProvider=function(a){return z(a)===h};reactIs_production_min.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===c};reactIs_production_min.isForwardRef=function(a){return z(a)===n$1};reactIs_production_min.isFragment=function(a){return z(a)===e$1};reactIs_production_min.isLazy=function(a){return z(a)===t$1};reactIs_production_min.isMemo=function(a){return z(a)===r$1};reactIs_production_min.isPortal=function(a){return z(a)===d};reactIs_production_min.isProfiler=function(a){return z(a)===g};reactIs_production_min.isStrictMode=function(a){return z(a)===f};reactIs_production_min.isSuspense=function(a){return z(a)===p};reactIs_production_min.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===e$1||a===m||a===g||a===f||a===p||a===q||typeof a=="object"&&a!==null&&(a.$$typeof===t$1||a.$$typeof===r$1||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n$1||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(a,o,$){var j="";return $.split(" ").forEach(function(_e){a[_e]!==void 0?o.push(a[_e]+";"):j+=_e+" "}),j}var registerStyles=function(o,$,j){var _e=o.key+"-"+$.name;(j===!1||isBrowser===!1)&&o.registered[_e]===void 0&&(o.registered[_e]=$.styles)},insertStyles=function(o,$,j){registerStyles(o,$,j);var _e=o.key+"-"+$.name;if(o.inserted[$.name]===void 0){var et=$;do o.insert($===et?"."+_e:"",et,o.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2(a){for(var o=0,$,j=0,_e=a.length;_e>=4;++j,_e-=4)$=a.charCodeAt(j)&255|(a.charCodeAt(++j)&255)<<8|(a.charCodeAt(++j)&255)<<16|(a.charCodeAt(++j)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,o=($&65535)*1540483477+(($>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(_e){case 3:o^=(a.charCodeAt(j+2)&255)<<16;case 2:o^=(a.charCodeAt(j+1)&255)<<8;case 1:o^=a.charCodeAt(j)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(a){return isCustomProperty(a)?a:a.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,$){switch(o){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex,function(j,_e,et){return cursor={name:_e,styles:et,next:cursor},_e})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(a,o,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return cursor={name:$.name,styles:$.styles,next:cursor},$.name;if($.styles!==void 0){var j=$.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var _e=$.styles+";";return _e}return createStringFromObject(a,o,$)}case"function":{if(a!==void 0){var et=cursor,tt=$(a);return cursor=et,handleInterpolation(a,o,tt)}break}}if(o==null)return $;var rt=o[$];return rt!==void 0?rt:$}function createStringFromObject(a,o,$){var j="";if(Array.isArray($))for(var _e=0;_e<$.length;_e++)j+=handleInterpolation(a,o,$[_e])+";";else for(var et in $){var tt=$[et];if(typeof tt!="object")o!=null&&o[tt]!==void 0?j+=et+"{"+o[tt]+"}":isProcessableValue(tt)&&(j+=processStyleName(et)+":"+processStyleValue(et,tt)+";");else if(Array.isArray(tt)&&typeof tt[0]=="string"&&(o==null||o[tt[0]]===void 0))for(var rt=0;rt<tt.length;rt++)isProcessableValue(tt[rt])&&(j+=processStyleName(et)+":"+processStyleValue(et,tt[rt])+";");else{var ot=handleInterpolation(a,o,tt);switch(et){case"animation":case"animationName":{j+=processStyleName(et)+":"+ot+";";break}default:j+=et+"{"+ot+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,$,j){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var _e=!0,et="";cursor=void 0;var tt=o[0];tt==null||tt.raw===void 0?(_e=!1,et+=handleInterpolation(j,$,tt)):et+=tt[0];for(var rt=1;rt<o.length;rt++)et+=handleInterpolation(j,$,o[rt]),_e&&(et+=tt[rt]);labelPattern.lastIndex=0;for(var ot="",st;(st=labelPattern.exec(et))!==null;)ot+="-"+st[1];var at=murmur2(et)+ot;return{name:at,styles:et,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(o){return reactExports.forwardRef(function($,j){var _e=reactExports.useContext(EmotionCacheContext);return o($,_e,j)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function(a,o){var $=a.styles,j=serializeStyles([$],void 0,reactExports.useContext(ThemeContext$2)),_e=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=o.key+"-global",tt=new o.sheet.constructor({key:et,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),rt=!1,ot=document.querySelector('style[data-emotion="'+et+" "+j.name+'"]');return o.sheet.tags.length&&(tt.before=o.sheet.tags[0]),ot!==null&&(rt=!0,ot.setAttribute("data-emotion",et),tt.hydrate([ot])),_e.current=[tt,rt],function(){tt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var et=_e.current,tt=et[0],rt=et[1];if(rt){et[1]=!1;return}if(j.next!==void 0&&insertStyles(o,j.next,!0),tt.tags.length){var ot=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=ot,tt.flush()}o.insert("",j,tt,!1)},[o,j.name]),null});function css(){for(var a=arguments.length,o=new Array(a),$=0;$<a;$++)o[$]=arguments[$];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),$="animation-"+o.name;return{name:$,styles:"@keyframes "+$+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,$,j){var _e;if($){var et=$.shouldForwardProp;_e=o.__emotion_forwardProp&&et?function(tt){return o.__emotion_forwardProp(tt)&&et(tt)}:et}return typeof _e!="function"&&j&&(_e=o.__emotion_forwardProp),_e},Insertion=function(o){var $=o.cache,j=o.serialized,_e=o.isStringTag;return registerStyles($,j,_e),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles($,j,_e)}),null},createStyled$1=function a(o,$){var j=o.__emotion_real===o,_e=j&&o.__emotion_base||o,et,tt;$!==void 0&&(et=$.label,tt=$.target);var rt=composeShouldForwardProps(o,$,j),ot=rt||getDefaultShouldForwardProp(_e),st=!ot("as");return function(){var at=arguments,ut=j&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(et!==void 0&&ut.push("label:"+et+";"),at[0]==null||at[0].raw===void 0)ut.push.apply(ut,at);else{ut.push(at[0][0]);for(var ct=at.length,vt=1;vt<ct;vt++)ut.push(at[vt],at[0][vt])}var ht=withEmotionCache(function(yt,bt,dt){var xt=st&&yt.as||_e,Tt="",Ct=[],Et=yt;if(yt.theme==null){Et={};for(var St in yt)Et[St]=yt[St];Et.theme=reactExports.useContext(ThemeContext$2)}typeof yt.className=="string"?Tt=getRegisteredStyles(bt.registered,Ct,yt.className):yt.className!=null&&(Tt=yt.className+" ");var gt=serializeStyles(ut.concat(Ct),bt.registered,Et);Tt+=bt.key+"-"+gt.name,tt!==void 0&&(Tt+=" "+tt);var wt=st&&rt===void 0?getDefaultShouldForwardProp(xt):ot,Mt={};for(var Ot in yt)st&&Ot==="as"||wt(Ot)&&(Mt[Ot]=yt[Ot]);return Mt.className=Tt,Mt.ref=dt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:bt,serialized:gt,isStringTag:typeof xt=="string"}),reactExports.createElement(xt,Mt))});return ht.displayName=et!==void 0?et:"Styled("+(typeof _e=="string"?_e:_e.displayName||_e.name||"Component")+")",ht.defaultProps=o.defaultProps,ht.__emotion_real=ht,ht.__emotion_base=_e,ht.__emotion_styles=ut,ht.__emotion_forwardProp=rt,Object.defineProperty(ht,"toString",{value:function(){return"."+tt}}),ht.withComponent=function(yt,bt){return a(yt,_extends({},$,bt,{shouldForwardProp:composeShouldForwardProps(ht,bt,!0)})).apply(void 0,ut)},ht}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(a){newStyled[a]=newStyled(a)});function isEmpty$2(a){return a==null||Object.keys(a).length===0}function GlobalStyles$2(a){const{styles:o,defaultTheme:$={}}=a,j=typeof o=="function"?_e=>o(isEmpty$2(_e)?$:_e):o;return jsxRuntimeExports.jsx(Global,{styles:j})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$3(a,o){return newStyled(a,o)}const internal_processStyles=(a,o)=>{Array.isArray(a.__emotion_styles)&&(a.__emotion_styles=o(a.__emotion_styles))},_excluded$x=["values","unit","step"],sortBreakpointsValues=a=>{const o=Object.keys(a).map($=>({key:$,val:a[$]}))||[];return o.sort(($,j)=>$.val-j.val),o.reduce(($,j)=>_extends({},$,{[j.key]:j.val}),{})};function createBreakpoints(a){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:$="px",step:j=5}=a,_e=_objectWithoutPropertiesLoose$1(a,_excluded$x),et=sortBreakpointsValues(o),tt=Object.keys(et);function rt(ct){return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${$})`}function ot(ct){return`@media (max-width:${(typeof o[ct]=="number"?o[ct]:ct)-j/100}${$})`}function st(ct,vt){const ht=tt.indexOf(vt);return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${$}) and (max-width:${(ht!==-1&&typeof o[tt[ht]]=="number"?o[tt[ht]]:vt)-j/100}${$})`}function at(ct){return tt.indexOf(ct)+1<tt.length?st(ct,tt[tt.indexOf(ct)+1]):rt(ct)}function ut(ct){const vt=tt.indexOf(ct);return vt===0?rt(tt[1]):vt===tt.length-1?ot(tt[vt]):st(ct,tt[tt.indexOf(ct)+1]).replace("@media","@media not all and")}return _extends({keys:tt,values:et,up:rt,down:ot,between:st,only:at,not:ut,unit:$},_e)}const shape={borderRadius:4},shape$1=shape;function merge(a,o){return o?deepmerge(a,o,{clone:!1}):a}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:a=>`@media (min-width:${values$1[a]}px)`};function handleBreakpoints(a,o,$){const j=a.theme||{};if(Array.isArray(o)){const et=j.breakpoints||defaultBreakpoints;return o.reduce((tt,rt,ot)=>(tt[et.up(et.keys[ot])]=$(o[ot]),tt),{})}if(typeof o=="object"){const et=j.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((tt,rt)=>{if(Object.keys(et.values||values$1).indexOf(rt)!==-1){const ot=et.up(rt);tt[ot]=$(o[rt],rt)}else{const ot=rt;tt[ot]=o[ot]}return tt},{})}return $(o)}function createEmptyBreakpointObject(a={}){var o;return((o=a.keys)==null?void 0:o.reduce((j,_e)=>{const et=a.up(_e);return j[et]={},j},{}))||{}}function removeUnusedBreakpoints(a,o){return a.reduce(($,j)=>{const _e=$[j];return(!_e||Object.keys(_e).length===0)&&delete $[j],$},o)}function mergeBreakpointsInOrder(a,...o){const $=createEmptyBreakpointObject(a),j=[$,...o].reduce((_e,et)=>deepmerge(_e,et),{});return removeUnusedBreakpoints(Object.keys($),j)}function computeBreakpointsBase(a,o){if(typeof a!="object")return{};const $={},j=Object.keys(o);return Array.isArray(a)?j.forEach((_e,et)=>{et<a.length&&($[_e]=!0)}):j.forEach(_e=>{a[_e]!=null&&($[_e]=!0)}),$}function resolveBreakpointValues({values:a,breakpoints:o,base:$}){const j=$||computeBreakpointsBase(a,o),_e=Object.keys(j);if(_e.length===0)return a;let et;return _e.reduce((tt,rt,ot)=>(Array.isArray(a)?(tt[rt]=a[ot]!=null?a[ot]:a[et],et=ot):typeof a=="object"?(tt[rt]=a[rt]!=null?a[rt]:a[et],et=rt):tt[rt]=a,tt),{})}function getPath(a,o,$=!0){if(!o||typeof o!="string")return null;if(a&&a.vars&&$){const j=`vars.${o}`.split(".").reduce((_e,et)=>_e&&_e[et]?_e[et]:null,a);if(j!=null)return j}return o.split(".").reduce((j,_e)=>j&&j[_e]!=null?j[_e]:null,a)}function getStyleValue(a,o,$,j=$){let _e;return typeof a=="function"?_e=a($):Array.isArray(a)?_e=a[$]||j:_e=getPath(a,$)||j,o&&(_e=o(_e,j,a)),_e}function style$2(a){const{prop:o,cssProperty:$=a.prop,themeKey:j,transform:_e}=a,et=tt=>{if(tt[o]==null)return null;const rt=tt[o],ot=tt.theme,st=getPath(ot,j)||{};return handleBreakpoints(tt,rt,ut=>{let ct=getStyleValue(st,_e,ut);return ut===ct&&typeof ut=="string"&&(ct=getStyleValue(st,_e,`${o}${ut==="default"?"":capitalize(ut)}`,ut)),$===!1?ct:{[$]:ct}})};return et.propTypes={},et.filterProps=[o],et}function memoize(a){const o={};return $=>(o[$]===void 0&&(o[$]=a($)),o[$])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(a=>{if(a.length>2)if(aliases[a])a=aliases[a];else return[a];const[o,$]=a.split(""),j=properties[o],_e=directions[$]||"";return Array.isArray(_e)?_e.map(et=>j+et):[j+_e]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(a,o,$,j){var _e;const et=(_e=getPath(a,o,!1))!=null?_e:$;return typeof et=="number"?tt=>typeof tt=="string"?tt:et*tt:Array.isArray(et)?tt=>typeof tt=="string"?tt:et[tt]:typeof et=="function"?et:()=>{}}function createUnarySpacing(a){return createUnaryUnit(a,"spacing",8)}function getValue(a,o){if(typeof o=="string"||o==null)return o;const $=Math.abs(o),j=a($);return o>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue(a,o){return $=>a.reduce((j,_e)=>(j[_e]=getValue(o,$),j),{})}function resolveCssProperty(a,o,$,j){if(o.indexOf($)===-1)return null;const _e=getCssProperties($),et=getStyleFromPropValue(_e,j),tt=a[$];return handleBreakpoints(a,tt,et)}function style$1(a,o){const $=createUnarySpacing(a.theme);return Object.keys(a).map(j=>resolveCssProperty(a,o,j,$)).reduce(merge,{})}function margin(a){return style$1(a,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(a){return style$1(a,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(a=8){if(a.mui)return a;const o=createUnarySpacing({spacing:a}),$=(...j)=>(j.length===0?[1]:j).map(et=>{const tt=o(et);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return $.mui=!0,$}function compose(...a){const o=a.reduce((j,_e)=>(_e.filterProps.forEach(et=>{j[et]=_e}),j),{}),$=j=>Object.keys(j).reduce((_e,et)=>o[et]?merge(_e,o[et](j)):_e,{});return $.propTypes={},$.filterProps=a.reduce((j,_e)=>j.concat(_e.filterProps),[]),$}function borderTransform(a){return typeof a!="number"?a:`${a}px solid`}const border=style$2({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$2({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$2({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$2({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$2({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$2({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$2({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$2({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$2({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$2({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=a=>{if(a.borderRadius!==void 0&&a.borderRadius!==null){const o=createUnaryUnit(a.theme,"shape.borderRadius",4),$=j=>({borderRadius:getValue(o,j)});return handleBreakpoints(a,a.borderRadius,$)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=a=>{if(a.gap!==void 0&&a.gap!==null){const o=createUnaryUnit(a.theme,"spacing",8),$=j=>({gap:getValue(o,j)});return handleBreakpoints(a,a.gap,$)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=a=>{if(a.columnGap!==void 0&&a.columnGap!==null){const o=createUnaryUnit(a.theme,"spacing",8),$=j=>({columnGap:getValue(o,j)});return handleBreakpoints(a,a.columnGap,$)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=a=>{if(a.rowGap!==void 0&&a.rowGap!==null){const o=createUnaryUnit(a.theme,"spacing",8),$=j=>({rowGap:getValue(o,j)});return handleBreakpoints(a,a.rowGap,$)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(a,o){return o==="grey"?o:a}const color=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(a){return a<=1&&a!==0?`${a*100}%`:a}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=a=>{if(a.maxWidth!==void 0&&a.maxWidth!==null){const o=$=>{var j,_e,et;return{maxWidth:((j=a.theme)==null||(_e=j.breakpoints)==null||(et=_e.values)==null?void 0:et[$])||values$1[$]||sizingTransform($)}};return handleBreakpoints(a,a.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:a=>({"@media print":{display:a}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...a){const o=a.reduce((j,_e)=>j.concat(Object.keys(_e)),[]),$=new Set(o);return a.every(j=>$.size===Object.keys(j).length)}function callIfFn(a,o){return typeof a=="function"?a(o):a}function unstable_createStyleFunctionSx(){function a($,j,_e,et){const tt={[$]:j,theme:_e},rt=et[$];if(!rt)return{[$]:j};const{cssProperty:ot=$,themeKey:st,transform:at,style:ut}=rt;if(j==null)return null;if(st==="typography"&&j==="inherit")return{[$]:j};const ct=getPath(_e,st)||{};return ut?ut(tt):handleBreakpoints(tt,j,ht=>{let yt=getStyleValue(ct,at,ht);return ht===yt&&typeof ht=="string"&&(yt=getStyleValue(ct,at,`${$}${ht==="default"?"":capitalize(ht)}`,ht)),ot===!1?yt:{[ot]:yt}})}function o($){var j;const{sx:_e,theme:et={}}=$||{};if(!_e)return null;const tt=(j=et.unstable_sxConfig)!=null?j:defaultSxConfig$1;function rt(ot){let st=ot;if(typeof ot=="function")st=ot(et);else if(typeof ot!="object")return ot;if(!st)return null;const at=createEmptyBreakpointObject(et.breakpoints),ut=Object.keys(at);let ct=at;return Object.keys(st).forEach(vt=>{const ht=callIfFn(st[vt],et);if(ht!=null)if(typeof ht=="object")if(tt[vt])ct=merge(ct,a(vt,ht,et,tt));else{const yt=handleBreakpoints({theme:et},ht,bt=>({[vt]:bt}));objectsHaveSameKeys(yt,ht)?ct[vt]=o({sx:ht,theme:et}):ct=merge(ct,yt)}else ct=merge(ct,a(vt,ht,et,tt))}),removeUnusedBreakpoints(ut,ct)}return Array.isArray(_e)?_e.map(rt):rt(_e)}return o}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$w=["breakpoints","palette","spacing","shape"];function createTheme$1(a={},...o){const{breakpoints:$={},palette:j={},spacing:_e,shape:et={}}=a,tt=_objectWithoutPropertiesLoose$1(a,_excluded$w),rt=createBreakpoints($),ot=createSpacing(_e);let st=deepmerge({breakpoints:rt,direction:"ltr",components:{},palette:_extends({mode:"light"},j),spacing:ot,shape:_extends({},shape$1,et)},tt);return st=o.reduce((at,ut)=>deepmerge(at,ut),st),st.unstable_sxConfig=_extends({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),st.unstable_sx=function(ut){return styleFunctionSx$1({sx:ut,theme:this})},st}function isObjectEmpty(a){return Object.keys(a).length===0}function useTheme$3(a=null){const o=reactExports.useContext(ThemeContext$2);return!o||isObjectEmpty(o)?a:o}const systemDefaultTheme$1=createTheme$1();function useTheme$2(a=systemDefaultTheme$1){return useTheme$3(a)}function GlobalStyles$1({styles:a,themeId:o,defaultTheme:$={}}){const j=useTheme$2($),_e=typeof a=="function"?a(o&&j[o]||j):a;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:_e})}const _excluded$v=["sx"],splitProps=a=>{var o,$;const j={systemProps:{},otherProps:{}},_e=(o=a==null||($=a.theme)==null?void 0:$.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(a).forEach(et=>{_e[et]?j.systemProps[et]=a[et]:j.otherProps[et]=a[et]}),j};function extendSxProp(a){const{sx:o}=a,$=_objectWithoutPropertiesLoose$1(a,_excluded$v),{systemProps:j,otherProps:_e}=splitProps($);let et;return Array.isArray(o)?et=[j,...o]:typeof o=="function"?et=(...tt)=>{const rt=o(...tt);return isPlainObject(rt)?_extends({},j,rt):j}:et=_extends({},j,o),_extends({},_e,{sx:et})}function r(a){var o,$,j="";if(typeof a=="string"||typeof a=="number")j+=a;else if(typeof a=="object")if(Array.isArray(a))for(o=0;o<a.length;o++)a[o]&&($=r(a[o]))&&(j&&(j+=" "),j+=$);else for(o in a)a[o]&&(j&&(j+=" "),j+=o);return j}function clsx(){for(var a,o,$=0,j="";$<arguments.length;)(a=arguments[$++])&&(o=r(a))&&(j&&(j+=" "),j+=o);return j}const _excluded$u=["className","component"];function createBox(a={}){const{themeId:o,defaultTheme:$,defaultClassName:j="MuiBox-root",generateClassName:_e}=a,et=styled$3("div",{shouldForwardProp:rt=>rt!=="theme"&&rt!=="sx"&&rt!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(ot,st){const at=useTheme$2($),ut=extendSxProp(ot),{className:ct,component:vt="div"}=ut,ht=_objectWithoutPropertiesLoose$1(ut,_excluded$u);return jsxRuntimeExports.jsx(et,_extends({as:vt,ref:st,className:clsx(ct,_e?_e(j):j),theme:o&&at[o]||at},ht))})}const _excluded$t=["variant"];function isEmpty$1(a){return a.length===0}function propsToClassKey(a){const{variant:o}=a,$=_objectWithoutPropertiesLoose$1(a,_excluded$t);let j=o||"";return Object.keys($).sort().forEach(_e=>{_e==="color"?j+=isEmpty$1(j)?a[_e]:capitalize(a[_e]):j+=`${isEmpty$1(j)?_e:capitalize(_e)}${capitalize(a[_e].toString())}`}),j}const _excluded$s=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(a){return Object.keys(a).length===0}function isStringTag(a){return typeof a=="string"&&a.charCodeAt(0)>96}const getStyleOverrides=(a,o)=>o.components&&o.components[a]&&o.components[a].styleOverrides?o.components[a].styleOverrides:null,getVariantStyles=(a,o)=>{let $=[];o&&o.components&&o.components[a]&&o.components[a].variants&&($=o.components[a].variants);const j={};return $.forEach(_e=>{const et=propsToClassKey(_e.props);j[et]=_e.style}),j},variantsResolver=(a,o,$,j)=>{var _e,et;const{ownerState:tt={}}=a,rt=[],ot=$==null||(_e=$.components)==null||(et=_e[j])==null?void 0:et.variants;return ot&&ot.forEach(st=>{let at=!0;Object.keys(st.props).forEach(ut=>{tt[ut]!==st.props[ut]&&a[ut]!==st.props[ut]&&(at=!1)}),at&&rt.push(o[propsToClassKey(st.props)])}),rt};function shouldForwardProp(a){return a!=="ownerState"&&a!=="theme"&&a!=="sx"&&a!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:a,theme:o,themeId:$}){return isEmpty(o)?a:o[$]||o}function createStyled(a={}){const{themeId:o,defaultTheme:$=systemDefaultTheme,rootShouldForwardProp:j=shouldForwardProp,slotShouldForwardProp:_e=shouldForwardProp}=a,et=tt=>styleFunctionSx$1(_extends({},tt,{theme:resolveTheme(_extends({},tt,{defaultTheme:$,themeId:o}))}));return et.__mui_systemSx=!0,(tt,rt={})=>{internal_processStyles(tt,Ct=>Ct.filter(Et=>!(Et!=null&&Et.__mui_systemSx)));const{name:ot,slot:st,skipVariantsResolver:at,skipSx:ut,overridesResolver:ct}=rt,vt=_objectWithoutPropertiesLoose$1(rt,_excluded$s),ht=at!==void 0?at:st&&st!=="Root"||!1,yt=ut||!1;let bt,dt=shouldForwardProp;st==="Root"?dt=j:st?dt=_e:isStringTag(tt)&&(dt=void 0);const xt=styled$3(tt,_extends({shouldForwardProp:dt,label:bt},vt)),Tt=(Ct,...Et)=>{const St=Et?Et.map(Ot=>typeof Ot=="function"&&Ot.__emotion_real!==Ot?Lt=>Ot(_extends({},Lt,{theme:resolveTheme(_extends({},Lt,{defaultTheme:$,themeId:o}))})):Ot):[];let gt=Ct;ot&&ct&&St.push(Ot=>{const Lt=resolveTheme(_extends({},Ot,{defaultTheme:$,themeId:o})),jt=getStyleOverrides(ot,Lt);if(jt){const Jt={};return Object.entries(jt).forEach(([qt,rn])=>{Jt[qt]=typeof rn=="function"?rn(_extends({},Ot,{theme:Lt})):rn}),ct(Ot,Jt)}return null}),ot&&!ht&&St.push(Ot=>{const Lt=resolveTheme(_extends({},Ot,{defaultTheme:$,themeId:o}));return variantsResolver(Ot,getVariantStyles(ot,Lt),Lt,ot)}),yt||St.push(et);const wt=St.length-Et.length;if(Array.isArray(Ct)&&wt>0){const Ot=new Array(wt).fill("");gt=[...Ct,...Ot],gt.raw=[...Ct.raw,...Ot]}else typeof Ct=="function"&&Ct.__emotion_real!==Ct&&(gt=Ot=>Ct(_extends({},Ot,{theme:resolveTheme(_extends({},Ot,{defaultTheme:$,themeId:o}))})));const Mt=xt(gt,...St);return tt.muiName&&(Mt.muiName=tt.muiName),Mt};return xt.withConfig&&(Tt.withConfig=xt.withConfig),Tt}}const styled$2=createStyled(),systemStyled=styled$2;function getThemeProps(a){const{theme:o,name:$,props:j}=a;return!o||!o.components||!o.components[$]||!o.components[$].defaultProps?j:resolveProps(o.components[$].defaultProps,j)}function useThemeProps$1({props:a,name:o,defaultTheme:$,themeId:j}){let _e=useTheme$2($);return j&&(_e=_e[j]||_e),getThemeProps({theme:_e,name:o,props:a})}function clamp$2(a,o=0,$=1){return Math.min(Math.max(o,a),$)}function hexToRgb(a){a=a.slice(1);const o=new RegExp(`.{1,${a.length>=6?2:1}}`,"g");let $=a.match(o);return $&&$[0].length===1&&($=$.map(j=>j+j)),$?`rgb${$.length===4?"a":""}(${$.map((j,_e)=>_e<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(a){if(a.type)return a;if(a.charAt(0)==="#")return decomposeColor(hexToRgb(a));const o=a.indexOf("("),$=a.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(9,a));let j=a.substring(o+1,a.length-1),_e;if($==="color"){if(j=j.split(" "),_e=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error(formatMuiErrorMessage(10,_e))}else j=j.split(",");return j=j.map(et=>parseFloat(et)),{type:$,values:j,colorSpace:_e}}function recomposeColor(a){const{type:o,colorSpace:$}=a;let{values:j}=a;return o.indexOf("rgb")!==-1?j=j.map((_e,et)=>et<3?parseInt(_e,10):_e):o.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),o.indexOf("color")!==-1?j=`${$} ${j.join(" ")}`:j=`${j.join(", ")}`,`${o}(${j})`}function hslToRgb(a){a=decomposeColor(a);const{values:o}=a,$=o[0],j=o[1]/100,_e=o[2]/100,et=j*Math.min(_e,1-_e),tt=(st,at=(st+$/30)%12)=>_e-et*Math.max(Math.min(at-3,9-at,1),-1);let rt="rgb";const ot=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return a.type==="hsla"&&(rt+="a",ot.push(o[3])),recomposeColor({type:rt,values:ot})}function getLuminance(a){a=decomposeColor(a);let o=a.type==="hsl"||a.type==="hsla"?decomposeColor(hslToRgb(a)).values:a.values;return o=o.map($=>(a.type!=="color"&&($/=255),$<=.03928?$/12.92:(($+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(a,o){const $=getLuminance(a),j=getLuminance(o);return(Math.max($,j)+.05)/(Math.min($,j)+.05)}function alpha(a,o){return a=decomposeColor(a),o=clamp$2(o),(a.type==="rgb"||a.type==="hsl")&&(a.type+="a"),a.type==="color"?a.values[3]=`/${o}`:a.values[3]=o,recomposeColor(a)}function darken(a,o){if(a=decomposeColor(a),o=clamp$2(o),a.type.indexOf("hsl")!==-1)a.values[2]*=1-o;else if(a.type.indexOf("rgb")!==-1||a.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)a.values[$]*=1-o;return recomposeColor(a)}function lighten(a,o){if(a=decomposeColor(a),o=clamp$2(o),a.type.indexOf("hsl")!==-1)a.values[2]+=(100-a.values[2])*o;else if(a.type.indexOf("rgb")!==-1)for(let $=0;$<3;$+=1)a.values[$]+=(255-a.values[$])*o;else if(a.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)a.values[$]+=(1-a.values[$])*o;return recomposeColor(a)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$1(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(a,o){return typeof o=="function"?o(a):{...a,...o}}function ThemeProvider$2(a){const{children:o,theme:$}=a,j=useTheme$1(),_e=reactExports.useMemo(()=>{const et=j===null?$:mergeOuterLocalTheme(j,$);return et!=null&&(et[nested]=j!==null),et},[$,j]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:_e,children:o})}const EMPTY_THEME={};function useThemeScoping(a,o,$,j=!1){return reactExports.useMemo(()=>{const _e=a&&o[a]||o;if(typeof $=="function"){const et=$(_e),tt=a?_extends({},o,{[a]:et}):et;return j?()=>tt:tt}return a?_extends({},o,{[a]:$}):_extends({},o,$)},[a,o,$,j])}function ThemeProvider$1(a){const{children:o,theme:$,themeId:j}=a,_e=useTheme$3(EMPTY_THEME),et=useTheme$1()||EMPTY_THEME,tt=useThemeScoping(j,_e,$),rt=useThemeScoping(j,et,$,!0);return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:rt,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:tt,children:o})})}const _excluded$r=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$4=createTheme$1(),defaultCreateStyledComponent$1=systemStyled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[`maxWidth${capitalize(String($.maxWidth))}`],$.fixed&&o.fixed,$.disableGutters&&o.disableGutters]}}),useThemePropsDefault$1=a=>useThemeProps$1({props:a,name:"MuiContainer",defaultTheme:defaultTheme$4}),useUtilityClasses$g=(a,o)=>{const $=ot=>generateUtilityClass(o,ot),{classes:j,fixed:_e,disableGutters:et,maxWidth:tt}=a,rt={root:["root",tt&&`maxWidth${capitalize(String(tt))}`,_e&&"fixed",et&&"disableGutters"]};return composeClasses(rt,$,j)};function createContainer(a={}){const{createStyledComponent:o=defaultCreateStyledComponent$1,useThemeProps:$=useThemePropsDefault$1,componentName:j="MuiContainer"}=a,_e=o(({theme:tt,ownerState:rt})=>_extends({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!rt.disableGutters&&{paddingLeft:tt.spacing(2),paddingRight:tt.spacing(2),[tt.breakpoints.up("sm")]:{paddingLeft:tt.spacing(3),paddingRight:tt.spacing(3)}}),({theme:tt,ownerState:rt})=>rt.fixed&&Object.keys(tt.breakpoints.values).reduce((ot,st)=>{const at=st,ut=tt.breakpoints.values[at];return ut!==0&&(ot[tt.breakpoints.up(at)]={maxWidth:`${ut}${tt.breakpoints.unit}`}),ot},{}),({theme:tt,ownerState:rt})=>_extends({},rt.maxWidth==="xs"&&{[tt.breakpoints.up("xs")]:{maxWidth:Math.max(tt.breakpoints.values.xs,444)}},rt.maxWidth&&rt.maxWidth!=="xs"&&{[tt.breakpoints.up(rt.maxWidth)]:{maxWidth:`${tt.breakpoints.values[rt.maxWidth]}${tt.breakpoints.unit}`}}));return reactExports.forwardRef(function(rt,ot){const st=$(rt),{className:at,component:ut="div",disableGutters:ct=!1,fixed:vt=!1,maxWidth:ht="lg"}=st,yt=_objectWithoutPropertiesLoose$1(st,_excluded$r),bt=_extends({},st,{component:ut,disableGutters:ct,fixed:vt,maxWidth:ht}),dt=useUtilityClasses$g(bt,j);return jsxRuntimeExports.jsx(_e,_extends({as:ut,ownerState:bt,className:clsx(dt.root,at),ref:ot},yt))})}const _excluded$q=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$3=createTheme$1(),defaultCreateStyledComponent=systemStyled("div",{name:"MuiStack",slot:"Root",overridesResolver:(a,o)=>o.root});function useThemePropsDefault(a){return useThemeProps$1({props:a,name:"MuiStack",defaultTheme:defaultTheme$3})}function joinChildren(a,o){const $=reactExports.Children.toArray(a).filter(Boolean);return $.reduce((j,_e,et)=>(j.push(_e),et<$.length-1&&j.push(reactExports.cloneElement(o,{key:`separator-${et}`})),j),[])}const getSideFromDirection=a=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[a],style=({ownerState:a,theme:o})=>{let $=_extends({display:"flex",flexDirection:"column"},handleBreakpoints({theme:o},resolveBreakpointValues({values:a.direction,breakpoints:o.breakpoints.values}),j=>({flexDirection:j})));if(a.spacing){const j=createUnarySpacing(o),_e=Object.keys(o.breakpoints.values).reduce((ot,st)=>((typeof a.spacing=="object"&&a.spacing[st]!=null||typeof a.direction=="object"&&a.direction[st]!=null)&&(ot[st]=!0),ot),{}),et=resolveBreakpointValues({values:a.direction,base:_e}),tt=resolveBreakpointValues({values:a.spacing,base:_e});typeof et=="object"&&Object.keys(et).forEach((ot,st,at)=>{if(!et[ot]){const ct=st>0?et[at[st-1]]:"column";et[ot]=ct}}),$=deepmerge($,handleBreakpoints({theme:o},tt,(ot,st)=>a.useFlexGap?{gap:getValue(j,ot)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(st?et[st]:a.direction)}`]:getValue(j,ot)}}))}return $=mergeBreakpointsInOrder(o.breakpoints,$),$};function createStack(a={}){const{createStyledComponent:o=defaultCreateStyledComponent,useThemeProps:$=useThemePropsDefault,componentName:j="MuiStack"}=a,_e=()=>composeClasses({root:["root"]},ot=>generateUtilityClass(j,ot),{}),et=o(style);return reactExports.forwardRef(function(ot,st){const at=$(ot),ut=extendSxProp(at),{component:ct="div",direction:vt="column",spacing:ht=0,divider:yt,children:bt,className:dt,useFlexGap:xt=!1}=ut,Tt=_objectWithoutPropertiesLoose$1(ut,_excluded$q),Ct={direction:vt,spacing:ht,useFlexGap:xt},Et=_e();return jsxRuntimeExports.jsx(et,_extends({as:ct,ownerState:Ct,ref:st,className:clsx(Et.root,dt)},Tt,{children:yt?joinChildren(bt,yt):bt}))})}function createMixins(a,o){return _extends({toolbar:{minHeight:56,[a.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[a.up("sm")]:{minHeight:64}}},o)}const _excluded$p=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$5.white,default:common$5.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$5.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$5.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(a,o,$,j){const _e=j.light||j,et=j.dark||j*1.5;a[o]||(a.hasOwnProperty($)?a[o]=a[$]:o==="light"?a.light=lighten(a.main,_e):o==="dark"&&(a.dark=darken(a.main,et)))}function getDefaultPrimary(a="light"){return a==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(a="light"){return a==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(a="light"){return a==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(a="light"){return a==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(a="light"){return a==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(a="light"){return a==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(a){const{mode:o="light",contrastThreshold:$=3,tonalOffset:j=.2}=a,_e=_objectWithoutPropertiesLoose$1(a,_excluded$p),et=a.primary||getDefaultPrimary(o),tt=a.secondary||getDefaultSecondary(o),rt=a.error||getDefaultError(o),ot=a.info||getDefaultInfo(o),st=a.success||getDefaultSuccess(o),at=a.warning||getDefaultWarning(o);function ut(yt){return getContrastRatio(yt,dark.text.primary)>=$?dark.text.primary:light.text.primary}const ct=({color:yt,name:bt,mainShade:dt=500,lightShade:xt=300,darkShade:Tt=700})=>{if(yt=_extends({},yt),!yt.main&&yt[dt]&&(yt.main=yt[dt]),!yt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,bt?` (${bt})`:"",dt));if(typeof yt.main!="string")throw new Error(formatMuiErrorMessage(12,bt?` (${bt})`:"",JSON.stringify(yt.main)));return addLightOrDark(yt,"light",xt,j),addLightOrDark(yt,"dark",Tt,j),yt.contrastText||(yt.contrastText=ut(yt.main)),yt},vt={dark,light};return deepmerge(_extends({common:_extends({},common$5),mode:o,primary:ct({color:et,name:"primary"}),secondary:ct({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ct({color:rt,name:"error"}),warning:ct({color:at,name:"warning"}),info:ct({color:ot,name:"info"}),success:ct({color:st,name:"success"}),grey:grey$1,contrastThreshold:$,getContrastText:ut,augmentColor:ct,tonalOffset:j},vt[o]),_e)}const _excluded$o=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(a){return Math.round(a*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(a,o){const $=typeof o=="function"?o(a):o,{fontFamily:j=defaultFontFamily,fontSize:_e=14,fontWeightLight:et=300,fontWeightRegular:tt=400,fontWeightMedium:rt=500,fontWeightBold:ot=700,htmlFontSize:st=16,allVariants:at,pxToRem:ut}=$,ct=_objectWithoutPropertiesLoose$1($,_excluded$o),vt=_e/14,ht=ut||(dt=>`${dt/st*vt}rem`),yt=(dt,xt,Tt,Ct,Et)=>_extends({fontFamily:j,fontWeight:dt,fontSize:ht(xt),lineHeight:Tt},j===defaultFontFamily?{letterSpacing:`${round(Ct/xt)}em`}:{},Et,at),bt={h1:yt(et,96,1.167,-1.5),h2:yt(et,60,1.2,-.5),h3:yt(tt,48,1.167,0),h4:yt(tt,34,1.235,.25),h5:yt(tt,24,1.334,0),h6:yt(rt,20,1.6,.15),subtitle1:yt(tt,16,1.75,.15),subtitle2:yt(rt,14,1.57,.1),body1:yt(tt,16,1.5,.15),body2:yt(tt,14,1.43,.15),button:yt(rt,14,1.75,.4,caseAllCaps),caption:yt(tt,12,1.66,.4),overline:yt(tt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:st,pxToRem:ht,fontFamily:j,fontSize:_e,fontWeightLight:et,fontWeightRegular:tt,fontWeightMedium:rt,fontWeightBold:ot},bt),ct,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...a){return[`${a[0]}px ${a[1]}px ${a[2]}px ${a[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${a[4]}px ${a[5]}px ${a[6]}px ${a[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${a[8]}px ${a[9]}px ${a[10]}px ${a[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$n=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(a){return`${Math.round(a)}ms`}function getAutoHeightDuration(a){if(!a)return 0;const o=a/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(a){const o=_extends({},easing,a.easing),$=_extends({},duration,a.duration);return _extends({getAutoHeightDuration,create:(_e=["all"],et={})=>{const{duration:tt=$.standard,easing:rt=o.easeInOut,delay:ot=0}=et;return _objectWithoutPropertiesLoose$1(et,_excluded$n),(Array.isArray(_e)?_e:[_e]).map(st=>`${st} ${typeof tt=="string"?tt:formatMs(tt)} ${rt} ${typeof ot=="string"?ot:formatMs(ot)}`).join(",")}},a,{easing:o,duration:$})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$m=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(a={},...o){const{mixins:$={},palette:j={},transitions:_e={},typography:et={}}=a,tt=_objectWithoutPropertiesLoose$1(a,_excluded$m);if(a.vars)throw new Error(formatMuiErrorMessage(18));const rt=createPalette(j),ot=createTheme$1(a);let st=deepmerge(ot,{mixins:createMixins(ot.breakpoints,$),palette:rt,shadows:shadows$1.slice(),typography:createTypography(rt,et),transitions:createTransitions(_e),zIndex:_extends({},zIndex$1)});return st=deepmerge(st,tt),st=o.reduce((at,ut)=>deepmerge(at,ut),st),st.unstable_sxConfig=_extends({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),st.unstable_sx=function(ut){return styleFunctionSx$1({sx:ut,theme:this})},st}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme(){const a=useTheme$2(defaultTheme$2);return a[THEME_ID]||a}function useThemeProps({props:a,name:o}){return useThemeProps$1({props:a,name:o,defaultTheme:defaultTheme$2,themeId:THEME_ID})}const rootShouldForwardProp=a=>shouldForwardProp(a)&&a!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$2,rootShouldForwardProp}),styled$1=styled,_excluded$l=["theme"];function ThemeProvider(a){let{theme:o}=a,$=_objectWithoutPropertiesLoose$1(a,_excluded$l);const j=o[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends({},$,{themeId:j?THEME_ID:void 0,theme:j||o}))}const getOverlayAlpha=a=>{let o;return a<1?o=5.11916*a**2:o=4.5*Math.log(a+1)+2,(o/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(a){return typeof a=="string"}function appendOwnerState(a,o,$){return a===void 0||isHostComponent(a)?o:_extends({},o,{ownerState:_extends({},o.ownerState,$)})}function areArraysEqual(a,o,$=(j,_e)=>j===_e){return a.length===o.length&&a.every((j,_e)=>$(j,o[_e]))}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(a){const{disableDefaultClasses:o}=reactExports.useContext(ClassNameConfiguratorContext);return $=>o?"":a($)}function extractEventHandlers(a,o=[]){if(a===void 0)return{};const $={};return Object.keys(a).filter(j=>j.match(/^on[A-Z]/)&&typeof a[j]=="function"&&!o.includes(j)).forEach(j=>{$[j]=a[j]}),$}function resolveComponentProps(a,o){return typeof a=="function"?a(o):a}function omitEventHandlers(a){if(a===void 0)return{};const o={};return Object.keys(a).filter($=>!($.match(/^on[A-Z]/)&&typeof a[$]=="function")).forEach($=>{o[$]=a[$]}),o}function mergeSlotProps(a){const{getSlotProps:o,additionalProps:$,externalSlotProps:j,externalForwardedProps:_e,className:et}=a;if(!o){const vt=clsx(_e==null?void 0:_e.className,j==null?void 0:j.className,et,$==null?void 0:$.className),ht=_extends({},$==null?void 0:$.style,_e==null?void 0:_e.style,j==null?void 0:j.style),yt=_extends({},$,_e,j);return vt.length>0&&(yt.className=vt),Object.keys(ht).length>0&&(yt.style=ht),{props:yt,internalRef:void 0}}const tt=extractEventHandlers(_extends({},_e,j)),rt=omitEventHandlers(j),ot=omitEventHandlers(_e),st=o(tt),at=clsx(st==null?void 0:st.className,$==null?void 0:$.className,et,_e==null?void 0:_e.className,j==null?void 0:j.className),ut=_extends({},st==null?void 0:st.style,$==null?void 0:$.style,_e==null?void 0:_e.style,j==null?void 0:j.style),ct=_extends({},st,$,ot,rt);return at.length>0&&(ct.className=at),Object.keys(ut).length>0&&(ct.style=ut),{props:ct,internalRef:st.ref}}const _excluded$k=["elementType","externalSlotProps","ownerState"];function useSlotProps(a){var o;const{elementType:$,externalSlotProps:j,ownerState:_e}=a,et=_objectWithoutPropertiesLoose$1(a,_excluded$k),tt=resolveComponentProps(j,_e),{props:rt,internalRef:ot}=mergeSlotProps(_extends({},et,{externalSlotProps:tt})),st=useForkRef(ot,tt==null?void 0:tt.ref,(o=a.additionalProps)==null?void 0:o.ref);return appendOwnerState($,_extends({},rt,{ref:st}),_e)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(a){const o=parseInt(a.getAttribute("tabindex")||"",10);return Number.isNaN(o)?a.contentEditable==="true"||(a.nodeName==="AUDIO"||a.nodeName==="VIDEO"||a.nodeName==="DETAILS")&&a.getAttribute("tabindex")===null?0:a.tabIndex:o}function isNonTabbableRadio(a){if(a.tagName!=="INPUT"||a.type!=="radio"||!a.name)return!1;const o=j=>a.ownerDocument.querySelector(`input[type="radio"]${j}`);let $=o(`[name="${a.name}"]:checked`);return $||($=o(`[name="${a.name}"]`)),$!==a}function isNodeMatchingSelectorFocusable(a){return!(a.disabled||a.tagName==="INPUT"&&a.type==="hidden"||isNonTabbableRadio(a))}function defaultGetTabbable(a){const o=[],$=[];return Array.from(a.querySelectorAll(candidatesSelector)).forEach((j,_e)=>{const et=getTabIndex(j);et===-1||!isNodeMatchingSelectorFocusable(j)||(et===0?o.push(j):$.push({documentOrder:_e,tabIndex:et,node:j}))}),$.sort((j,_e)=>j.tabIndex===_e.tabIndex?j.documentOrder-_e.documentOrder:j.tabIndex-_e.tabIndex).map(j=>j.node).concat(o)}function defaultIsEnabled(){return!0}function FocusTrap(a){const{children:o,disableAutoFocus:$=!1,disableEnforceFocus:j=!1,disableRestoreFocus:_e=!1,getTabbable:et=defaultGetTabbable,isEnabled:tt=defaultIsEnabled,open:rt}=a,ot=reactExports.useRef(!1),st=reactExports.useRef(null),at=reactExports.useRef(null),ut=reactExports.useRef(null),ct=reactExports.useRef(null),vt=reactExports.useRef(!1),ht=reactExports.useRef(null),yt=useForkRef(o.ref,ht),bt=reactExports.useRef(null);reactExports.useEffect(()=>{!rt||!ht.current||(vt.current=!$)},[$,rt]),reactExports.useEffect(()=>{if(!rt||!ht.current)return;const Tt=ownerDocument(ht.current);return ht.current.contains(Tt.activeElement)||(ht.current.hasAttribute("tabIndex")||ht.current.setAttribute("tabIndex","-1"),vt.current&&ht.current.focus()),()=>{_e||(ut.current&&ut.current.focus&&(ot.current=!0,ut.current.focus()),ut.current=null)}},[rt]),reactExports.useEffect(()=>{if(!rt||!ht.current)return;const Tt=ownerDocument(ht.current),Ct=gt=>{const{current:wt}=ht;if(wt!==null){if(!Tt.hasFocus()||j||!tt()||ot.current){ot.current=!1;return}if(!wt.contains(Tt.activeElement)){if(gt&&ct.current!==gt.target||Tt.activeElement!==ct.current)ct.current=null;else if(ct.current!==null)return;if(!vt.current)return;let Lt=[];if((Tt.activeElement===st.current||Tt.activeElement===at.current)&&(Lt=et(ht.current)),Lt.length>0){var Mt,Ot;const jt=!!((Mt=bt.current)!=null&&Mt.shiftKey&&((Ot=bt.current)==null?void 0:Ot.key)==="Tab"),Jt=Lt[0],qt=Lt[Lt.length-1];typeof Jt!="string"&&typeof qt!="string"&&(jt?qt.focus():Jt.focus())}else wt.focus()}}},Et=gt=>{bt.current=gt,!(j||!tt()||gt.key!=="Tab")&&Tt.activeElement===ht.current&&gt.shiftKey&&(ot.current=!0,at.current&&at.current.focus())};Tt.addEventListener("focusin",Ct),Tt.addEventListener("keydown",Et,!0);const St=setInterval(()=>{Tt.activeElement&&Tt.activeElement.tagName==="BODY"&&Ct(null)},50);return()=>{clearInterval(St),Tt.removeEventListener("focusin",Ct),Tt.removeEventListener("keydown",Et,!0)}},[$,j,_e,tt,rt,et]);const dt=Tt=>{ut.current===null&&(ut.current=Tt.relatedTarget),vt.current=!0,ct.current=Tt.target;const Ct=o.props.onFocus;Ct&&Ct(Tt)},xt=Tt=>{ut.current===null&&(ut.current=Tt.relatedTarget),vt.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:rt?0:-1,onFocus:xt,ref:st,"data-testid":"sentinelStart"}),reactExports.cloneElement(o,{ref:yt,onFocus:dt}),jsxRuntimeExports.jsx("div",{tabIndex:rt?0:-1,onFocus:xt,ref:at,"data-testid":"sentinelEnd"})]})}function getContainer$1(a){return typeof a=="function"?a():a}const Portal=reactExports.forwardRef(function(o,$){const{children:j,container:_e,disablePortal:et=!1}=o,[tt,rt]=reactExports.useState(null),ot=useForkRef(reactExports.isValidElement(j)?j.ref:null,$);if(useEnhancedEffect$1(()=>{et||rt(getContainer$1(_e)||document.body)},[_e,et]),useEnhancedEffect$1(()=>{if(tt&&!et)return setRef($,tt),()=>{setRef($,null)}},[$,tt,et]),et){if(reactExports.isValidElement(j)){const st={ref:ot};return reactExports.cloneElement(j,st)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:j})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:tt&&reactDomExports.createPortal(j,tt)})}),Portal$1=Portal;function isOverflowing(a){const o=ownerDocument(a);return o.body===a?ownerWindow(a).innerWidth>o.documentElement.clientWidth:a.scrollHeight>a.clientHeight}function ariaHidden(a,o){o?a.setAttribute("aria-hidden","true"):a.removeAttribute("aria-hidden")}function getPaddingRight(a){return parseInt(ownerWindow(a).getComputedStyle(a).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(a){const $=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(a.tagName)!==-1,j=a.tagName==="INPUT"&&a.getAttribute("type")==="hidden";return $||j}function ariaHiddenSiblings(a,o,$,j,_e){const et=[o,$,...j];[].forEach.call(a.children,tt=>{const rt=et.indexOf(tt)===-1,ot=!isAriaHiddenForbiddenOnElement(tt);rt&&ot&&ariaHidden(tt,_e)})}function findIndexOf(a,o){let $=-1;return a.some((j,_e)=>o(j)?($=_e,!0):!1),$}function handleContainer(a,o){const $=[],j=a.container;if(!o.disableScrollLock){if(isOverflowing(j)){const tt=getScrollbarSize(ownerDocument(j));$.push({value:j.style.paddingRight,property:"padding-right",el:j}),j.style.paddingRight=`${getPaddingRight(j)+tt}px`;const rt=ownerDocument(j).querySelectorAll(".mui-fixed");[].forEach.call(rt,ot=>{$.push({value:ot.style.paddingRight,property:"padding-right",el:ot}),ot.style.paddingRight=`${getPaddingRight(ot)+tt}px`})}let et;if(j.parentNode instanceof DocumentFragment)et=ownerDocument(j).body;else{const tt=j.parentElement,rt=ownerWindow(j);et=(tt==null?void 0:tt.nodeName)==="HTML"&&rt.getComputedStyle(tt).overflowY==="scroll"?tt:j}$.push({value:et.style.overflow,property:"overflow",el:et},{value:et.style.overflowX,property:"overflow-x",el:et},{value:et.style.overflowY,property:"overflow-y",el:et}),et.style.overflow="hidden"}return()=>{$.forEach(({value:et,el:tt,property:rt})=>{et?tt.style.setProperty(rt,et):tt.style.removeProperty(rt)})}}function getHiddenSiblings(a){const o=[];return[].forEach.call(a.children,$=>{$.getAttribute("aria-hidden")==="true"&&o.push($)}),o}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,$){let j=this.modals.indexOf(o);if(j!==-1)return j;j=this.modals.length,this.modals.push(o),o.modalRef&&ariaHidden(o.modalRef,!1);const _e=getHiddenSiblings($);ariaHiddenSiblings($,o.mount,o.modalRef,_e,!0);const et=findIndexOf(this.containers,tt=>tt.container===$);return et!==-1?(this.containers[et].modals.push(o),j):(this.containers.push({modals:[o],container:$,restore:null,hiddenSiblings:_e}),j)}mount(o,$){const j=findIndexOf(this.containers,et=>et.modals.indexOf(o)!==-1),_e=this.containers[j];_e.restore||(_e.restore=handleContainer(_e,$))}remove(o,$=!0){const j=this.modals.indexOf(o);if(j===-1)return j;const _e=findIndexOf(this.containers,tt=>tt.modals.indexOf(o)!==-1),et=this.containers[_e];if(et.modals.splice(et.modals.indexOf(o),1),this.modals.splice(j,1),et.modals.length===0)et.restore&&et.restore(),o.modalRef&&ariaHidden(o.modalRef,$),ariaHiddenSiblings(et.container,o.mount,o.modalRef,et.hiddenSiblings,!1),this.containers.splice(_e,1);else{const tt=et.modals[et.modals.length-1];tt.modalRef&&ariaHidden(tt.modalRef,!1)}return j}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function getModalUtilityClass(a){return generateUtilityClass("MuiModal",a)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$j=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$f=a=>{const{open:o,exited:$}=a;return composeClasses({root:["root",!o&&$&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(a){return typeof a=="function"?a():a}function getHasTransition(a){return a?a.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function(o,$){var j,_e;const{children:et,closeAfterTransition:tt=!1,container:rt,disableAutoFocus:ot=!1,disableEnforceFocus:st=!1,disableEscapeKeyDown:at=!1,disablePortal:ut=!1,disableRestoreFocus:ct=!1,disableScrollLock:vt=!1,hideBackdrop:ht=!1,keepMounted:yt=!1,manager:bt=defaultManager,onBackdropClick:dt,onClose:xt,onKeyDown:Tt,open:Ct,onTransitionEnter:Et,onTransitionExited:St,slotProps:gt={},slots:wt={}}=o,Mt=_objectWithoutPropertiesLoose$1(o,_excluded$j),Ot=bt,[Lt,jt]=reactExports.useState(!Ct),Jt=reactExports.useRef({}),qt=reactExports.useRef(null),rn=reactExports.useRef(null),an=useForkRef(rn,$),pn=getHasTransition(et),Kt=(j=o["aria-hidden"])!=null?j:!0,Qt=()=>ownerDocument(qt.current),fn=()=>(Jt.current.modalRef=rn.current,Jt.current.mountNode=qt.current,Jt.current),ln=()=>{Ot.mount(fn(),{disableScrollLock:vt}),rn.current&&(rn.current.scrollTop=0)},vn=useEventCallback(()=>{const gn=getContainer(rt)||Qt().body;Ot.add(fn(),gn),rn.current&&ln()}),Cn=reactExports.useCallback(()=>Ot.isTopModal(fn()),[Ot]),kn=useEventCallback(gn=>{qt.current=gn,!(!gn||!rn.current)&&(Ct&&Cn()?ln():ariaHidden(rn.current,Kt))}),_n=reactExports.useCallback(()=>{Ot.remove(fn(),Kt)},[Ot,Kt]);reactExports.useEffect(()=>()=>{_n()},[_n]),reactExports.useEffect(()=>{Ct?vn():(!pn||!tt)&&_n()},[Ct,_n,pn,tt,vn]);const Ut=_extends({},o,{closeAfterTransition:tt,disableAutoFocus:ot,disableEnforceFocus:st,disableEscapeKeyDown:at,disablePortal:ut,disableRestoreFocus:ct,disableScrollLock:vt,exited:Lt,hideBackdrop:ht,keepMounted:yt}),Vt=useUtilityClasses$f(Ut),Ht=()=>{jt(!1),Et&&Et()},yn=()=>{jt(!0),St&&St(),tt&&_n()},En=gn=>{gn.target===gn.currentTarget&&(dt&&dt(gn),xt&&xt(gn,"backdropClick"))},Rt=gn=>{Tt&&Tt(gn),!(gn.key!=="Escape"||!Cn())&&(at||(gn.stopPropagation(),xt&&xt(gn,"escapeKeyDown")))},$t={};et.props.tabIndex===void 0&&($t.tabIndex="-1"),pn&&($t.onEnter=createChainedFunction(Ht,et.props.onEnter),$t.onExited=createChainedFunction(yn,et.props.onExited));const tn=(_e=wt.root)!=null?_e:"div",dn=useSlotProps({elementType:tn,externalSlotProps:gt.root,externalForwardedProps:Mt,additionalProps:{ref:an,role:"presentation",onKeyDown:Rt},className:Vt.root,ownerState:Ut}),en=wt.backdrop,mn=useSlotProps({elementType:en,externalSlotProps:gt.backdrop,additionalProps:{"aria-hidden":!0,onClick:En,open:Ct},className:Vt.backdrop,ownerState:Ut});return!yt&&!Ct&&(!pn||Lt)?null:jsxRuntimeExports.jsx(Portal$1,{ref:kn,container:rt,disablePortal:ut,children:jsxRuntimeExports.jsxs(tn,_extends({},dn,{children:[!ht&&en?jsxRuntimeExports.jsx(en,_extends({},mn)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:st,disableAutoFocus:ot,disableRestoreFocus:ct,isEnabled:Cn,open:Ct,children:reactExports.cloneElement(et,$t)})]}))})}),ModalUnstyled=Modal$2,INTENTIONAL_DRAG_COUNT_THRESHOLD=2;function asc(a,o){return a-o}function clamp$1(a,o,$){return a==null?o:Math.min(Math.max(o,a),$)}function findClosest(a,o){var $;const{index:j}=($=a.reduce((_e,et,tt)=>{const rt=Math.abs(o-et);return _e===null||rt<_e.distance||rt===_e.distance?{distance:rt,index:tt}:_e},null))!=null?$:{};return j}function trackFinger(a,o){if(o.current!==void 0&&a.changedTouches){const $=a;for(let j=0;j<$.changedTouches.length;j+=1){const _e=$.changedTouches[j];if(_e.identifier===o.current)return{x:_e.clientX,y:_e.clientY}}return!1}return{x:a.clientX,y:a.clientY}}function valueToPercent(a,o,$){return(a-o)*100/($-o)}function percentToValue(a,o,$){return($-o)*a+o}function getDecimalPrecision(a){if(Math.abs(a)<1){const $=a.toExponential().split("e-"),j=$[0].split(".")[1];return(j?j.length:0)+parseInt($[1],10)}const o=a.toString().split(".")[1];return o?o.length:0}function roundValueToStep(a,o,$){const j=Math.round((a-$)/o)*o+$;return Number(j.toFixed(getDecimalPrecision(o)))}function setValueIndex({values:a,newValue:o,index:$}){const j=a.slice();return j[$]=o,j.sort(asc)}function focusThumb({sliderRef:a,activeIndex:o,setActive:$}){var j,_e;const et=ownerDocument(a.current);if(!((j=a.current)!=null&&j.contains(et.activeElement))||Number(et==null||(_e=et.activeElement)==null?void 0:_e.getAttribute("data-index"))!==o){var tt;(tt=a.current)==null||tt.querySelector(`[type="range"][data-index="${o}"]`).focus()}$&&$(o)}function areValuesEqual(a,o){return typeof a=="number"&&typeof o=="number"?a===o:typeof a=="object"&&typeof o=="object"?areArraysEqual(a,o):!1}const axisProps={horizontal:{offset:a=>({left:`${a}%`}),leap:a=>({width:`${a}%`})},"horizontal-reverse":{offset:a=>({right:`${a}%`}),leap:a=>({width:`${a}%`})},vertical:{offset:a=>({bottom:`${a}%`}),leap:a=>({height:`${a}%`})}},Identity$1=a=>a;let cachedSupportsTouchActionNone;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cachedSupportsTouchActionNone=CSS.supports("touch-action","none"):cachedSupportsTouchActionNone=!0),cachedSupportsTouchActionNone}function useSlider(a){const{"aria-labelledby":o,defaultValue:$,disabled:j=!1,disableSwap:_e=!1,isRtl:et=!1,marks:tt=!1,max:rt=100,min:ot=0,name:st,onChange:at,onChangeCommitted:ut,orientation:ct="horizontal",rootRef:vt,scale:ht=Identity$1,step:yt=1,tabIndex:bt,value:dt}=a,xt=reactExports.useRef(),[Tt,Ct]=reactExports.useState(-1),[Et,St]=reactExports.useState(-1),[gt,wt]=reactExports.useState(!1),Mt=reactExports.useRef(0),[Ot,Lt]=useControlled({controlled:dt,default:$??ot,name:"Slider"}),jt=at&&((Xt,nn,Tn)=>{const At=Xt.nativeEvent||Xt,ft=new At.constructor(At.type,At);Object.defineProperty(ft,"target",{writable:!0,value:{value:nn,name:st}}),at(ft,nn,Tn)}),Jt=Array.isArray(Ot);let qt=Jt?Ot.slice().sort(asc):[Ot];qt=qt.map(Xt=>clamp$1(Xt,ot,rt));const rn=tt===!0&&yt!==null?[...Array(Math.floor((rt-ot)/yt)+1)].map((Xt,nn)=>({value:ot+yt*nn})):tt||[],an=rn.map(Xt=>Xt.value),{isFocusVisibleRef:pn,onBlur:Kt,onFocus:Qt,ref:fn}=useIsFocusVisible(),[ln,vn]=reactExports.useState(-1),Cn=reactExports.useRef(),kn=useForkRef(fn,Cn),_n=useForkRef(vt,kn),Ut=Xt=>nn=>{var Tn;const At=Number(nn.currentTarget.getAttribute("data-index"));Qt(nn),pn.current===!0&&vn(At),St(At),Xt==null||(Tn=Xt.onFocus)==null||Tn.call(Xt,nn)},Vt=Xt=>nn=>{var Tn;Kt(nn),pn.current===!1&&vn(-1),St(-1),Xt==null||(Tn=Xt.onBlur)==null||Tn.call(Xt,nn)};useEnhancedEffect$1(()=>{if(j&&Cn.current.contains(document.activeElement)){var Xt;(Xt=document.activeElement)==null||Xt.blur()}},[j]),j&&Tt!==-1&&Ct(-1),j&&ln!==-1&&vn(-1);const Ht=Xt=>nn=>{var Tn;(Tn=Xt.onChange)==null||Tn.call(Xt,nn);const At=Number(nn.currentTarget.getAttribute("data-index")),ft=qt[At],mt=an.indexOf(ft);let Nt=nn.target.valueAsNumber;if(rn&&yt==null){const Ft=an[an.length-1];Nt>Ft?Nt=Ft:Nt<an[0]?Nt=an[0]:Nt=Nt<ft?an[mt-1]:an[mt+1]}if(Nt=clamp$1(Nt,ot,rt),Jt){_e&&(Nt=clamp$1(Nt,qt[At-1]||-1/0,qt[At+1]||1/0));const Ft=Nt;Nt=setValueIndex({values:qt,newValue:Nt,index:At});let zt=At;_e||(zt=Nt.indexOf(Ft)),focusThumb({sliderRef:Cn,activeIndex:zt})}Lt(Nt),vn(At),jt&&!areValuesEqual(Nt,Ot)&&jt(nn,Nt,At),ut&&ut(nn,Nt)},yn=reactExports.useRef();let En=ct;et&&ct==="horizontal"&&(En+="-reverse");const Rt=({finger:Xt,move:nn=!1})=>{const{current:Tn}=Cn,{width:At,height:ft,bottom:mt,left:Nt}=Tn.getBoundingClientRect();let Ft;En.indexOf("vertical")===0?Ft=(mt-Xt.y)/ft:Ft=(Xt.x-Nt)/At,En.indexOf("-reverse")!==-1&&(Ft=1-Ft);let zt;if(zt=percentToValue(Ft,ot,rt),yt)zt=roundValueToStep(zt,yt,ot);else{const An=findClosest(an,zt);zt=an[An]}zt=clamp$1(zt,ot,rt);let Zt=0;if(Jt){nn?Zt=yn.current:Zt=findClosest(qt,zt),_e&&(zt=clamp$1(zt,qt[Zt-1]||-1/0,qt[Zt+1]||1/0));const An=zt;zt=setValueIndex({values:qt,newValue:zt,index:Zt}),_e&&nn||(Zt=zt.indexOf(An),yn.current=Zt)}return{newValue:zt,activeIndex:Zt}},$t=useEventCallback(Xt=>{const nn=trackFinger(Xt,xt);if(!nn)return;if(Mt.current+=1,Xt.type==="mousemove"&&Xt.buttons===0){tn(Xt);return}const{newValue:Tn,activeIndex:At}=Rt({finger:nn,move:!0});focusThumb({sliderRef:Cn,activeIndex:At,setActive:Ct}),Lt(Tn),!gt&&Mt.current>INTENTIONAL_DRAG_COUNT_THRESHOLD&&wt(!0),jt&&!areValuesEqual(Tn,Ot)&&jt(Xt,Tn,At)}),tn=useEventCallback(Xt=>{const nn=trackFinger(Xt,xt);if(wt(!1),!nn)return;const{newValue:Tn}=Rt({finger:nn,move:!0});Ct(-1),Xt.type==="touchend"&&St(-1),ut&&ut(Xt,Tn),xt.current=void 0,en()}),dn=useEventCallback(Xt=>{if(j)return;doesSupportTouchActionNone()||Xt.preventDefault();const nn=Xt.changedTouches[0];nn!=null&&(xt.current=nn.identifier);const Tn=trackFinger(Xt,xt);if(Tn!==!1){const{newValue:ft,activeIndex:mt}=Rt({finger:Tn});focusThumb({sliderRef:Cn,activeIndex:mt,setActive:Ct}),Lt(ft),jt&&!areValuesEqual(ft,Ot)&&jt(Xt,ft,mt)}Mt.current=0;const At=ownerDocument(Cn.current);At.addEventListener("touchmove",$t),At.addEventListener("touchend",tn)}),en=reactExports.useCallback(()=>{const Xt=ownerDocument(Cn.current);Xt.removeEventListener("mousemove",$t),Xt.removeEventListener("mouseup",tn),Xt.removeEventListener("touchmove",$t),Xt.removeEventListener("touchend",tn)},[tn,$t]);reactExports.useEffect(()=>{const{current:Xt}=Cn;return Xt.addEventListener("touchstart",dn,{passive:doesSupportTouchActionNone()}),()=>{Xt.removeEventListener("touchstart",dn,{passive:doesSupportTouchActionNone()}),en()}},[en,dn]),reactExports.useEffect(()=>{j&&en()},[j,en]);const mn=Xt=>nn=>{var Tn;if((Tn=Xt.onMouseDown)==null||Tn.call(Xt,nn),j||nn.defaultPrevented||nn.button!==0)return;nn.preventDefault();const At=trackFinger(nn,xt);if(At!==!1){const{newValue:mt,activeIndex:Nt}=Rt({finger:At});focusThumb({sliderRef:Cn,activeIndex:Nt,setActive:Ct}),Lt(mt),jt&&!areValuesEqual(mt,Ot)&&jt(nn,mt,Nt)}Mt.current=0;const ft=ownerDocument(Cn.current);ft.addEventListener("mousemove",$t),ft.addEventListener("mouseup",tn)},gn=valueToPercent(Jt?qt[0]:ot,ot,rt),Rn=valueToPercent(qt[qt.length-1],ot,rt)-gn,In=(Xt={})=>{const nn={onMouseDown:mn(Xt||{})},Tn=_extends({},Xt,nn);return _extends({ref:_n},Tn)},bn=Xt=>nn=>{var Tn;(Tn=Xt.onMouseOver)==null||Tn.call(Xt,nn);const At=Number(nn.currentTarget.getAttribute("data-index"));St(At)},On=Xt=>nn=>{var Tn;(Tn=Xt.onMouseLeave)==null||Tn.call(Xt,nn),St(-1)};return{active:Tt,axis:En,axisProps,dragging:gt,focusedThumbIndex:ln,getHiddenInputProps:(Xt={})=>{var nn;const Tn={onChange:Ht(Xt||{}),onFocus:Ut(Xt||{}),onBlur:Vt(Xt||{})},At=_extends({},Xt,Tn);return _extends({tabIndex:bt,"aria-labelledby":o,"aria-orientation":ct,"aria-valuemax":ht(rt),"aria-valuemin":ht(ot),name:st,type:"range",min:a.min,max:a.max,step:a.step===null&&a.marks?"any":(nn=a.step)!=null?nn:void 0,disabled:j},At,{style:_extends({},visuallyHidden$1,{direction:et?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:In,getThumbProps:(Xt={})=>{const nn={onMouseOver:bn(Xt||{}),onMouseLeave:On(Xt||{})};return _extends({},Xt,nn)},marks:rn,open:Et,range:Jt,rootRef:_n,trackLeap:Rn,trackOffset:gn,values:qt}}function getSvgIconUtilityClass(a){return generateUtilityClass("MuiSvgIcon",a)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$i=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$e=a=>{const{color:o,fontSize:$,classes:j}=a,_e={root:["root",o!=="inherit"&&`color${capitalize(o)}`,`fontSize${capitalize($)}`]};return composeClasses(_e,getSvgIconUtilityClass,j)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.color!=="inherit"&&o[`color${capitalize($.color)}`],o[`fontSize${capitalize($.fontSize)}`]]}})(({theme:a,ownerState:o})=>{var $,j,_e,et,tt,rt,ot,st,at,ut,ct,vt,ht,yt,bt,dt,xt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:($=a.transitions)==null||(j=$.create)==null?void 0:j.call($,"fill",{duration:(_e=a.transitions)==null||(et=_e.duration)==null?void 0:et.shorter}),fontSize:{inherit:"inherit",small:((tt=a.typography)==null||(rt=tt.pxToRem)==null?void 0:rt.call(tt,20))||"1.25rem",medium:((ot=a.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,24))||"1.5rem",large:((at=a.typography)==null||(ut=at.pxToRem)==null?void 0:ut.call(at,35))||"2.1875rem"}[o.fontSize],color:(ct=(vt=(a.vars||a).palette)==null||(ht=vt[o.color])==null?void 0:ht.main)!=null?ct:{action:(yt=(a.vars||a).palette)==null||(bt=yt.action)==null?void 0:bt.active,disabled:(dt=(a.vars||a).palette)==null||(xt=dt.action)==null?void 0:xt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiSvgIcon"}),{children:_e,className:et,color:tt="inherit",component:rt="svg",fontSize:ot="medium",htmlColor:st,inheritViewBox:at=!1,titleAccess:ut,viewBox:ct="0 0 24 24"}=j,vt=_objectWithoutPropertiesLoose$1(j,_excluded$i),ht=reactExports.isValidElement(_e)&&_e.type==="svg",yt=_extends({},j,{color:tt,component:rt,fontSize:ot,instanceFontSize:o.fontSize,inheritViewBox:at,viewBox:ct,hasSvgAsChild:ht}),bt={};at||(bt.viewBox=ct);const dt=useUtilityClasses$e(yt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:rt,className:clsx(dt.root,et),focusable:"false",color:st,"aria-hidden":ut?void 0:!0,role:ut?"img":void 0,ref:$},bt,vt,ht&&_e.props,{ownerState:yt,children:[ht?_e.props.children:_e,ut?jsxRuntimeExports.jsx("title",{children:ut}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon(a,o){function $(j,_e){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${o}Icon`,ref:_e},j,{children:a}))}return $.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef($))}function _setPrototypeOf(a,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf(a,o)}function _inheritsLoose$1(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,_setPrototypeOf(a,o)}const config$2={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(a){_inheritsLoose$1(o,a);function o(j,_e){var et;et=a.call(this,j,_e)||this;var tt=_e,rt=tt&&!tt.isMounting?j.enter:j.appear,ot;return et.appearStatus=null,j.in?rt?(ot=EXITED,et.appearStatus=ENTERING):ot=ENTERED:j.unmountOnExit||j.mountOnEnter?ot=UNMOUNTED:ot=EXITED,et.state={status:ot},et.nextCallback=null,et}o.getDerivedStateFromProps=function(_e,et){var tt=_e.in;return tt&&et.status===UNMOUNTED?{status:EXITED}:null};var $=o.prototype;return $.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},$.componentDidUpdate=function(_e){var et=null;if(_e!==this.props){var tt=this.state.status;this.props.in?tt!==ENTERING&&tt!==ENTERED&&(et=ENTERING):(tt===ENTERING||tt===ENTERED)&&(et=EXITING)}this.updateStatus(!1,et)},$.componentWillUnmount=function(){this.cancelNextCallback()},$.getTimeouts=function(){var _e=this.props.timeout,et,tt,rt;return et=tt=rt=_e,_e!=null&&typeof _e!="number"&&(et=_e.exit,tt=_e.enter,rt=_e.appear!==void 0?_e.appear:tt),{exit:et,enter:tt,appear:rt}},$.updateStatus=function(_e,et){if(_e===void 0&&(_e=!1),et!==null)if(this.cancelNextCallback(),et===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);tt&&forceReflow(tt)}this.performEnter(_e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},$.performEnter=function(_e){var et=this,tt=this.props.enter,rt=this.context?this.context.isMounting:_e,ot=this.props.nodeRef?[rt]:[ReactDOM.findDOMNode(this),rt],st=ot[0],at=ot[1],ut=this.getTimeouts(),ct=rt?ut.appear:ut.enter;if(!_e&&!tt||config$2.disabled){this.safeSetState({status:ENTERED},function(){et.props.onEntered(st)});return}this.props.onEnter(st,at),this.safeSetState({status:ENTERING},function(){et.props.onEntering(st,at),et.onTransitionEnd(ct,function(){et.safeSetState({status:ENTERED},function(){et.props.onEntered(st,at)})})})},$.performExit=function(){var _e=this,et=this.props.exit,tt=this.getTimeouts(),rt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!et||config$2.disabled){this.safeSetState({status:EXITED},function(){_e.props.onExited(rt)});return}this.props.onExit(rt),this.safeSetState({status:EXITING},function(){_e.props.onExiting(rt),_e.onTransitionEnd(tt.exit,function(){_e.safeSetState({status:EXITED},function(){_e.props.onExited(rt)})})})},$.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},$.safeSetState=function(_e,et){et=this.setNextCallback(et),this.setState(_e,et)},$.setNextCallback=function(_e){var et=this,tt=!0;return this.nextCallback=function(rt){tt&&(tt=!1,et.nextCallback=null,_e(rt))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},$.onTransitionEnd=function(_e,et){this.setNextCallback(et);var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),rt=_e==null&&!this.props.addEndListener;if(!tt||rt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ot=this.props.nodeRef?[this.nextCallback]:[tt,this.nextCallback],st=ot[0],at=ot[1];this.props.addEndListener(st,at)}_e!=null&&setTimeout(this.nextCallback,_e)},$.render=function(){var _e=this.state.status;if(_e===UNMOUNTED)return null;var et=this.props,tt=et.children;et.in,et.mountOnEnter,et.unmountOnExit,et.appear,et.enter,et.exit,et.timeout,et.addEndListener,et.onEnter,et.onEntering,et.onEntered,et.onExit,et.onExiting,et.onExited,et.nodeRef;var rt=_objectWithoutPropertiesLoose$1(et,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof tt=="function"?tt(_e,rt):React.cloneElement(React.Children.only(tt),rt))},o}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$4(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$4,onEntering:noop$4,onEntered:noop$4,onExit:noop$4,onExiting:noop$4,onExited:noop$4};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function getChildMapping(a,o){var $=function(et){return o&&reactExports.isValidElement(et)?o(et):et},j=Object.create(null);return a&&reactExports.Children.map(a,function(_e){return _e}).forEach(function(_e){j[_e.key]=$(_e)}),j}function mergeChildMappings(a,o){a=a||{},o=o||{};function $(at){return at in o?o[at]:a[at]}var j=Object.create(null),_e=[];for(var et in a)et in o?_e.length&&(j[et]=_e,_e=[]):_e.push(et);var tt,rt={};for(var ot in o){if(j[ot])for(tt=0;tt<j[ot].length;tt++){var st=j[ot][tt];rt[j[ot][tt]]=$(st)}rt[ot]=$(ot)}for(tt=0;tt<_e.length;tt++)rt[_e[tt]]=$(_e[tt]);return rt}function getProp(a,o,$){return $[o]!=null?$[o]:a.props[o]}function getInitialChildMapping(a,o){return getChildMapping(a.children,function($){return reactExports.cloneElement($,{onExited:o.bind(null,$),in:!0,appear:getProp($,"appear",a),enter:getProp($,"enter",a),exit:getProp($,"exit",a)})})}function getNextChildMapping(a,o,$){var j=getChildMapping(a.children),_e=mergeChildMappings(o,j);return Object.keys(_e).forEach(function(et){var tt=_e[et];if(reactExports.isValidElement(tt)){var rt=et in o,ot=et in j,st=o[et],at=reactExports.isValidElement(st)&&!st.props.in;ot&&(!rt||at)?_e[et]=reactExports.cloneElement(tt,{onExited:$.bind(null,tt),in:!0,exit:getProp(tt,"exit",a),enter:getProp(tt,"enter",a)}):!ot&&rt&&!at?_e[et]=reactExports.cloneElement(tt,{in:!1}):ot&&rt&&reactExports.isValidElement(st)&&(_e[et]=reactExports.cloneElement(tt,{onExited:$.bind(null,tt),in:st.props.in,exit:getProp(tt,"exit",a),enter:getProp(tt,"enter",a)}))}}),_e}var values=Object.values||function(a){return Object.keys(a).map(function(o){return a[o]})},defaultProps$1={component:"div",childFactory:function(o){return o}},TransitionGroup=function(a){_inheritsLoose$1(o,a);function o(j,_e){var et;et=a.call(this,j,_e)||this;var tt=et.handleExited.bind(_assertThisInitialized(et));return et.state={contextValue:{isMounting:!0},handleExited:tt,firstRender:!0},et}var $=o.prototype;return $.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},$.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(_e,et){var tt=et.children,rt=et.handleExited,ot=et.firstRender;return{children:ot?getInitialChildMapping(_e,rt):getNextChildMapping(_e,tt,rt),firstRender:!1}},$.handleExited=function(_e,et){var tt=getChildMapping(this.props.children);_e.key in tt||(_e.props.onExited&&_e.props.onExited(et),this.mounted&&this.setState(function(rt){var ot=_extends({},rt.children);return delete ot[_e.key],{children:ot}}))},$.render=function(){var _e=this.props,et=_e.component,tt=_e.childFactory,rt=_objectWithoutPropertiesLoose$1(_e,["component","childFactory"]),ot=this.state.contextValue,st=values(this.state.children).map(tt);return delete rt.appear,delete rt.enter,delete rt.exit,et===null?React.createElement(TransitionGroupContext.Provider,{value:ot},st):React.createElement(TransitionGroupContext.Provider,{value:ot},React.createElement(et,rt,st))},o}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$1;const TransitionGroup$1=TransitionGroup,reflow=a=>a.scrollTop;function getTransitionProps(a,o){var $,j;const{timeout:_e,easing:et,style:tt={}}=a;return{duration:($=tt.transitionDuration)!=null?$:typeof _e=="number"?_e:_e[o.mode]||0,easing:(j=tt.transitionTimingFunction)!=null?j:typeof et=="object"?et[o.mode]:et,delay:tt.transitionDelay}}function getPaperUtilityClass(a){return generateUtilityClass("MuiPaper",a)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$h=["className","component","elevation","square","variant"],useUtilityClasses$d=a=>{const{square:o,elevation:$,variant:j,classes:_e}=a,et={root:["root",j,!o&&"rounded",j==="elevation"&&`elevation${$}`]};return composeClasses(et,getPaperUtilityClass,_e)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[$.variant],!$.square&&o.rounded,$.variant==="elevation"&&o[`elevation${$.elevation}`]]}})(({theme:a,ownerState:o})=>{var $;return _extends({backgroundColor:(a.vars||a).palette.background.paper,color:(a.vars||a).palette.text.primary,transition:a.transitions.create("box-shadow")},!o.square&&{borderRadius:a.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${(a.vars||a).palette.divider}`},o.variant==="elevation"&&_extends({boxShadow:(a.vars||a).shadows[o.elevation]},!a.vars&&a.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(o.elevation))}, ${alpha("#fff",getOverlayAlpha$1(o.elevation))})`},a.vars&&{backgroundImage:($=a.vars.overlays)==null?void 0:$[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiPaper"}),{className:_e,component:et="div",elevation:tt=1,square:rt=!1,variant:ot="elevation"}=j,st=_objectWithoutPropertiesLoose$1(j,_excluded$h),at=_extends({},j,{component:et,elevation:tt,square:rt,variant:ot}),ut=useUtilityClasses$d(at);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:et,ownerState:at,className:clsx(ut.root,_e),ref:$},st))}),Paper$1=Paper;function Ripple(a){const{className:o,classes:$,pulsate:j=!1,rippleX:_e,rippleY:et,rippleSize:tt,in:rt,onExited:ot,timeout:st}=a,[at,ut]=reactExports.useState(!1),ct=clsx(o,$.ripple,$.rippleVisible,j&&$.ripplePulsate),vt={width:tt,height:tt,top:-(tt/2)+et,left:-(tt/2)+_e},ht=clsx($.child,at&&$.childLeaving,j&&$.childPulsate);return!rt&&!at&&ut(!0),reactExports.useEffect(()=>{if(!rt&&ot!=null){const yt=setTimeout(ot,st);return()=>{clearTimeout(yt)}}},[ot,rt,st]),jsxRuntimeExports.jsx("span",{className:ct,style:vt,children:jsxRuntimeExports.jsx("span",{className:ht})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$g=["center","classes","className"];let _$1=a=>a,_t$1,_t2$1,_t3$1,_t4$1;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$1||(_t$1=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$1||(_t2$1=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$1||(_t3$1=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$1||(_t4$1=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:a})=>a.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:a})=>a.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:a})=>a.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:a})=>a.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiTouchRipple"}),{center:_e=!1,classes:et={},className:tt}=j,rt=_objectWithoutPropertiesLoose$1(j,_excluded$g),[ot,st]=reactExports.useState([]),at=reactExports.useRef(0),ut=reactExports.useRef(null);reactExports.useEffect(()=>{ut.current&&(ut.current(),ut.current=null)},[ot]);const ct=reactExports.useRef(!1),vt=reactExports.useRef(0),ht=reactExports.useRef(null),yt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{vt.current&&clearTimeout(vt.current)},[]);const bt=reactExports.useCallback(Ct=>{const{pulsate:Et,rippleX:St,rippleY:gt,rippleSize:wt,cb:Mt}=Ct;st(Ot=>[...Ot,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(et.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(et.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(et.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(et.child,touchRippleClasses$1.child),childLeaving:clsx(et.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(et.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:Et,rippleX:St,rippleY:gt,rippleSize:wt},at.current)]),at.current+=1,ut.current=Mt},[et]),dt=reactExports.useCallback((Ct={},Et={},St=()=>{})=>{const{pulsate:gt=!1,center:wt=_e||Et.pulsate,fakeElement:Mt=!1}=Et;if((Ct==null?void 0:Ct.type)==="mousedown"&&ct.current){ct.current=!1;return}(Ct==null?void 0:Ct.type)==="touchstart"&&(ct.current=!0);const Ot=Mt?null:yt.current,Lt=Ot?Ot.getBoundingClientRect():{width:0,height:0,left:0,top:0};let jt,Jt,qt;if(wt||Ct===void 0||Ct.clientX===0&&Ct.clientY===0||!Ct.clientX&&!Ct.touches)jt=Math.round(Lt.width/2),Jt=Math.round(Lt.height/2);else{const{clientX:rn,clientY:an}=Ct.touches&&Ct.touches.length>0?Ct.touches[0]:Ct;jt=Math.round(rn-Lt.left),Jt=Math.round(an-Lt.top)}if(wt)qt=Math.sqrt((2*Lt.width**2+Lt.height**2)/3),qt%2===0&&(qt+=1);else{const rn=Math.max(Math.abs((Ot?Ot.clientWidth:0)-jt),jt)*2+2,an=Math.max(Math.abs((Ot?Ot.clientHeight:0)-Jt),Jt)*2+2;qt=Math.sqrt(rn**2+an**2)}Ct!=null&&Ct.touches?ht.current===null&&(ht.current=()=>{bt({pulsate:gt,rippleX:jt,rippleY:Jt,rippleSize:qt,cb:St})},vt.current=setTimeout(()=>{ht.current&&(ht.current(),ht.current=null)},DELAY_RIPPLE)):bt({pulsate:gt,rippleX:jt,rippleY:Jt,rippleSize:qt,cb:St})},[_e,bt]),xt=reactExports.useCallback(()=>{dt({},{pulsate:!0})},[dt]),Tt=reactExports.useCallback((Ct,Et)=>{if(clearTimeout(vt.current),(Ct==null?void 0:Ct.type)==="touchend"&&ht.current){ht.current(),ht.current=null,vt.current=setTimeout(()=>{Tt(Ct,Et)});return}ht.current=null,st(St=>St.length>0?St.slice(1):St),ut.current=Et},[]);return reactExports.useImperativeHandle($,()=>({pulsate:xt,start:dt,stop:Tt}),[xt,dt,Tt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,et.root,tt),ref:yt},rt,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:ot})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(a){return generateUtilityClass("MuiButtonBase",a)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$f=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$c=a=>{const{disabled:o,focusVisible:$,focusVisibleClassName:j,classes:_e}=a,tt=composeClasses({root:["root",o&&"disabled",$&&"focusVisible"]},getButtonBaseUtilityClass,_e);return $&&j&&(tt.root+=` ${j}`),tt},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(a,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiButtonBase"}),{action:_e,centerRipple:et=!1,children:tt,className:rt,component:ot="button",disabled:st=!1,disableRipple:at=!1,disableTouchRipple:ut=!1,focusRipple:ct=!1,LinkComponent:vt="a",onBlur:ht,onClick:yt,onContextMenu:bt,onDragLeave:dt,onFocus:xt,onFocusVisible:Tt,onKeyDown:Ct,onKeyUp:Et,onMouseDown:St,onMouseLeave:gt,onMouseUp:wt,onTouchEnd:Mt,onTouchMove:Ot,onTouchStart:Lt,tabIndex:jt=0,TouchRippleProps:Jt,touchRippleRef:qt,type:rn}=j,an=_objectWithoutPropertiesLoose$1(j,_excluded$f),pn=reactExports.useRef(null),Kt=reactExports.useRef(null),Qt=useForkRef(Kt,qt),{isFocusVisibleRef:fn,onFocus:ln,onBlur:vn,ref:Cn}=useIsFocusVisible(),[kn,_n]=reactExports.useState(!1);st&&kn&&_n(!1),reactExports.useImperativeHandle(_e,()=>({focusVisible:()=>{_n(!0),pn.current.focus()}}),[]);const[Ut,Vt]=reactExports.useState(!1);reactExports.useEffect(()=>{Vt(!0)},[]);const Ht=Ut&&!at&&!st;reactExports.useEffect(()=>{kn&&ct&&!at&&Ut&&Kt.current.pulsate()},[at,ct,kn,Ut]);function yn(mt,Nt,Ft=ut){return useEventCallback(zt=>(Nt&&Nt(zt),!Ft&&Kt.current&&Kt.current[mt](zt),!0))}const En=yn("start",St),Rt=yn("stop",bt),$t=yn("stop",dt),tn=yn("stop",wt),dn=yn("stop",mt=>{kn&&mt.preventDefault(),gt&&gt(mt)}),en=yn("start",Lt),mn=yn("stop",Mt),gn=yn("stop",Ot),Rn=yn("stop",mt=>{vn(mt),fn.current===!1&&_n(!1),ht&&ht(mt)},!1),In=useEventCallback(mt=>{pn.current||(pn.current=mt.currentTarget),ln(mt),fn.current===!0&&(_n(!0),Tt&&Tt(mt)),xt&&xt(mt)}),bn=()=>{const mt=pn.current;return ot&&ot!=="button"&&!(mt.tagName==="A"&&mt.href)},On=reactExports.useRef(!1),Gn=useEventCallback(mt=>{ct&&!On.current&&kn&&Kt.current&&mt.key===" "&&(On.current=!0,Kt.current.stop(mt,()=>{Kt.current.start(mt)})),mt.target===mt.currentTarget&&bn()&&mt.key===" "&&mt.preventDefault(),Ct&&Ct(mt),mt.target===mt.currentTarget&&bn()&&mt.key==="Enter"&&!st&&(mt.preventDefault(),yt&&yt(mt))}),Jn=useEventCallback(mt=>{ct&&mt.key===" "&&Kt.current&&kn&&!mt.defaultPrevented&&(On.current=!1,Kt.current.stop(mt,()=>{Kt.current.pulsate(mt)})),Et&&Et(mt),yt&&mt.target===mt.currentTarget&&bn()&&mt.key===" "&&!mt.defaultPrevented&&yt(mt)});let Xt=ot;Xt==="button"&&(an.href||an.to)&&(Xt=vt);const nn={};Xt==="button"?(nn.type=rn===void 0?"button":rn,nn.disabled=st):(!an.href&&!an.to&&(nn.role="button"),st&&(nn["aria-disabled"]=st));const Tn=useForkRef($,Cn,pn),At=_extends({},j,{centerRipple:et,component:ot,disabled:st,disableRipple:at,disableTouchRipple:ut,focusRipple:ct,tabIndex:jt,focusVisible:kn}),ft=useUtilityClasses$c(At);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:Xt,className:clsx(ft.root,rt),ownerState:At,onBlur:Rn,onClick:yt,onContextMenu:Rt,onFocus:In,onKeyDown:Gn,onKeyUp:Jn,onMouseDown:En,onMouseLeave:dn,onMouseUp:tn,onDragLeave:$t,onTouchEnd:mn,onTouchMove:gn,onTouchStart:en,ref:Tn,tabIndex:st?-1:jt,type:rn},nn,an,{children:[tt,Ht?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:Qt,center:et},Jt)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(a){return generateUtilityClass("MuiIconButton",a)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$e=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$b=a=>{const{classes:o,disabled:$,color:j,edge:_e,size:et}=a,tt={root:["root",$&&"disabled",j!=="default"&&`color${capitalize(j)}`,_e&&`edge${capitalize(_e)}`,`size${capitalize(et)}`]};return composeClasses(tt,getIconButtonUtilityClass,o)},IconButtonRoot=styled$1(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.color!=="default"&&o[`color${capitalize($.color)}`],$.edge&&o[`edge${capitalize($.edge)}`],o[`size${capitalize($.size)}`]]}})(({theme:a,ownerState:o})=>_extends({textAlign:"center",flex:"0 0 auto",fontSize:a.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(a.vars||a).palette.action.active,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette.action.active,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12}),({theme:a,ownerState:o})=>{var $;const j=($=(a.vars||a).palette)==null?void 0:$[o.color];return _extends({},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&o.color!=="default"&&_extends({color:j==null?void 0:j.main},!o.disableRipple&&{"&:hover":_extends({},j&&{backgroundColor:a.vars?`rgba(${j.mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(j.main,a.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),o.size==="small"&&{padding:5,fontSize:a.typography.pxToRem(18)},o.size==="large"&&{padding:12,fontSize:a.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiIconButton"}),{edge:_e=!1,children:et,className:tt,color:rt="default",disabled:ot=!1,disableFocusRipple:st=!1,size:at="medium"}=j,ut=_objectWithoutPropertiesLoose$1(j,_excluded$e),ct=_extends({},j,{edge:_e,color:rt,disabled:ot,disableFocusRipple:st,size:at}),vt=useUtilityClasses$b(ct);return jsxRuntimeExports.jsx(IconButtonRoot,_extends({className:clsx(vt.root,tt),centerRipple:!0,focusRipple:!st,disabled:ot,ref:$,ownerState:ct},ut,{children:et}))}),IconButton$1=IconButton;function getTypographyUtilityClass(a){return generateUtilityClass("MuiTypography",a)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$d=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$a=a=>{const{align:o,gutterBottom:$,noWrap:j,paragraph:_e,variant:et,classes:tt}=a,rt={root:["root",et,a.align!=="inherit"&&`align${capitalize(o)}`,$&&"gutterBottom",j&&"noWrap",_e&&"paragraph"]};return composeClasses(rt,getTypographyUtilityClass,tt)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.variant&&o[$.variant],$.align!=="inherit"&&o[`align${capitalize($.align)}`],$.noWrap&&o.noWrap,$.gutterBottom&&o.gutterBottom,$.paragraph&&o.paragraph]}})(({theme:a,ownerState:o})=>_extends({margin:0},o.variant&&a.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=a=>colorTransformations[a]||a,Typography=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiTypography"}),_e=transformDeprecatedColors(j.color),et=extendSxProp(_extends({},j,{color:_e})),{align:tt="inherit",className:rt,component:ot,gutterBottom:st=!1,noWrap:at=!1,paragraph:ut=!1,variant:ct="body1",variantMapping:vt=defaultVariantMapping}=et,ht=_objectWithoutPropertiesLoose$1(et,_excluded$d),yt=_extends({},et,{align:tt,color:_e,className:rt,component:ot,gutterBottom:st,noWrap:at,paragraph:ut,variant:ct,variantMapping:vt}),bt=ot||(ut?"p":vt[ct]||defaultVariantMapping[ct])||"span",dt=useUtilityClasses$a(yt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:bt,ref:$,ownerState:yt,className:clsx(dt.root,rt)},ht))}),Typography$1=Typography;function GlobalStyles(a){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends({},a,{defaultTheme:defaultTheme$2,themeId:THEME_ID}))}const _excluded$c=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(o,$){const j=useTheme(),_e={enter:j.transitions.duration.enteringScreen,exit:j.transitions.duration.leavingScreen},{addEndListener:et,appear:tt=!0,children:rt,easing:ot,in:st,onEnter:at,onEntered:ut,onEntering:ct,onExit:vt,onExited:ht,onExiting:yt,style:bt,timeout:dt=_e,TransitionComponent:xt=Transition$1}=o,Tt=_objectWithoutPropertiesLoose$1(o,_excluded$c),Ct=reactExports.useRef(null),Et=useForkRef(Ct,rt.ref,$),St=qt=>rn=>{if(qt){const an=Ct.current;rn===void 0?qt(an):qt(an,rn)}},gt=St(ct),wt=St((qt,rn)=>{reflow(qt);const an=getTransitionProps({style:bt,timeout:dt,easing:ot},{mode:"enter"});qt.style.webkitTransition=j.transitions.create("opacity",an),qt.style.transition=j.transitions.create("opacity",an),at&&at(qt,rn)}),Mt=St(ut),Ot=St(yt),Lt=St(qt=>{const rn=getTransitionProps({style:bt,timeout:dt,easing:ot},{mode:"exit"});qt.style.webkitTransition=j.transitions.create("opacity",rn),qt.style.transition=j.transitions.create("opacity",rn),vt&&vt(qt)}),jt=St(ht),Jt=qt=>{et&&et(Ct.current,qt)};return jsxRuntimeExports.jsx(xt,_extends({appear:tt,in:st,nodeRef:Ct,onEnter:wt,onEntered:Mt,onEntering:gt,onExit:Lt,onExited:jt,onExiting:Ot,addEndListener:Jt,timeout:dt},Tt,{children:(qt,rn)=>reactExports.cloneElement(rt,_extends({style:_extends({opacity:0,visibility:qt==="exited"&&!st?"hidden":void 0},styles$1[qt],bt,rt.props.style),ref:Et},rn))}))}),Fade$1=Fade;function getBackdropUtilityClass(a){return generateUtilityClass("MuiBackdrop",a)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$b=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$9=a=>{const{classes:o,invisible:$}=a;return composeClasses({root:["root",$&&"invisible"]},getBackdropUtilityClass,o)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.invisible&&o.invisible]}})(({ownerState:a})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},a.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(o,$){var j,_e,et;const tt=useThemeProps({props:o,name:"MuiBackdrop"}),{children:rt,className:ot,component:st="div",components:at={},componentsProps:ut={},invisible:ct=!1,open:vt,slotProps:ht={},slots:yt={},TransitionComponent:bt=Fade$1,transitionDuration:dt}=tt,xt=_objectWithoutPropertiesLoose$1(tt,_excluded$b),Tt=_extends({},tt,{component:st,invisible:ct}),Ct=useUtilityClasses$9(Tt),Et=(j=ht.root)!=null?j:ut.root;return jsxRuntimeExports.jsx(bt,_extends({in:vt,timeout:dt},xt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends({"aria-hidden":!0},Et,{as:(_e=(et=yt.root)!=null?et:at.Root)!=null?_e:st,className:clsx(Ct.root,ot,Et==null?void 0:Et.className),ownerState:_extends({},Tt,Et==null?void 0:Et.ownerState),classes:Ct,ref:$,children:rt}))}))}),Backdrop$1=Backdrop,defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate}),Box$1=Box;function getButtonUtilityClass(a){return generateUtilityClass("MuiButton",a)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$a=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$8=a=>{const{color:o,disableElevation:$,fullWidth:j,size:_e,variant:et,classes:tt}=a,rt={root:["root",et,`${et}${capitalize(o)}`,`size${capitalize(_e)}`,`${et}Size${capitalize(_e)}`,o==="inherit"&&"colorInherit",$&&"disableElevation",j&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(_e)}`],endIcon:["endIcon",`iconSize${capitalize(_e)}`]},ot=composeClasses(rt,getButtonUtilityClass,tt);return _extends({},tt,ot)},commonIconStyles=a=>_extends({},a.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},a.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},a.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:a=>rootShouldForwardProp(a)||a==="classes",name:"MuiButton",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[$.variant],o[`${$.variant}${capitalize($.color)}`],o[`size${capitalize($.size)}`],o[`${$.variant}Size${capitalize($.size)}`],$.color==="inherit"&&o.colorInherit,$.disableElevation&&o.disableElevation,$.fullWidth&&o.fullWidth]}})(({theme:a,ownerState:o})=>{var $,j;const _e=a.palette.mode==="light"?a.palette.grey[300]:a.palette.grey[800],et=a.palette.mode==="light"?a.palette.grey.A100:a.palette.grey[700];return _extends({},a.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="text"&&o.color!=="inherit"&&{backgroundColor:a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="outlined"&&o.color!=="inherit"&&{border:`1px solid ${(a.vars||a).palette[o.color].main}`,backgroundColor:a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:alpha(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="contained"&&{backgroundColor:a.vars?a.vars.palette.Button.inheritContainedHoverBg:et,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},o.variant==="contained"&&o.color!=="inherit"&&{backgroundColor:(a.vars||a).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[o.color].main}}),"&:active":_extends({},o.variant==="contained"&&{boxShadow:(a.vars||a).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},o.variant==="contained"&&{boxShadow:(a.vars||a).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(a.vars||a).palette.action.disabled},o.variant==="outlined"&&{border:`1px solid ${(a.vars||a).palette.action.disabledBackground}`},o.variant==="contained"&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})},o.variant==="text"&&{padding:"6px 8px"},o.variant==="text"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].main},o.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},o.variant==="outlined"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].main,border:a.vars?`1px solid rgba(${a.vars.palette[o.color].mainChannel} / 0.5)`:`1px solid ${alpha(a.palette[o.color].main,.5)}`},o.variant==="contained"&&{color:a.vars?a.vars.palette.text.primary:($=(j=a.palette).getContrastText)==null?void 0:$.call(j,a.palette.grey[300]),backgroundColor:a.vars?a.vars.palette.Button.inheritContainedBg:_e,boxShadow:(a.vars||a).shadows[2]},o.variant==="contained"&&o.color!=="inherit"&&{color:(a.vars||a).palette[o.color].contrastText,backgroundColor:(a.vars||a).palette[o.color].main},o.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},o.size==="small"&&o.variant==="text"&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="text"&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},o.size==="small"&&o.variant==="outlined"&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="outlined"&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},o.size==="small"&&o.variant==="contained"&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},o.size==="large"&&o.variant==="contained"&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},({ownerState:a})=>a.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.startIcon,o[`iconSize${capitalize($.size)}`]]}})(({ownerState:a})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},a.size==="small"&&{marginLeft:-2},commonIconStyles(a))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.endIcon,o[`iconSize${capitalize($.size)}`]]}})(({ownerState:a})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},a.size==="small"&&{marginRight:-2},commonIconStyles(a))),Button=reactExports.forwardRef(function(o,$){const j=reactExports.useContext(ButtonGroupContext$1),_e=resolveProps(j,o),et=useThemeProps({props:_e,name:"MuiButton"}),{children:tt,color:rt="primary",component:ot="button",className:st,disabled:at=!1,disableElevation:ut=!1,disableFocusRipple:ct=!1,endIcon:vt,focusVisibleClassName:ht,fullWidth:yt=!1,size:bt="medium",startIcon:dt,type:xt,variant:Tt="text"}=et,Ct=_objectWithoutPropertiesLoose$1(et,_excluded$a),Et=_extends({},et,{color:rt,component:ot,disabled:at,disableElevation:ut,disableFocusRipple:ct,fullWidth:yt,size:bt,type:xt,variant:Tt}),St=useUtilityClasses$8(Et),gt=dt&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:St.startIcon,ownerState:Et,children:dt}),wt=vt&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:St.endIcon,ownerState:Et,children:vt});return jsxRuntimeExports.jsxs(ButtonRoot,_extends({ownerState:Et,className:clsx(j.className,St.root,st),component:ot,disabled:at,focusRipple:!ct,focusVisibleClassName:clsx(St.focusVisible,ht),ref:$,type:xt},Ct,{classes:St,children:[gt,tt,wt]}))}),Button$1=Button;function getCircularProgressUtilityClass(a){return generateUtilityClass("MuiCircularProgress",a)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$9=["className","color","disableShrink","size","style","thickness","value","variant"];let _=a=>a,_t,_t2,_t3,_t4;const SIZE=44,circularRotateKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2||(_t2=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$7=a=>{const{classes:o,variant:$,color:j,disableShrink:_e}=a,et={root:["root",$,`color${capitalize(j)}`],svg:["svg"],circle:["circle",`circle${capitalize($)}`,_e&&"circleDisableShrink"]};return composeClasses(et,getCircularProgressUtilityClass,o)},CircularProgressRoot=styled$1("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[$.variant],o[`color${capitalize($.color)}`]]}})(({ownerState:a,theme:o})=>_extends({display:"inline-block"},a.variant==="determinate"&&{transition:o.transitions.create("transform")},a.color!=="inherit"&&{color:(o.vars||o).palette[a.color].main}),({ownerState:a})=>a.variant==="indeterminate"&&css(_t3||(_t3=_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled$1("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(a,o)=>o.svg})({display:"block"}),CircularProgressCircle=styled$1("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.circle,o[`circle${capitalize($.variant)}`],$.disableShrink&&o.circleDisableShrink]}})(({ownerState:a,theme:o})=>_extends({stroke:"currentColor"},a.variant==="determinate"&&{transition:o.transitions.create("stroke-dashoffset")},a.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:a})=>a.variant==="indeterminate"&&!a.disableShrink&&css(_t4||(_t4=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiCircularProgress"}),{className:_e,color:et="primary",disableShrink:tt=!1,size:rt=40,style:ot,thickness:st=3.6,value:at=0,variant:ut="indeterminate"}=j,ct=_objectWithoutPropertiesLoose$1(j,_excluded$9),vt=_extends({},j,{color:et,disableShrink:tt,size:rt,thickness:st,value:at,variant:ut}),ht=useUtilityClasses$7(vt),yt={},bt={},dt={};if(ut==="determinate"){const xt=2*Math.PI*((SIZE-st)/2);yt.strokeDasharray=xt.toFixed(3),dt["aria-valuenow"]=Math.round(at),yt.strokeDashoffset=`${((100-at)/100*xt).toFixed(3)}px`,bt.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends({className:clsx(ht.root,_e),style:_extends({width:rt,height:rt},bt,ot),ownerState:vt,ref:$,role:"progressbar"},dt,ct,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:ht.svg,ownerState:vt,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:ht.circle,style:yt,ownerState:vt,cx:SIZE,cy:SIZE,r:(SIZE-st)/2,fill:"none",strokeWidth:st})})}))}),CircularProgress$1=CircularProgress,Container=createContainer({createStyledComponent:styled$1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[`maxWidth${capitalize(String($.maxWidth))}`],$.fixed&&o.fixed,$.disableGutters&&o.disableGutters]}}),useThemeProps:a=>useThemeProps({props:a,name:"MuiContainer"})}),Container$1=Container,html=(a,o)=>_extends({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&!a.vars&&{colorScheme:a.palette.mode}),body=a=>_extends({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}}),styles=(a,o=!1)=>{var $,j;const _e={};o&&a.colorSchemes&&Object.entries(a.colorSchemes).forEach(([rt,ot])=>{var st;_e[a.getColorSchemeSelector(rt).replace(/\s*&/,"")]={colorScheme:(st=ot.palette)==null?void 0:st.mode}});let et=_extends({html:html(a,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:_extends({margin:0},body(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},_e);const tt=($=a.components)==null||(j=$.MuiCssBaseline)==null?void 0:j.styleOverrides;return tt&&(et=[et,tt]),et};function CssBaseline(a){const o=useThemeProps({props:a,name:"MuiCssBaseline"}),{children:$,enableColorScheme:j=!1}=o;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GlobalStyles,{styles:_e=>styles(_e,j)}),$]})}const _excluded$8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,!$.open&&$.exited&&o.hidden]}})(({theme:a,ownerState:o})=>_extends({position:"fixed",zIndex:(a.vars||a).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(a,o)=>o.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(o,$){var j,_e,et,tt,rt,ot;const st=useThemeProps({name:"MuiModal",props:o}),{BackdropComponent:at=ModalBackdrop,BackdropProps:ut,classes:ct,className:vt,closeAfterTransition:ht=!1,children:yt,container:bt,component:dt,components:xt={},componentsProps:Tt={},disableAutoFocus:Ct=!1,disableEnforceFocus:Et=!1,disableEscapeKeyDown:St=!1,disablePortal:gt=!1,disableRestoreFocus:wt=!1,disableScrollLock:Mt=!1,hideBackdrop:Ot=!1,keepMounted:Lt=!1,onBackdropClick:jt,onClose:Jt,open:qt,slotProps:rn,slots:an,theme:pn}=st,Kt=_objectWithoutPropertiesLoose$1(st,_excluded$8),[Qt,fn]=reactExports.useState(!0),ln={container:bt,closeAfterTransition:ht,disableAutoFocus:Ct,disableEnforceFocus:Et,disableEscapeKeyDown:St,disablePortal:gt,disableRestoreFocus:wt,disableScrollLock:Mt,hideBackdrop:Ot,keepMounted:Lt,onBackdropClick:jt,onClose:Jt,open:qt},vn=_extends({},st,ln,{exited:Qt}),Cn=(j=(_e=an==null?void 0:an.root)!=null?_e:xt.Root)!=null?j:ModalRoot,kn=(et=(tt=an==null?void 0:an.backdrop)!=null?tt:xt.Backdrop)!=null?et:at,_n=(rt=rn==null?void 0:rn.root)!=null?rt:Tt.root,Ut=(ot=rn==null?void 0:rn.backdrop)!=null?ot:Tt.backdrop;return jsxRuntimeExports.jsx(ModalUnstyled,_extends({slots:{root:Cn,backdrop:kn},slotProps:{root:()=>_extends({},resolveComponentProps(_n,vn),!isHostComponent(Cn)&&{as:dt,theme:pn},{className:clsx(vt,_n==null?void 0:_n.className,ct==null?void 0:ct.root,!vn.open&&vn.exited&&(ct==null?void 0:ct.hidden))}),backdrop:()=>_extends({},ut,resolveComponentProps(Ut,vn),{className:clsx(Ut==null?void 0:Ut.className,ut==null?void 0:ut.className,ct==null?void 0:ct.backdrop)})},onTransitionEnter:()=>fn(!1),onTransitionExited:()=>fn(!0),ref:$},Kt,ln,{children:yt}))}),Modal$1=Modal;function getDialogUtilityClass(a){return generateUtilityClass("MuiDialog",a)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$7=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(a,o)=>o.backdrop})({zIndex:-1}),useUtilityClasses$6=a=>{const{classes:o,scroll:$,maxWidth:j,fullWidth:_e,fullScreen:et}=a,tt={root:["root"],container:["container",`scroll${capitalize($)}`],paper:["paper",`paperScroll${capitalize($)}`,`paperWidth${capitalize(String(j))}`,_e&&"paperFullWidth",et&&"paperFullScreen"]};return composeClasses(tt,getDialogUtilityClass,o)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(a,o)=>o.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.container,o[`scroll${capitalize($.scroll)}`]]}})(({ownerState:a})=>_extends({height:"100%","@media print":{height:"auto"},outline:0},a.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},a.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.paper,o[`scrollPaper${capitalize($.scroll)}`],o[`paperWidth${capitalize(String($.maxWidth))}`],$.fullWidth&&o.paperFullWidth,$.fullScreen&&o.paperFullScreen]}})(({theme:a,ownerState:o})=>_extends({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:a.breakpoints.unit==="px"?Math.max(a.breakpoints.values.xs,444):`max(${a.breakpoints.values.xs}${a.breakpoints.unit}, 444px)`,[`&.${dialogClasses$1.paperScrollBody}`]:{[a.breakpoints.down(Math.max(a.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${a.breakpoints.values[o.maxWidth]}${a.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[a.breakpoints.down(a.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDialog"}),_e=useTheme(),et={enter:_e.transitions.duration.enteringScreen,exit:_e.transitions.duration.leavingScreen},{"aria-describedby":tt,"aria-labelledby":rt,BackdropComponent:ot,BackdropProps:st,children:at,className:ut,disableEscapeKeyDown:ct=!1,fullScreen:vt=!1,fullWidth:ht=!1,maxWidth:yt="sm",onBackdropClick:bt,onClose:dt,open:xt,PaperComponent:Tt=Paper$1,PaperProps:Ct={},scroll:Et="paper",TransitionComponent:St=Fade$1,transitionDuration:gt=et,TransitionProps:wt}=j,Mt=_objectWithoutPropertiesLoose$1(j,_excluded$7),Ot=_extends({},j,{disableEscapeKeyDown:ct,fullScreen:vt,fullWidth:ht,maxWidth:yt,scroll:Et}),Lt=useUtilityClasses$6(Ot),jt=reactExports.useRef(),Jt=pn=>{jt.current=pn.target===pn.currentTarget},qt=pn=>{jt.current&&(jt.current=null,bt&&bt(pn),dt&&dt(pn,"backdropClick"))},rn=useId(rt),an=reactExports.useMemo(()=>({titleId:rn}),[rn]);return jsxRuntimeExports.jsx(DialogRoot,_extends({className:clsx(Lt.root,ut),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends({transitionDuration:gt,as:ot},st)},disableEscapeKeyDown:ct,onClose:dt,open:xt,ref:$,onClick:qt,ownerState:Ot},Mt,{children:jsxRuntimeExports.jsx(St,_extends({appear:!0,in:xt,timeout:gt,role:"presentation"},wt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(Lt.container),onMouseDown:Jt,ownerState:Ot,children:jsxRuntimeExports.jsx(DialogPaper,_extends({as:Tt,elevation:24,role:"dialog","aria-describedby":tt,"aria-labelledby":rn},Ct,{className:clsx(Lt.paper,Ct.className),ownerState:Ot,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:an,children:at})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(a){return generateUtilityClass("MuiDialogActions",a)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$6=["className","disableSpacing"],useUtilityClasses$5=a=>{const{classes:o,disableSpacing:$}=a;return composeClasses({root:["root",!$&&"spacing"]},getDialogActionsUtilityClass,o)},DialogActionsRoot=styled$1("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,!$.disableSpacing&&o.spacing]}})(({ownerState:a})=>_extends({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!a.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDialogActions"}),{className:_e,disableSpacing:et=!1}=j,tt=_objectWithoutPropertiesLoose$1(j,_excluded$6),rt=_extends({},j,{disableSpacing:et}),ot=useUtilityClasses$5(rt);return jsxRuntimeExports.jsx(DialogActionsRoot,_extends({className:clsx(ot.root,_e),ownerState:rt,ref:$},tt))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(a){return generateUtilityClass("MuiDialogContent",a)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(a){return generateUtilityClass("MuiDialogTitle",a)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$5=["className","dividers"],useUtilityClasses$4=a=>{const{classes:o,dividers:$}=a;return composeClasses({root:["root",$&&"dividers"]},getDialogContentUtilityClass,o)},DialogContentRoot=styled$1("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.dividers&&o.dividers]}})(({theme:a,ownerState:o})=>_extends({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(a.vars||a).palette.divider}`,borderBottom:`1px solid ${(a.vars||a).palette.divider}`}:{[`.${dialogTitleClasses$1.root} + &`]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDialogContent"}),{className:_e,dividers:et=!1}=j,tt=_objectWithoutPropertiesLoose$1(j,_excluded$5),rt=_extends({},j,{dividers:et}),ot=useUtilityClasses$4(rt);return jsxRuntimeExports.jsx(DialogContentRoot,_extends({className:clsx(ot.root,_e),ownerState:rt,ref:$},tt))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(a){return generateUtilityClass("MuiDialogContentText",a)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$4=["children","className"],useUtilityClasses$3=a=>{const{classes:o}=a,j=composeClasses({root:["root"]},getDialogContentTextUtilityClass,o);return _extends({},o,j)},DialogContentTextRoot=styled$1(Typography$1,{shouldForwardProp:a=>rootShouldForwardProp(a)||a==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(a,o)=>o.root})({}),DialogContentText=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDialogContentText"}),{className:_e}=j,et=_objectWithoutPropertiesLoose$1(j,_excluded$4),tt=useUtilityClasses$3(et);return jsxRuntimeExports.jsx(DialogContentTextRoot,_extends({component:"p",variant:"body1",color:"text.secondary",ref:$,ownerState:et,className:clsx(tt.root,_e)},j,{classes:tt}))}),DialogContentText$1=DialogContentText,_excluded$3=["className","id"],useUtilityClasses$2=a=>{const{classes:o}=a;return composeClasses({root:["root"]},getDialogTitleUtilityClass,o)},DialogTitleRoot=styled$1(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(a,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDialogTitle"}),{className:_e,id:et}=j,tt=_objectWithoutPropertiesLoose$1(j,_excluded$3),rt=j,ot=useUtilityClasses$2(rt),{titleId:st=et}=reactExports.useContext(DialogContext$1);return jsxRuntimeExports.jsx(DialogTitleRoot,_extends({component:"h2",className:clsx(ot.root,_e),ownerState:rt,ref:$,variant:"h6",id:et??st},tt))}),DialogTitle$1=DialogTitle;function getDividerUtilityClass(a){return generateUtilityClass("MuiDivider",a)}generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const _excluded$2=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$1=a=>{const{absolute:o,children:$,classes:j,flexItem:_e,light:et,orientation:tt,textAlign:rt,variant:ot}=a;return composeClasses({root:["root",o&&"absolute",ot,et&&"light",tt==="vertical"&&"vertical",_e&&"flexItem",$&&"withChildren",$&&tt==="vertical"&&"withChildrenVertical",rt==="right"&&tt!=="vertical"&&"textAlignRight",rt==="left"&&tt!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",tt==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,j)},DividerRoot=styled$1("div",{name:"MuiDivider",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,$.absolute&&o.absolute,o[$.variant],$.light&&o.light,$.orientation==="vertical"&&o.vertical,$.flexItem&&o.flexItem,$.children&&o.withChildren,$.children&&$.orientation==="vertical"&&o.withChildrenVertical,$.textAlign==="right"&&$.orientation!=="vertical"&&o.textAlignRight,$.textAlign==="left"&&$.orientation!=="vertical"&&o.textAlignLeft]}})(({theme:a,ownerState:o})=>_extends({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(a.vars||a).palette.divider,borderBottomWidth:"thin"},o.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},o.light&&{borderColor:a.vars?`rgba(${a.vars.palette.dividerChannel} / 0.08)`:alpha(a.palette.divider,.08)},o.variant==="inset"&&{marginLeft:72},o.variant==="middle"&&o.orientation==="horizontal"&&{marginLeft:a.spacing(2),marginRight:a.spacing(2)},o.variant==="middle"&&o.orientation==="vertical"&&{marginTop:a.spacing(1),marginBottom:a.spacing(1)},o.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},o.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:a})=>_extends({},a.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:a,ownerState:o})=>_extends({},o.children&&o.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(a.vars||a).palette.divider}`}}),({theme:a,ownerState:o})=>_extends({},o.children&&o.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(a.vars||a).palette.divider}`}}),({ownerState:a})=>_extends({},a.textAlign==="right"&&a.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},a.textAlign==="left"&&a.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled$1("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.wrapper,$.orientation==="vertical"&&o.wrapperVertical]}})(({theme:a,ownerState:o})=>_extends({display:"inline-block",paddingLeft:`calc(${a.spacing(1)} * 1.2)`,paddingRight:`calc(${a.spacing(1)} * 1.2)`},o.orientation==="vertical"&&{paddingTop:`calc(${a.spacing(1)} * 1.2)`,paddingBottom:`calc(${a.spacing(1)} * 1.2)`})),Divider=reactExports.forwardRef(function(o,$){const j=useThemeProps({props:o,name:"MuiDivider"}),{absolute:_e=!1,children:et,className:tt,component:rt=et?"div":"hr",flexItem:ot=!1,light:st=!1,orientation:at="horizontal",role:ut=rt!=="hr"?"separator":void 0,textAlign:ct="center",variant:vt="fullWidth"}=j,ht=_objectWithoutPropertiesLoose$1(j,_excluded$2),yt=_extends({},j,{absolute:_e,component:rt,flexItem:ot,light:st,orientation:at,role:ut,textAlign:ct,variant:vt}),bt=useUtilityClasses$1(yt);return jsxRuntimeExports.jsx(DividerRoot,_extends({as:rt,className:clsx(bt.root,tt),role:ut,ref:$,ownerState:yt},ht,{children:et?jsxRuntimeExports.jsx(DividerWrapper,{className:bt.wrapper,ownerState:yt,children:et}):null}))}),Divider$1=Divider;function useMediaQueryOld(a,o,$,j,_e){const[et,tt]=reactExports.useState(()=>_e&&$?$(a).matches:j?j(a).matches:o);return useEnhancedEffect$1(()=>{let rt=!0;if(!$)return;const ot=$(a),st=()=>{rt&&tt(ot.matches)};return st(),ot.addListener(st),()=>{rt=!1,ot.removeListener(st)}},[a,$]),et}const maybeReactUseSyncExternalStore=React$1["useSyncExternalStore"];function useMediaQueryNew(a,o,$,j,_e){const et=reactExports.useCallback(()=>o,[o]),tt=reactExports.useMemo(()=>{if(_e&&$)return()=>$(a).matches;if(j!==null){const{matches:at}=j(a);return()=>at}return et},[et,a,j,_e,$]),[rt,ot]=reactExports.useMemo(()=>{if($===null)return[et,()=>()=>{}];const at=$(a);return[()=>at.matches,ut=>(at.addListener(ut),()=>{at.removeListener(ut)})]},[et,$,a]);return maybeReactUseSyncExternalStore(ot,rt,tt)}function useMediaQuery(a,o={}){const $=useTheme$3(),j=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:_e=!1,matchMedia:et=j?window.matchMedia:null,ssrMatchMedia:tt=null,noSsr:rt=!1}=getThemeProps({name:"MuiUseMediaQuery",props:o,theme:$});let ot=typeof a=="function"?a($):a;return ot=ot.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(ot,_e,et,tt,rt)}const shouldSpreadAdditionalProps=a=>!a||!isHostComponent(a),shouldSpreadAdditionalProps$1=shouldSpreadAdditionalProps;function getSliderUtilityClass(a){return generateUtilityClass("MuiSlider",a)}const sliderClasses=generateUtilityClasses("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),sliderClasses$1=sliderClasses,useValueLabelClasses=a=>{const{open:o}=a;return{offset:clsx(o&&sliderClasses$1.valueLabelOpen),circle:sliderClasses$1.valueLabelCircle,label:sliderClasses$1.valueLabelLabel}};function SliderValueLabel(a){const{children:o,className:$,value:j}=a,_e=useValueLabelClasses(a);return o?reactExports.cloneElement(o,{className:clsx(o.props.className)},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[o.props.children,jsxRuntimeExports.jsx("span",{className:clsx(_e.offset,$),"aria-hidden":!0,children:jsxRuntimeExports.jsx("span",{className:_e.circle,children:jsxRuntimeExports.jsx("span",{className:_e.label,children:j})})})]})):null}const _excluded$1=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Identity(a){return a}const SliderRoot=styled$1("span",{name:"MuiSlider",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.root,o[`color${capitalize($.color)}`],$.size!=="medium"&&o[`size${capitalize($.size)}`],$.marked&&o.marked,$.orientation==="vertical"&&o.vertical,$.track==="inverted"&&o.trackInverted,$.track===!1&&o.trackFalse]}})(({theme:a,ownerState:o})=>_extends({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(a.vars||a).palette[o.color].main,WebkitTapHighlightColor:"transparent"},o.orientation==="horizontal"&&_extends({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},o.size==="small"&&{height:2},o.marked&&{marginBottom:20}),o.orientation==="vertical"&&_extends({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},o.size==="small"&&{width:2},o.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${sliderClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default",color:(a.vars||a).palette.grey[400]},[`&.${sliderClasses$1.dragging}`]:{[`& .${sliderClasses$1.thumb}, & .${sliderClasses$1.track}`]:{transition:"none"}}})),SliderRail=styled$1("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(a,o)=>o.rail})(({ownerState:a})=>_extends({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},a.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},a.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},a.track==="inverted"&&{opacity:1})),SliderTrack=styled$1("span",{name:"MuiSlider",slot:"Track",overridesResolver:(a,o)=>o.track})(({theme:a,ownerState:o})=>{const $=a.palette.mode==="light"?lighten(a.palette[o.color].main,.62):darken(a.palette[o.color].main,.5);return _extends({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:a.transitions.create(["left","width","bottom","height"],{duration:a.transitions.duration.shortest})},o.size==="small"&&{border:"none"},o.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},o.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},o.track===!1&&{display:"none"},o.track==="inverted"&&{backgroundColor:a.vars?a.vars.palette.Slider[`${o.color}Track`]:$,borderColor:a.vars?a.vars.palette.Slider[`${o.color}Track`]:$})}),SliderThumb=styled$1("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(a,o)=>{const{ownerState:$}=a;return[o.thumb,o[`thumbColor${capitalize($.color)}`],$.size!=="medium"&&o[`thumbSize${capitalize($.size)}`]]}})(({theme:a,ownerState:o})=>_extends({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:a.transitions.create(["box-shadow","left","bottom"],{duration:a.transitions.duration.shortest})},o.size==="small"&&{width:12,height:12},o.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},o.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":_extends({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(a.vars||a).shadows[2]},o.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${sliderClasses$1.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / 0.16)`:alpha(a.palette[o.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${sliderClasses$1.active}`]:{boxShadow:`0px 0px 0px 14px ${a.vars?`rgba(${a.vars.palette[o.color].mainChannel} / 0.16)`:alpha(a.palette[o.color].main,.16)}`},[`&.${sliderClasses$1.disabled}`]:{"&:hover":{boxShadow:"none"}}})),StyledSliderValueLabel=styled$1(SliderValueLabel,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(a,o)=>o.valueLabel})(({theme:a,ownerState:o})=>_extends({[`&.${sliderClasses$1.valueLabelOpen}`]:{transform:`${o.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},a.typography.body2,{fontWeight:500,transition:a.transitions.create(["transform"],{duration:a.transitions.duration.shortest}),transform:`${o.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(a.vars||a).palette.grey[600],borderRadius:2,color:(a.vars||a).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},o.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},o.orientation==="vertical"&&{right:o.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},o.size==="small"&&{fontSize:a.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),SliderMark=styled$1("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:a=>slotShouldForwardProp(a)&&a!=="markActive",overridesResolver:(a,o)=>{const{markActive:$}=a;return[o.mark,$&&o.markActive]}})(({theme:a,ownerState:o,markActive:$})=>_extends({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},o.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},o.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},$&&{backgroundColor:(a.vars||a).palette.background.paper,opacity:.8})),SliderMarkLabel=styled$1("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:a=>slotShouldForwardProp(a)&&a!=="markLabelActive",overridesResolver:(a,o)=>o.markLabel})(({theme:a,ownerState:o,markLabelActive:$})=>_extends({},a.typography.body2,{color:(a.vars||a).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},o.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},o.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},$&&{color:(a.vars||a).palette.text.primary})),useUtilityClasses=a=>{const{disabled:o,dragging:$,marked:j,orientation:_e,track:et,classes:tt,color:rt,size:ot}=a,st={root:["root",o&&"disabled",$&&"dragging",j&&"marked",_e==="vertical"&&"vertical",et==="inverted"&&"trackInverted",et===!1&&"trackFalse",rt&&`color${capitalize(rt)}`,ot&&`size${capitalize(ot)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",o&&"disabled",ot&&`thumbSize${capitalize(ot)}`,rt&&`thumbColor${capitalize(rt)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return composeClasses(st,getSliderUtilityClass,tt)},Forward=({children:a})=>a,Slider=reactExports.forwardRef(function(o,$){var j,_e,et,tt,rt,ot,st,at,ut,ct,vt,ht,yt,bt,dt,xt,Tt,Ct,Et,St,gt,wt,Mt,Ot;const Lt=useThemeProps({props:o,name:"MuiSlider"}),Jt=useTheme().direction==="rtl",{"aria-label":qt,"aria-valuetext":rn,"aria-labelledby":an,component:pn="span",components:Kt={},componentsProps:Qt={},color:fn="primary",classes:ln,className:vn,disableSwap:Cn=!1,disabled:kn=!1,getAriaLabel:_n,getAriaValueText:Ut,marks:Vt=!1,max:Ht=100,min:yn=0,orientation:En="horizontal",size:Rt="medium",step:$t=1,scale:tn=Identity,slotProps:dn,slots:en,track:mn="normal",valueLabelDisplay:gn="off",valueLabelFormat:Rn=Identity}=Lt,In=_objectWithoutPropertiesLoose$1(Lt,_excluded$1),bn=_extends({},Lt,{isRtl:Jt,max:Ht,min:yn,classes:ln,disabled:kn,disableSwap:Cn,orientation:En,marks:Vt,color:fn,size:Rt,step:$t,scale:tn,track:mn,valueLabelDisplay:gn,valueLabelFormat:Rn}),{axisProps:On,getRootProps:Gn,getHiddenInputProps:Jn,getThumbProps:Xt,open:nn,active:Tn,axis:At,focusedThumbIndex:ft,range:mt,dragging:Nt,marks:Ft,values:zt,trackOffset:Zt,trackLeap:An}=useSlider(_extends({},bn,{rootRef:$}));bn.marked=Ft.length>0&&Ft.some(rr=>rr.label),bn.dragging=Nt,bn.focusedThumbIndex=ft;const Dn=useUtilityClasses(bn),jn=(j=(_e=en==null?void 0:en.root)!=null?_e:Kt.Root)!=null?j:SliderRoot,qn=(et=(tt=en==null?void 0:en.rail)!=null?tt:Kt.Rail)!=null?et:SliderRail,Wn=(rt=(ot=en==null?void 0:en.track)!=null?ot:Kt.Track)!=null?rt:SliderTrack,vo=(st=(at=en==null?void 0:en.thumb)!=null?at:Kt.Thumb)!=null?st:SliderThumb,ss=(ut=(ct=en==null?void 0:en.valueLabel)!=null?ct:Kt.ValueLabel)!=null?ut:StyledSliderValueLabel,yo=(vt=(ht=en==null?void 0:en.mark)!=null?ht:Kt.Mark)!=null?vt:SliderMark,_o=(yt=(bt=en==null?void 0:en.markLabel)!=null?bt:Kt.MarkLabel)!=null?yt:SliderMarkLabel,as=(dt=(xt=en==null?void 0:en.input)!=null?xt:Kt.Input)!=null?dt:"input",Fo=(Tt=dn==null?void 0:dn.root)!=null?Tt:Qt.root,Zs=(Ct=dn==null?void 0:dn.rail)!=null?Ct:Qt.rail,Bo=(Et=dn==null?void 0:dn.track)!=null?Et:Qt.track,xo=(St=dn==null?void 0:dn.thumb)!=null?St:Qt.thumb,Lo=(gt=dn==null?void 0:dn.valueLabel)!=null?gt:Qt.valueLabel,Qs=(wt=dn==null?void 0:dn.mark)!=null?wt:Qt.mark,Js=(Mt=dn==null?void 0:dn.markLabel)!=null?Mt:Qt.markLabel,Uo=(Ot=dn==null?void 0:dn.input)!=null?Ot:Qt.input,na=useSlotProps({elementType:jn,getSlotProps:Gn,externalSlotProps:Fo,externalForwardedProps:In,additionalProps:_extends({},shouldSpreadAdditionalProps$1(jn)&&{as:pn}),ownerState:_extends({},bn,Fo==null?void 0:Fo.ownerState),className:[Dn.root,vn]}),zo=useSlotProps({elementType:qn,externalSlotProps:Zs,ownerState:bn,className:Dn.rail}),ga=useSlotProps({elementType:Wn,externalSlotProps:Bo,additionalProps:{style:_extends({},On[At].offset(Zt),On[At].leap(An))},ownerState:_extends({},bn,Bo==null?void 0:Bo.ownerState),className:Dn.track}),jo=useSlotProps({elementType:vo,getSlotProps:Xt,externalSlotProps:xo,ownerState:_extends({},bn,xo==null?void 0:xo.ownerState),className:Dn.thumb}),_a=useSlotProps({elementType:ss,externalSlotProps:Lo,ownerState:_extends({},bn,Lo==null?void 0:Lo.ownerState),className:Dn.valueLabel}),Wo=useSlotProps({elementType:yo,externalSlotProps:Qs,ownerState:bn,className:Dn.mark}),Vo=useSlotProps({elementType:_o,externalSlotProps:Js,ownerState:bn,className:Dn.markLabel}),xa=useSlotProps({elementType:as,getSlotProps:Jn,externalSlotProps:Uo,ownerState:bn});return jsxRuntimeExports.jsxs(jn,_extends({},na,{children:[jsxRuntimeExports.jsx(qn,_extends({},zo)),jsxRuntimeExports.jsx(Wn,_extends({},ga)),Ft.filter(rr=>rr.value>=yn&&rr.value<=Ht).map((rr,ar)=>{const To=valueToPercent(rr.value,yn,Ht),wo=On[At].offset(To);let Mr;return mn===!1?Mr=zt.indexOf(rr.value)!==-1:Mr=mn==="normal"&&(mt?rr.value>=zt[0]&&rr.value<=zt[zt.length-1]:rr.value<=zt[0])||mn==="inverted"&&(mt?rr.value<=zt[0]||rr.value>=zt[zt.length-1]:rr.value>=zt[0]),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(yo,_extends({"data-index":ar},Wo,!isHostComponent(yo)&&{markActive:Mr},{style:_extends({},wo,Wo.style),className:clsx(Wo.className,Mr&&Dn.markActive)})),rr.label!=null?jsxRuntimeExports.jsx(_o,_extends({"aria-hidden":!0,"data-index":ar},Vo,!isHostComponent(_o)&&{markLabelActive:Mr},{style:_extends({},wo,Vo.style),className:clsx(Dn.markLabel,Vo.className,Mr&&Dn.markLabelActive),children:rr.label})):null]},ar)}),zt.map((rr,ar)=>{const To=valueToPercent(rr,yn,Ht),wo=On[At].offset(To),Mr=gn==="off"?Forward:ss;return jsxRuntimeExports.jsx(Mr,_extends({},!isHostComponent(Mr)&&{valueLabelFormat:Rn,valueLabelDisplay:gn,value:typeof Rn=="function"?Rn(tn(rr),ar):Rn,index:ar,open:nn===ar||Tn===ar||gn==="on",disabled:kn},_a,{children:jsxRuntimeExports.jsx(vo,_extends({"data-index":ar},jo,{className:clsx(Dn.thumb,jo.className,Tn===ar&&Dn.active,ft===ar&&Dn.focusVisible),style:_extends({},wo,{pointerEvents:Cn&&Tn!==ar?"none":void 0},jo.style),children:jsxRuntimeExports.jsx(as,_extends({"data-index":ar,"aria-label":_n?_n(ar):qt,"aria-valuenow":tn(rr),"aria-labelledby":an,"aria-valuetext":Ut?Ut(tn(rr),ar):rn,value:zt[ar]},xa))}))}),ar)})]}))}),Slider$1=Slider,Stack=createStack({createStyledComponent:styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:(a,o)=>o.root}),useThemeProps:a=>useThemeProps({props:a,name:"MuiStack"})}),Stack$1=Stack,_300="",_400="",_500="",_700="",ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),PauseIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircle"),PlayIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle"),RepeatIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat"),ReplayIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay"),ZoomInIcon=createSvgIcon([jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),jsxRuntimeExports.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn"),ZoomOutIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut"),iconSize={height:64,width:64},PlayButton=({onClick:a,disabled:o=!1,actived:$=!1,sx:j})=>jsxRuntimeExports.jsx(IconButton$1,{disabled:o,onClick:a,sx:[...Array.isArray(j)?j:[j]],children:$?jsxRuntimeExports.jsx(PauseIcon,{sx:iconSize}):jsxRuntimeExports.jsx(PlayIcon,{sx:iconSize})}),RepeatButton=({onClick:a,actived:o=!1,disabled:$=!1,sx:j=[]})=>jsxRuntimeExports.jsx(IconButton$1,{onClick:a,disabled:$,sx:[...Array.isArray(j)?j:[j]],children:jsxRuntimeExports.jsx(RepeatIcon,{sx:{height:32,width:32,color:_e=>o?_e.palette.primary.main:"inherit"}})}),ReplayButton=({onClick:a,disabled:o=!1,sx:$=[]})=>jsxRuntimeExports.jsx(IconButton$1,{onClick:a,disabled:o,sx:[...Array.isArray($)?$:[$]],children:jsxRuntimeExports.jsx(ReplayIcon,{sx:{height:32,width:32}})}),PlaybackButtons=({onPlayClick:a,onRepeatClick:o,onReplayClick:$,isPlaying:j=!1,isLooping:_e=!1,disabled:et=!1,sx:tt=[]})=>jsxRuntimeExports.jsxs(Stack$1,{direction:"row",gap:1,sx:[{justifyContent:"center",alignItems:"center"},...Array.isArray(tt)?tt:[tt]],children:[jsxRuntimeExports.jsx(ReplayButton,{onClick:$,disabled:et}),jsxRuntimeExports.jsx(PlayButton,{onClick:a,actived:j,disabled:et}),jsxRuntimeExports.jsx(RepeatButton,{onClick:o,actived:_e,disabled:et})]}),PlaybackEffects=({onPitchChange:a,onSpeedChange:o,pitch:$,speed:j,disabled:_e=!1,sx:et=[]})=>{const tt=reactExports.useCallback((st,at)=>{a(at)},[a]),rt=reactExports.useCallback((st,at)=>{o(at)},[o]),ot=reactExports.useCallback(st=>`${st}x`,[]);return jsxRuntimeExports.jsxs(Stack$1,{gap:1,sx:[...Array.isArray(et)?et:[et]],children:[jsxRuntimeExports.jsxs(Stack$1,{gap:1,sx:{justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Pitch"}),jsxRuntimeExports.jsx(Slider$1,{valueLabelDisplay:"auto",defaultValue:0,step:1,marks:!0,min:-8,max:8,onChange:tt,value:$,disabled:_e})]}),jsxRuntimeExports.jsxs(Stack$1,{gap:1,sx:{justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Speed"}),jsxRuntimeExports.jsx(Slider$1,{valueLabelDisplay:"auto",valueLabelFormat:ot,defaultValue:1,step:.05,marks:!0,min:.5,max:2,onChange:rt,value:j,disabled:_e})]})]})},noCover="/assets/no-cover-d7d2397f.png",Cover=styled$1("img")({width:150,height:150,objectFit:"cover"}),FileInfo=({metadata:a,onDeleteClick:o,deleteDisabled:$=!1})=>{const j=reactExports.useCallback(()=>{o&&o()},[o]),_e=reactExports.useMemo(()=>a.cover?`data:${a.cover.format};base64,${a.cover.data.toString("base64")}`:null,[a.cover]);return jsxRuntimeExports.jsxs(Stack$1,{direction:"row",gap:2,children:[jsxRuntimeExports.jsx(Box$1,{sx:{width:150,aspectRatio:"1/1"},children:jsxRuntimeExports.jsx(Cover,{src:_e??noCover,alt:"audio"})}),jsxRuntimeExports.jsxs(Stack$1,{sx:{flex:1},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",component:"div",children:a.title??"Unknown"}),jsxRuntimeExports.jsx(Typography$1,{component:"div",children:a.artist??"Unknown"}),jsxRuntimeExports.jsx(Typography$1,{component:"div",children:a.album??"Unknown"})]}),jsxRuntimeExports.jsx(IconButton$1,{onClick:j,disabled:$,sx:{alignSelf:"center"},children:jsxRuntimeExports.jsx(ClearIcon,{})})]})};function __awaiter$4(a,o,$,j){function _e(et){return et instanceof $?et:new $(function(tt){tt(et)})}return new($||($=Promise))(function(et,tt){function rt(at){try{st(j.next(at))}catch(ut){tt(ut)}}function ot(at){try{st(j.throw(at))}catch(ut){tt(ut)}}function st(at){at.done?et(at.value):_e(at.value).then(rt,ot)}st((j=j.apply(a,o||[])).next())})}function __generator(a,o){var $={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},j,_e,et,tt;return tt={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function rt(st){return function(at){return ot([st,at])}}function ot(st){if(j)throw new TypeError("Generator is already executing.");for(;tt&&(tt=0,st[0]&&($=0)),$;)try{if(j=1,_e&&(et=st[0]&2?_e.return:st[0]?_e.throw||((et=_e.return)&&et.call(_e),0):_e.next)&&!(et=et.call(_e,st[1])).done)return et;switch(_e=0,et&&(st=[st[0]&2,et.value]),st[0]){case 0:case 1:et=st;break;case 4:return $.label++,{value:st[1],done:!1};case 5:$.label++,_e=st[1],st=[0];continue;case 7:st=$.ops.pop(),$.trys.pop();continue;default:if(et=$.trys,!(et=et.length>0&&et[et.length-1])&&(st[0]===6||st[0]===2)){$=0;continue}if(st[0]===3&&(!et||st[1]>et[0]&&st[1]<et[3])){$.label=st[1];break}if(st[0]===6&&$.label<et[1]){$.label=et[1],et=st;break}if(et&&$.label<et[2]){$.label=et[2],$.ops.push(st);break}et[2]&&$.ops.pop(),$.trys.pop();continue}st=o.call(a,$)}catch(at){st=[6,at],_e=0}finally{j=et=0}if(st[0]&5)throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}}function __read(a,o){var $=typeof Symbol=="function"&&a[Symbol.iterator];if(!$)return a;var j=$.call(a),_e,et=[],tt;try{for(;(o===void 0||o-- >0)&&!(_e=j.next()).done;)et.push(_e.value)}catch(rt){tt={error:rt}}finally{try{_e&&!_e.done&&($=j.return)&&$.call(j)}finally{if(tt)throw tt.error}}return et}function __spreadArray(a,o,$){if($||arguments.length===2)for(var j=0,_e=o.length,et;j<_e;j++)(et||!(j in o))&&(et||(et=Array.prototype.slice.call(o,0,j)),et[j]=o[j]);return a.concat(et||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(a,o){var $=withMimeType(a);if(typeof $.path!="string"){var j=a.webkitRelativePath;Object.defineProperty($,"path",{value:typeof o=="string"?o:typeof j=="string"&&j.length>0?j:a.name,writable:!1,configurable:!1,enumerable:!0})}return $}function withMimeType(a){var o=a.name,$=o&&o.lastIndexOf(".")!==-1;if($&&!a.type){var j=o.split(".").pop().toLowerCase(),_e=COMMON_MIME_TYPES.get(j);_e&&Object.defineProperty(a,"type",{value:_e,writable:!1,configurable:!1,enumerable:!0})}return a}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(a){return __awaiter$4(this,void 0,void 0,function(){return __generator(this,function(o){return isObject$1(a)&&isDataTransfer(a.dataTransfer)?[2,getDataTransferFiles(a.dataTransfer,a.type)]:isChangeEvt(a)?[2,getInputFiles(a)]:Array.isArray(a)&&a.every(function($){return"getFile"in $&&typeof $.getFile=="function"})?[2,getFsHandleFiles(a)]:[2,[]]})})}function isDataTransfer(a){return isObject$1(a)}function isChangeEvt(a){return isObject$1(a)&&isObject$1(a.target)}function isObject$1(a){return typeof a=="object"&&a!==null}function getInputFiles(a){return fromList(a.target.files).map(function(o){return toFileWithPath(o)})}function getFsHandleFiles(a){return __awaiter$4(this,void 0,void 0,function(){var o;return __generator(this,function($){switch($.label){case 0:return[4,Promise.all(a.map(function(j){return j.getFile()}))];case 1:return o=$.sent(),[2,o.map(function(j){return toFileWithPath(j)})]}})})}function getDataTransferFiles(a,o){return __awaiter$4(this,void 0,void 0,function(){var $,j;return __generator(this,function(_e){switch(_e.label){case 0:return a.items?($=fromList(a.items).filter(function(et){return et.kind==="file"}),o!=="drop"?[2,$]:[4,Promise.all($.map(toFilePromises))]):[3,2];case 1:return j=_e.sent(),[2,noIgnoredFiles(flatten(j))];case 2:return[2,noIgnoredFiles(fromList(a.files).map(function(et){return toFileWithPath(et)}))]}})})}function noIgnoredFiles(a){return a.filter(function(o){return FILES_TO_IGNORE.indexOf(o.name)===-1})}function fromList(a){if(a===null)return[];for(var o=[],$=0;$<a.length;$++){var j=a[$];o.push(j)}return o}function toFilePromises(a){if(typeof a.webkitGetAsEntry!="function")return fromDataTransferItem(a);var o=a.webkitGetAsEntry();return o&&o.isDirectory?fromDirEntry(o):fromDataTransferItem(a)}function flatten(a){return a.reduce(function(o,$){return __spreadArray(__spreadArray([],__read(o),!1),__read(Array.isArray($)?flatten($):[$]),!1)},[])}function fromDataTransferItem(a){var o=a.getAsFile();if(!o)return Promise.reject("".concat(a," is not a File"));var $=toFileWithPath(o);return Promise.resolve($)}function fromEntry(a){return __awaiter$4(this,void 0,void 0,function(){return __generator(this,function(o){return[2,a.isDirectory?fromDirEntry(a):fromFileEntry(a)]})})}function fromDirEntry(a){var o=a.createReader();return new Promise(function($,j){var _e=[];function et(){var tt=this;o.readEntries(function(rt){return __awaiter$4(tt,void 0,void 0,function(){var ot,st,at;return __generator(this,function(ut){switch(ut.label){case 0:if(rt.length)return[3,5];ut.label=1;case 1:return ut.trys.push([1,3,,4]),[4,Promise.all(_e)];case 2:return ot=ut.sent(),$(ot),[3,4];case 3:return st=ut.sent(),j(st),[3,4];case 4:return[3,6];case 5:at=Promise.all(rt.map(fromEntry)),_e.push(at),et(),ut.label=6;case 6:return[2]}})})},function(rt){j(rt)})}et()})}function fromFileEntry(a){return __awaiter$4(this,void 0,void 0,function(){return __generator(this,function(o){return[2,new Promise(function($,j){a.file(function(_e){var et=toFileWithPath(_e,a.fullPath);$(et)},function(_e){j(_e)})})]})})}var _default=function(a,o){if(a&&o){var $=Array.isArray(o)?o:o.split(","),j=a.name||"",_e=(a.type||"").toLowerCase(),et=_e.replace(/\/.*$/,"");return $.some(function(tt){var rt=tt.trim().toLowerCase();return rt.charAt(0)==="."?j.toLowerCase().endsWith(rt):rt.endsWith("/*")?et===rt.replace(/\/.*$/,""):_e===rt})}return!0};function _toConsumableArray$1(a){return _arrayWithoutHoles$1(a)||_iterableToArray$1(a)||_unsupportedIterableToArray$1(a)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles$1(a){if(Array.isArray(a))return _arrayLikeToArray$1(a)}function ownKeys$1(a,o){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(a,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1(a){for(var o=1;o<arguments.length;o++){var $=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object($),!0).forEach(function(j){_defineProperty$1(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty$1(a,o,$){return o in a?Object.defineProperty(a,o,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[o]=$,a}function _slicedToArray$1(a,o){return _arrayWithHoles$1(a)||_iterableToArrayLimit$1(a,o)||_unsupportedIterableToArray$1(a,o)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray$1(a,o);var $=Object.prototype.toString.call(a).slice(8,-1);if($==="Object"&&a.constructor&&($=a.constructor.name),$==="Map"||$==="Set")return Array.from(a);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray$1(a,o)}}function _arrayLikeToArray$1(a,o){(o==null||o>a.length)&&(o=a.length);for(var $=0,j=new Array(o);$<o;$++)j[$]=a[$];return j}function _iterableToArrayLimit$1(a,o){var $=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if($!=null){var j=[],_e=!0,et=!1,tt,rt;try{for($=$.call(a);!(_e=(tt=$.next()).done)&&(j.push(tt.value),!(o&&j.length===o));_e=!0);}catch(ot){et=!0,rt=ot}finally{try{!_e&&$.return!=null&&$.return()}finally{if(et)throw rt}}return j}}function _arrayWithHoles$1(a){if(Array.isArray(a))return a}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(o){o=Array.isArray(o)&&o.length===1?o[0]:o;var $=Array.isArray(o)?"one of ".concat(o.join(", ")):o;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat($)}},getTooLargeRejectionErr=function(o){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(o," ").concat(o===1?"byte":"bytes")}},getTooSmallRejectionErr=function(o){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(o," ").concat(o===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(a,o){var $=a.type==="application/x-moz-file"||_default(a,o);return[$,$?null:getInvalidTypeRejectionErr(o)]}function fileMatchSize(a,o,$){if(isDefined$1(a.size))if(isDefined$1(o)&&isDefined$1($)){if(a.size>$)return[!1,getTooLargeRejectionErr($)];if(a.size<o)return[!1,getTooSmallRejectionErr(o)]}else{if(isDefined$1(o)&&a.size<o)return[!1,getTooSmallRejectionErr(o)];if(isDefined$1($)&&a.size>$)return[!1,getTooLargeRejectionErr($)]}return[!0,null]}function isDefined$1(a){return a!=null}function allFilesAccepted(a){var o=a.files,$=a.accept,j=a.minSize,_e=a.maxSize,et=a.multiple,tt=a.maxFiles,rt=a.validator;return!et&&o.length>1||et&&tt>=1&&o.length>tt?!1:o.every(function(ot){var st=fileAccepted(ot,$),at=_slicedToArray$1(st,1),ut=at[0],ct=fileMatchSize(ot,j,_e),vt=_slicedToArray$1(ct,1),ht=vt[0],yt=rt?rt(ot):null;return ut&&ht&&!yt})}function isPropagationStopped(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function isEvtWithFiles(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(o){return o==="Files"||o==="application/x-moz-file"}):!!a.target&&!!a.target.files}function onDocumentDragOver(a){a.preventDefault()}function isIe(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function isEdge(a){return a.indexOf("Edge/")!==-1}function isIeOrEdge(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(a)||isEdge(a)}function composeEventHandlers(){for(var a=arguments.length,o=new Array(a),$=0;$<a;$++)o[$]=arguments[$];return function(j){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];return o.some(function(rt){return!isPropagationStopped(j)&&rt&&rt.apply(void 0,[j].concat(et)),isPropagationStopped(j)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(a){if(isDefined$1(a)){var o=Object.entries(a).filter(function($){var j=_slicedToArray$1($,2),_e=j[0],et=j[1],tt=!0;return isMIMEType(_e)||(console.warn('Skipped "'.concat(_e,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),tt=!1),(!Array.isArray(et)||!et.every(isExt))&&(console.warn('Skipped "'.concat(_e,'" because an invalid file extension was provided.')),tt=!1),tt}).reduce(function($,j){var _e=_slicedToArray$1(j,2),et=_e[0],tt=_e[1];return _objectSpread$1(_objectSpread$1({},$),{},_defineProperty$1({},et,tt))},{});return[{description:"Files",accept:o}]}return a}function acceptPropAsAcceptAttr(a){if(isDefined$1(a))return Object.entries(a).reduce(function(o,$){var j=_slicedToArray$1($,2),_e=j[0],et=j[1];return[].concat(_toConsumableArray$1(o),[_e],_toConsumableArray$1(et))},[]).filter(function(o){return isMIMEType(o)||isExt(o)}).join(",")}function isAbort(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function isSecurityError(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function isMIMEType(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||/\w+\/[-+.\w]+/g.test(a)}function isExt(a){return/^.*\.[\w]+$/.test(a)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _slicedToArray(a,o){return _arrayWithHoles(a)||_iterableToArrayLimit(a,o)||_unsupportedIterableToArray(a,o)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray(a,o);var $=Object.prototype.toString.call(a).slice(8,-1);if($==="Object"&&a.constructor&&($=a.constructor.name),$==="Map"||$==="Set")return Array.from(a);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return _arrayLikeToArray(a,o)}}function _arrayLikeToArray(a,o){(o==null||o>a.length)&&(o=a.length);for(var $=0,j=new Array(o);$<o;$++)j[$]=a[$];return j}function _iterableToArrayLimit(a,o){var $=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if($!=null){var j=[],_e=!0,et=!1,tt,rt;try{for($=$.call(a);!(_e=(tt=$.next()).done)&&(j.push(tt.value),!(o&&j.length===o));_e=!0);}catch(ot){et=!0,rt=ot}finally{try{!_e&&$.return!=null&&$.return()}finally{if(et)throw rt}}return j}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function ownKeys(a,o){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(a,_e).enumerable})),$.push.apply($,j)}return $}function _objectSpread(a){for(var o=1;o<arguments.length;o++){var $=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object($),!0).forEach(function(j){_defineProperty(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty(a,o,$){return o in a?Object.defineProperty(a,o,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[o]=$,a}function _objectWithoutProperties(a,o){if(a==null)return{};var $=_objectWithoutPropertiesLoose(a,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(a);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(a,j)&&($[j]=a[j])}return $}function _objectWithoutPropertiesLoose(a,o){if(a==null)return{};var $={},j=Object.keys(a),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&($[_e]=a[_e]);return $}var Dropzone=reactExports.forwardRef(function(a,o){var $=a.children,j=_objectWithoutProperties(a,_excluded),_e=useDropzone(j),et=_e.open,tt=_objectWithoutProperties(_e,_excluded2);return reactExports.useImperativeHandle(o,function(){return{open:et}},[et]),React.createElement(reactExports.Fragment,null,$(_objectSpread(_objectSpread({},tt),{},{open:et})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=_objectSpread(_objectSpread({},defaultProps),a),$=o.accept,j=o.disabled,_e=o.getFilesFromEvent,et=o.maxSize,tt=o.minSize,rt=o.multiple,ot=o.maxFiles,st=o.onDragEnter,at=o.onDragLeave,ut=o.onDragOver,ct=o.onDrop,vt=o.onDropAccepted,ht=o.onDropRejected,yt=o.onFileDialogCancel,bt=o.onFileDialogOpen,dt=o.useFsAccessApi,xt=o.autoFocus,Tt=o.preventDropOnDocument,Ct=o.noClick,Et=o.noKeyboard,St=o.noDrag,gt=o.noDragEventsBubbling,wt=o.onError,Mt=o.validator,Ot=reactExports.useMemo(function(){return acceptPropAsAcceptAttr($)},[$]),Lt=reactExports.useMemo(function(){return pickerOptionsFromAccept($)},[$]),jt=reactExports.useMemo(function(){return typeof bt=="function"?bt:noop$3},[bt]),Jt=reactExports.useMemo(function(){return typeof yt=="function"?yt:noop$3},[yt]),qt=reactExports.useRef(null),rn=reactExports.useRef(null),an=reactExports.useReducer(reducer,initialState$1),pn=_slicedToArray(an,2),Kt=pn[0],Qt=pn[1],fn=Kt.isFocused,ln=Kt.isFileDialogActive,vn=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&dt&&canUseFileSystemAccessAPI()),Cn=function(){!vn.current&&ln&&setTimeout(function(){if(rn.current){var nn=rn.current.files;nn.length||(Qt({type:"closeDialog"}),Jt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Cn,!1),function(){window.removeEventListener("focus",Cn,!1)}},[rn,ln,Jt,vn]);var kn=reactExports.useRef([]),_n=function(nn){qt.current&&qt.current.contains(nn.target)||(nn.preventDefault(),kn.current=[])};reactExports.useEffect(function(){return Tt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",_n,!1)),function(){Tt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",_n))}},[qt,Tt]),reactExports.useEffect(function(){return!j&&xt&&qt.current&&qt.current.focus(),function(){}},[qt,xt,j]);var Ut=reactExports.useCallback(function(Xt){wt?wt(Xt):console.error(Xt)},[wt]),Vt=reactExports.useCallback(function(Xt){Xt.preventDefault(),Xt.persist(),bn(Xt),kn.current=[].concat(_toConsumableArray(kn.current),[Xt.target]),isEvtWithFiles(Xt)&&Promise.resolve(_e(Xt)).then(function(nn){if(!(isPropagationStopped(Xt)&&!gt)){var Tn=nn.length,At=Tn>0&&allFilesAccepted({files:nn,accept:Ot,minSize:tt,maxSize:et,multiple:rt,maxFiles:ot,validator:Mt}),ft=Tn>0&&!At;Qt({isDragAccept:At,isDragReject:ft,isDragActive:!0,type:"setDraggedFiles"}),st&&st(Xt)}}).catch(function(nn){return Ut(nn)})},[_e,st,Ut,gt,Ot,tt,et,rt,ot,Mt]),Ht=reactExports.useCallback(function(Xt){Xt.preventDefault(),Xt.persist(),bn(Xt);var nn=isEvtWithFiles(Xt);if(nn&&Xt.dataTransfer)try{Xt.dataTransfer.dropEffect="copy"}catch{}return nn&&ut&&ut(Xt),!1},[ut,gt]),yn=reactExports.useCallback(function(Xt){Xt.preventDefault(),Xt.persist(),bn(Xt);var nn=kn.current.filter(function(At){return qt.current&&qt.current.contains(At)}),Tn=nn.indexOf(Xt.target);Tn!==-1&&nn.splice(Tn,1),kn.current=nn,!(nn.length>0)&&(Qt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Xt)&&at&&at(Xt))},[qt,at,gt]),En=reactExports.useCallback(function(Xt,nn){var Tn=[],At=[];Xt.forEach(function(ft){var mt=fileAccepted(ft,Ot),Nt=_slicedToArray(mt,2),Ft=Nt[0],zt=Nt[1],Zt=fileMatchSize(ft,tt,et),An=_slicedToArray(Zt,2),Dn=An[0],jn=An[1],qn=Mt?Mt(ft):null;if(Ft&&Dn&&!qn)Tn.push(ft);else{var Wn=[zt,jn];qn&&(Wn=Wn.concat(qn)),At.push({file:ft,errors:Wn.filter(function(vo){return vo})})}}),(!rt&&Tn.length>1||rt&&ot>=1&&Tn.length>ot)&&(Tn.forEach(function(ft){At.push({file:ft,errors:[TOO_MANY_FILES_REJECTION]})}),Tn.splice(0)),Qt({acceptedFiles:Tn,fileRejections:At,type:"setFiles"}),ct&&ct(Tn,At,nn),At.length>0&&ht&&ht(At,nn),Tn.length>0&&vt&&vt(Tn,nn)},[Qt,rt,Ot,tt,et,ot,ct,vt,ht,Mt]),Rt=reactExports.useCallback(function(Xt){Xt.preventDefault(),Xt.persist(),bn(Xt),kn.current=[],isEvtWithFiles(Xt)&&Promise.resolve(_e(Xt)).then(function(nn){isPropagationStopped(Xt)&&!gt||En(nn,Xt)}).catch(function(nn){return Ut(nn)}),Qt({type:"reset"})},[_e,En,Ut,gt]),$t=reactExports.useCallback(function(){if(vn.current){Qt({type:"openDialog"}),jt();var Xt={multiple:rt,types:Lt};window.showOpenFilePicker(Xt).then(function(nn){return _e(nn)}).then(function(nn){En(nn,null),Qt({type:"closeDialog"})}).catch(function(nn){isAbort(nn)?(Jt(nn),Qt({type:"closeDialog"})):isSecurityError(nn)?(vn.current=!1,rn.current?(rn.current.value=null,rn.current.click()):Ut(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ut(nn)});return}rn.current&&(Qt({type:"openDialog"}),jt(),rn.current.value=null,rn.current.click())},[Qt,jt,Jt,dt,En,Ut,Lt,rt]),tn=reactExports.useCallback(function(Xt){!qt.current||!qt.current.isEqualNode(Xt.target)||(Xt.key===" "||Xt.key==="Enter"||Xt.keyCode===32||Xt.keyCode===13)&&(Xt.preventDefault(),$t())},[qt,$t]),dn=reactExports.useCallback(function(){Qt({type:"focus"})},[]),en=reactExports.useCallback(function(){Qt({type:"blur"})},[]),mn=reactExports.useCallback(function(){Ct||(isIeOrEdge()?setTimeout($t,0):$t())},[Ct,$t]),gn=function(nn){return j?null:nn},Rn=function(nn){return Et?null:gn(nn)},In=function(nn){return St?null:gn(nn)},bn=function(nn){gt&&nn.stopPropagation()},On=reactExports.useMemo(function(){return function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nn=Xt.refKey,Tn=nn===void 0?"ref":nn,At=Xt.role,ft=Xt.onKeyDown,mt=Xt.onFocus,Nt=Xt.onBlur,Ft=Xt.onClick,zt=Xt.onDragEnter,Zt=Xt.onDragOver,An=Xt.onDragLeave,Dn=Xt.onDrop,jn=_objectWithoutProperties(Xt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Rn(composeEventHandlers(ft,tn)),onFocus:Rn(composeEventHandlers(mt,dn)),onBlur:Rn(composeEventHandlers(Nt,en)),onClick:gn(composeEventHandlers(Ft,mn)),onDragEnter:In(composeEventHandlers(zt,Vt)),onDragOver:In(composeEventHandlers(Zt,Ht)),onDragLeave:In(composeEventHandlers(An,yn)),onDrop:In(composeEventHandlers(Dn,Rt)),role:typeof At=="string"&&At!==""?At:"presentation"},Tn,qt),!j&&!Et?{tabIndex:0}:{}),jn)}},[qt,tn,dn,en,mn,Vt,Ht,yn,Rt,Et,St,j]),Gn=reactExports.useCallback(function(Xt){Xt.stopPropagation()},[]),Jn=reactExports.useMemo(function(){return function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nn=Xt.refKey,Tn=nn===void 0?"ref":nn,At=Xt.onChange,ft=Xt.onClick,mt=_objectWithoutProperties(Xt,_excluded4),Nt=_defineProperty({accept:Ot,multiple:rt,type:"file",style:{display:"none"},onChange:gn(composeEventHandlers(At,Rt)),onClick:gn(composeEventHandlers(ft,Gn)),tabIndex:-1},Tn,rn);return _objectSpread(_objectSpread({},Nt),mt)}},[rn,$,rt,Rt,j]);return _objectSpread(_objectSpread({},Kt),{},{isFocused:fn&&!j,getRootProps:On,getInputProps:Jn,rootRef:qt,inputRef:rn,open:gn($t)})}function reducer(a,o){switch(o.type){case"focus":return _objectSpread(_objectSpread({},a),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},a),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},a),{},{isDragActive:o.isDragActive,isDragAccept:o.isDragAccept,isDragReject:o.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},a),{},{acceptedFiles:o.acceptedFiles,fileRejections:o.fileRejections});case"reset":return _objectSpread({},initialState$1);default:return a}}function noop$3(){}const Uploader=({onUpload:a})=>{const o=reactExports.useCallback(ot=>{a(ot[0])},[a]),{isDragAccept:$,getRootProps:j,getInputProps:_e}=useDropzone({maxFiles:1,accept:{"audio/*":[]},onDrop:o}),{onClick:et,...tt}=j(),rt=_e();return jsxRuntimeExports.jsxs(Box$1,{...tt,sx:{justifyContent:"center",alignItems:"center",borderWidth:"2px",borderStyle:$?"solid":"dashed",borderBlockColor:ot=>ot.palette.mode==="dark"?ot.palette.grey[100]:ot.palette.grey[900],borderRadius:4,p:2},children:[jsxRuntimeExports.jsx("input",{...rt}),jsxRuntimeExports.jsxs(Stack$1,{gap:2,sx:{justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Drag & drop to upload file"}),jsxRuntimeExports.jsx(Divider$1,{sx:{width:"50%"},children:"OR"}),jsxRuntimeExports.jsx(Button$1,{variant:"contained",onClick:et,children:"Browse file"})]})]})},Loader=({sx:a=[]})=>jsxRuntimeExports.jsx(Box$1,{sx:[{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o=>o.palette.background.default+"BF",zIndex:o=>o.zIndex.fab+1},...Array.isArray(a)?a:[a]],children:jsxRuntimeExports.jsx(CircularProgress$1,{})}),Zoom=({value:a,onChange:o,sx:$})=>{const j=reactExports.useCallback((_e,et)=>{typeof et=="number"&&o&&o(et)},[o]);return jsxRuntimeExports.jsxs(Stack$1,{gap:2,direction:"row",sx:[{alignItems:"center"},...Array.isArray($)?$:[$]],children:[jsxRuntimeExports.jsx(ZoomOutIcon,{}),jsxRuntimeExports.jsx(Slider$1,{min:1,max:20,value:a,onChange:j}),jsxRuntimeExports.jsx(ZoomInIcon,{})]})};var lib$3={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;typeof global$1.setTimeout=="function"&&(cachedSetTimeout=setTimeout);typeof global$1.clearTimeout=="function"&&(cachedClearTimeout=clearTimeout);function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}function nextTick(a){var o=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)o[$-1]=arguments[$];queue.push(new Item(a,o)),queue.length===1&&!draining&&runTimeout(drainQueue)}function Item(a,o){this.fun=a,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser$2=!0,env={},argv=[],version$1="",versions={},release={},config$1={};function noop$2(){}var on=noop$2,addListener=noop$2,once$2=noop$2,off=noop$2,removeListener=noop$2,removeAllListeners=noop$2,emit=noop$2;function binding(a){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(a){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return new Date().getTime()};function hrtime(a){var o=performanceNow.call(performance$1)*.001,$=Math.floor(o),j=Math.floor(o%1*1e9);return a&&($=$-a[0],j=j-a[1],j<0&&($--,j+=1e9)),[$,j]}var startTime=new Date;function uptime(){var a=new Date,o=a-startTime;return o/1e3}var browser$1$1={nextTick,title,browser:browser$2,env,argv,version:version$1,versions,on,addListener,once:once$2,off,removeListener,removeAllListeners,emit,binding,cwd,chdir,umask,hrtime,platform,release,config:config$1,uptime},browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var a=1e3,o=a*60,$=o*60,j=$*24,_e=j*7,et=j*365.25;ms=function(at,ut){ut=ut||{};var ct=typeof at;if(ct==="string"&&at.length>0)return tt(at);if(ct==="number"&&isFinite(at))return ut.long?ot(at):rt(at);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(at))};function tt(at){if(at=String(at),!(at.length>100)){var ut=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(at);if(ut){var ct=parseFloat(ut[1]),vt=(ut[2]||"ms").toLowerCase();switch(vt){case"years":case"year":case"yrs":case"yr":case"y":return ct*et;case"weeks":case"week":case"w":return ct*_e;case"days":case"day":case"d":return ct*j;case"hours":case"hour":case"hrs":case"hr":case"h":return ct*$;case"minutes":case"minute":case"mins":case"min":case"m":return ct*o;case"seconds":case"second":case"secs":case"sec":case"s":return ct*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return ct;default:return}}}}function rt(at){var ut=Math.abs(at);return ut>=j?Math.round(at/j)+"d":ut>=$?Math.round(at/$)+"h":ut>=o?Math.round(at/o)+"m":ut>=a?Math.round(at/a)+"s":at+"ms"}function ot(at){var ut=Math.abs(at);return ut>=j?st(at,ut,j,"day"):ut>=$?st(at,ut,$,"hour"):ut>=o?st(at,ut,o,"minute"):ut>=a?st(at,ut,a,"second"):at+" ms"}function st(at,ut,ct,vt){var ht=ut>=ct*1.5;return Math.round(at/ct)+" "+vt+(ht?"s":"")}return ms}function setup(a){$.debug=$,$.default=$,$.coerce=ot,$.disable=et,$.enable=_e,$.enabled=tt,$.humanize=requireMs(),$.destroy=st,Object.keys(a).forEach(at=>{$[at]=a[at]}),$.names=[],$.skips=[],$.formatters={};function o(at){let ut=0;for(let ct=0;ct<at.length;ct++)ut=(ut<<5)-ut+at.charCodeAt(ct),ut|=0;return $.colors[Math.abs(ut)%$.colors.length]}$.selectColor=o;function $(at){let ut,ct=null,vt,ht;function yt(...bt){if(!yt.enabled)return;const dt=yt,xt=Number(new Date),Tt=xt-(ut||xt);dt.diff=Tt,dt.prev=ut,dt.curr=xt,ut=xt,bt[0]=$.coerce(bt[0]),typeof bt[0]!="string"&&bt.unshift("%O");let Ct=0;bt[0]=bt[0].replace(/%([a-zA-Z%])/g,(St,gt)=>{if(St==="%%")return"%";Ct++;const wt=$.formatters[gt];if(typeof wt=="function"){const Mt=bt[Ct];St=wt.call(dt,Mt),bt.splice(Ct,1),Ct--}return St}),$.formatArgs.call(dt,bt),(dt.log||$.log).apply(dt,bt)}return yt.namespace=at,yt.useColors=$.useColors(),yt.color=$.selectColor(at),yt.extend=j,yt.destroy=$.destroy,Object.defineProperty(yt,"enabled",{enumerable:!0,configurable:!1,get:()=>ct!==null?ct:(vt!==$.namespaces&&(vt=$.namespaces,ht=$.enabled(at)),ht),set:bt=>{ct=bt}}),typeof $.init=="function"&&$.init(yt),yt}function j(at,ut){const ct=$(this.namespace+(typeof ut>"u"?":":ut)+at);return ct.log=this.log,ct}function _e(at){$.save(at),$.namespaces=at,$.names=[],$.skips=[];let ut;const ct=(typeof at=="string"?at:"").split(/[\s,]+/),vt=ct.length;for(ut=0;ut<vt;ut++)ct[ut]&&(at=ct[ut].replace(/\*/g,".*?"),at[0]==="-"?$.skips.push(new RegExp("^"+at.slice(1)+"$")):$.names.push(new RegExp("^"+at+"$")))}function et(){const at=[...$.names.map(rt),...$.skips.map(rt).map(ut=>"-"+ut)].join(",");return $.enable(""),at}function tt(at){if(at[at.length-1]==="*")return!0;let ut,ct;for(ut=0,ct=$.skips.length;ut<ct;ut++)if($.skips[ut].test(at))return!1;for(ut=0,ct=$.names.length;ut<ct;ut++)if($.names[ut].test(at))return!0;return!1}function rt(at){return at.toString().substring(2,at.toString().length-2).replace(/\.\*\?$/,"*")}function ot(at){return at instanceof Error?at.stack||at.message:at}function st(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return $.enable($.load()),$}var common$3=setup;(function(a,o){o.formatArgs=j,o.save=_e,o.load=et,o.useColors=$,o.storage=tt(),o.destroy=(()=>{let ot=!1;return()=>{ot||(ot=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function j(ot){if(ot[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ot[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const st="color: "+this.color;ot.splice(1,0,st,"color: inherit");let at=0,ut=0;ot[0].replace(/%[a-zA-Z%]/g,ct=>{ct!=="%%"&&(at++,ct==="%c"&&(ut=at))}),ot.splice(ut,0,st)}o.log=console.debug||console.log||(()=>{});function _e(ot){try{ot?o.storage.setItem("debug",ot):o.storage.removeItem("debug")}catch{}}function et(){let ot;try{ot=o.storage.getItem("debug")}catch{}return!ot&&typeof browser$1$1<"u"&&"env"in browser$1$1&&(ot={}.DEBUG),ot}function tt(){try{return localStorage}catch{}}a.exports=common$3(o);const{formatters:rt}=a.exports;rt.j=function(ot){try{return JSON.stringify(ot)}catch(st){return"[UnexpectedJSONParseError]: "+st.message}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports,core$2={},core$1={},ReadStreamTokenizer$1={},lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,$=a.length;o<$;++o)lookup$1[o]=a[o],revLookup$1[a.charCodeAt(o)]=o;revLookup$1["-".charCodeAt(0)]=62,revLookup$1["_".charCodeAt(0)]=63}function toByteArray$1(a){inited||init();var o,$,j,_e,et,tt,rt=a.length;if(rt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");et=a[rt-2]==="="?2:a[rt-1]==="="?1:0,tt=new Arr$1(rt*3/4-et),j=et>0?rt-4:rt;var ot=0;for(o=0,$=0;o<j;o+=4,$+=3)_e=revLookup$1[a.charCodeAt(o)]<<18|revLookup$1[a.charCodeAt(o+1)]<<12|revLookup$1[a.charCodeAt(o+2)]<<6|revLookup$1[a.charCodeAt(o+3)],tt[ot++]=_e>>16&255,tt[ot++]=_e>>8&255,tt[ot++]=_e&255;return et===2?(_e=revLookup$1[a.charCodeAt(o)]<<2|revLookup$1[a.charCodeAt(o+1)]>>4,tt[ot++]=_e&255):et===1&&(_e=revLookup$1[a.charCodeAt(o)]<<10|revLookup$1[a.charCodeAt(o+1)]<<4|revLookup$1[a.charCodeAt(o+2)]>>2,tt[ot++]=_e>>8&255,tt[ot++]=_e&255),tt}function tripletToBase64$1(a){return lookup$1[a>>18&63]+lookup$1[a>>12&63]+lookup$1[a>>6&63]+lookup$1[a&63]}function encodeChunk$1(a,o,$){for(var j,_e=[],et=o;et<$;et+=3)j=(a[et]<<16)+(a[et+1]<<8)+a[et+2],_e.push(tripletToBase64$1(j));return _e.join("")}function fromByteArray$1(a){inited||init();for(var o,$=a.length,j=$%3,_e="",et=[],tt=16383,rt=0,ot=$-j;rt<ot;rt+=tt)et.push(encodeChunk$1(a,rt,rt+tt>ot?ot:rt+tt));return j===1?(o=a[$-1],_e+=lookup$1[o>>2],_e+=lookup$1[o<<4&63],_e+="=="):j===2&&(o=(a[$-2]<<8)+a[$-1],_e+=lookup$1[o>>10],_e+=lookup$1[o>>4&63],_e+=lookup$1[o<<2&63],_e+="="),et.push(_e),et.join("")}function read(a,o,$,j,_e){var et,tt,rt=_e*8-j-1,ot=(1<<rt)-1,st=ot>>1,at=-7,ut=$?_e-1:0,ct=$?-1:1,vt=a[o+ut];for(ut+=ct,et=vt&(1<<-at)-1,vt>>=-at,at+=rt;at>0;et=et*256+a[o+ut],ut+=ct,at-=8);for(tt=et&(1<<-at)-1,et>>=-at,at+=j;at>0;tt=tt*256+a[o+ut],ut+=ct,at-=8);if(et===0)et=1-st;else{if(et===ot)return tt?NaN:(vt?-1:1)*(1/0);tt=tt+Math.pow(2,j),et=et-st}return(vt?-1:1)*tt*Math.pow(2,et-j)}function write(a,o,$,j,_e,et){var tt,rt,ot,st=et*8-_e-1,at=(1<<st)-1,ut=at>>1,ct=_e===23?Math.pow(2,-24)-Math.pow(2,-77):0,vt=j?0:et-1,ht=j?1:-1,yt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(rt=isNaN(o)?1:0,tt=at):(tt=Math.floor(Math.log(o)/Math.LN2),o*(ot=Math.pow(2,-tt))<1&&(tt--,ot*=2),tt+ut>=1?o+=ct/ot:o+=ct*Math.pow(2,1-ut),o*ot>=2&&(tt++,ot/=2),tt+ut>=at?(rt=0,tt=at):tt+ut>=1?(rt=(o*ot-1)*Math.pow(2,_e),tt=tt+ut):(rt=o*Math.pow(2,ut-1)*Math.pow(2,_e),tt=0));_e>=8;a[$+vt]=rt&255,vt+=ht,rt/=256,_e-=8);for(tt=tt<<_e|rt,st+=_e;st>0;a[$+vt]=tt&255,vt+=ht,tt/=256,st-=8);a[$+vt-ht]|=yt*128}var toString={}.toString,isArray$1=Array.isArray||function(a){return toString.call(a)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer$1(a,o){if(kMaxLength()<o)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(o),a.__proto__=Buffer.prototype):(a===null&&(a=new Buffer(o)),a.length=o),a}function Buffer(a,o,$){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(a,o,$);if(typeof a=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,a)}return from(this,a,o,$)}Buffer.poolSize=8192;Buffer._augment=function(a){return a.__proto__=Buffer.prototype,a};function from(a,o,$,j){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?fromArrayBuffer(a,o,$,j):typeof o=="string"?fromString(a,o,$):fromObject(a,o)}Buffer.from=function(a,o,$){return from(null,a,o,$)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]);function assertSize(a){if(typeof a!="number")throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function alloc(a,o,$,j){return assertSize(o),o<=0?createBuffer$1(a,o):$!==void 0?typeof j=="string"?createBuffer$1(a,o).fill($,j):createBuffer$1(a,o).fill($):createBuffer$1(a,o)}Buffer.alloc=function(a,o,$){return alloc(null,a,o,$)};function allocUnsafe(a,o){if(assertSize(o),a=createBuffer$1(a,o<0?0:checked(o)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var $=0;$<o;++$)a[$]=0;return a}Buffer.allocUnsafe=function(a){return allocUnsafe(null,a)};Buffer.allocUnsafeSlow=function(a){return allocUnsafe(null,a)};function fromString(a,o,$){if((typeof $!="string"||$==="")&&($="utf8"),!Buffer.isEncoding($))throw new TypeError('"encoding" must be a valid string encoding');var j=byteLength$1(o,$)|0;a=createBuffer$1(a,j);var _e=a.write(o,$);return _e!==j&&(a=a.slice(0,_e)),a}function fromArrayLike(a,o){var $=o.length<0?0:checked(o.length)|0;a=createBuffer$1(a,$);for(var j=0;j<$;j+=1)a[j]=o[j]&255;return a}function fromArrayBuffer(a,o,$,j){if(o.byteLength,$<0||o.byteLength<$)throw new RangeError("'offset' is out of bounds");if(o.byteLength<$+(j||0))throw new RangeError("'length' is out of bounds");return $===void 0&&j===void 0?o=new Uint8Array(o):j===void 0?o=new Uint8Array(o,$):o=new Uint8Array(o,$,j),Buffer.TYPED_ARRAY_SUPPORT?(a=o,a.__proto__=Buffer.prototype):a=fromArrayLike(a,o),a}function fromObject(a,o){if(internalIsBuffer(o)){var $=checked(o.length)|0;return a=createBuffer$1(a,$),a.length===0||o.copy(a,0,0,$),a}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||isnan(o.length)?createBuffer$1(a,0):fromArrayLike(a,o);if(o.type==="Buffer"&&isArray$1(o.data))return fromArrayLike(a,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(a){if(a>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return a|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(a){return!!(a!=null&&a._isBuffer)}Buffer.compare=function(o,$){if(!internalIsBuffer(o)||!internalIsBuffer($))throw new TypeError("Arguments must be Buffers");if(o===$)return 0;for(var j=o.length,_e=$.length,et=0,tt=Math.min(j,_e);et<tt;++et)if(o[et]!==$[et]){j=o[et],_e=$[et];break}return j<_e?-1:_e<j?1:0};Buffer.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function(o,$){if(!isArray$1(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return Buffer.alloc(0);var j;if($===void 0)for($=0,j=0;j<o.length;++j)$+=o[j].length;var _e=Buffer.allocUnsafe($),et=0;for(j=0;j<o.length;++j){var tt=o[j];if(!internalIsBuffer(tt))throw new TypeError('"list" argument must be an Array of Buffers');tt.copy(_e,et),et+=tt.length}return _e};function byteLength$1(a,o){if(internalIsBuffer(a))return a.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;typeof a!="string"&&(a=""+a);var $=a.length;if($===0)return 0;for(var j=!1;;)switch(o){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return utf8ToBytes(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return base64ToBytes(a).length;default:if(j)return utf8ToBytes(a).length;o=(""+o).toLowerCase(),j=!0}}Buffer.byteLength=byteLength$1;function slowToString(a,o,$){var j=!1;if((o===void 0||o<0)&&(o=0),o>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,o>>>=0,$<=o))return"";for(a||(a="utf8");;)switch(a){case"hex":return hexSlice(this,o,$);case"utf8":case"utf-8":return utf8Slice(this,o,$);case"ascii":return asciiSlice(this,o,$);case"latin1":case"binary":return latin1Slice(this,o,$);case"base64":return base64Slice(this,o,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,o,$);default:if(j)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),j=!0}}Buffer.prototype._isBuffer=!0;function swap(a,o,$){var j=a[o];a[o]=a[$],a[$]=j}Buffer.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<o;$+=2)swap(this,$,$+1);return this};Buffer.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<o;$+=4)swap(this,$,$+3),swap(this,$+1,$+2);return this};Buffer.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<o;$+=8)swap(this,$,$+7),swap(this,$+1,$+6),swap(this,$+2,$+5),swap(this,$+3,$+4);return this};Buffer.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?utf8Slice(this,0,o):slowToString.apply(this,arguments)};Buffer.prototype.equals=function(o){if(!internalIsBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:Buffer.compare(this,o)===0};Buffer.prototype.inspect=function(){var o="",$=INSPECT_MAX_BYTES;return this.length>0&&(o=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(o+=" ... ")),"<Buffer "+o+">"};Buffer.prototype.compare=function(o,$,j,_e,et){if(!internalIsBuffer(o))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),j===void 0&&(j=o?o.length:0),_e===void 0&&(_e=0),et===void 0&&(et=this.length),$<0||j>o.length||_e<0||et>this.length)throw new RangeError("out of range index");if(_e>=et&&$>=j)return 0;if(_e>=et)return-1;if($>=j)return 1;if($>>>=0,j>>>=0,_e>>>=0,et>>>=0,this===o)return 0;for(var tt=et-_e,rt=j-$,ot=Math.min(tt,rt),st=this.slice(_e,et),at=o.slice($,j),ut=0;ut<ot;++ut)if(st[ut]!==at[ut]){tt=st[ut],rt=at[ut];break}return tt<rt?-1:rt<tt?1:0};function bidirectionalIndexOf(a,o,$,j,_e){if(a.length===0)return-1;if(typeof $=="string"?(j=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=_e?0:a.length-1),$<0&&($=a.length+$),$>=a.length){if(_e)return-1;$=a.length-1}else if($<0)if(_e)$=0;else return-1;if(typeof o=="string"&&(o=Buffer.from(o,j)),internalIsBuffer(o))return o.length===0?-1:arrayIndexOf(a,o,$,j,_e);if(typeof o=="number")return o=o&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(a,o,$):Uint8Array.prototype.lastIndexOf.call(a,o,$):arrayIndexOf(a,[o],$,j,_e);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(a,o,$,j,_e){var et=1,tt=a.length,rt=o.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(a.length<2||o.length<2)return-1;et=2,tt/=2,rt/=2,$/=2}function ot(vt,ht){return et===1?vt[ht]:vt.readUInt16BE(ht*et)}var st;if(_e){var at=-1;for(st=$;st<tt;st++)if(ot(a,st)===ot(o,at===-1?0:st-at)){if(at===-1&&(at=st),st-at+1===rt)return at*et}else at!==-1&&(st-=st-at),at=-1}else for($+rt>tt&&($=tt-rt),st=$;st>=0;st--){for(var ut=!0,ct=0;ct<rt;ct++)if(ot(a,st+ct)!==ot(o,ct)){ut=!1;break}if(ut)return st}return-1}Buffer.prototype.includes=function(o,$,j){return this.indexOf(o,$,j)!==-1};Buffer.prototype.indexOf=function(o,$,j){return bidirectionalIndexOf(this,o,$,j,!0)};Buffer.prototype.lastIndexOf=function(o,$,j){return bidirectionalIndexOf(this,o,$,j,!1)};function hexWrite(a,o,$,j){$=Number($)||0;var _e=a.length-$;j?(j=Number(j),j>_e&&(j=_e)):j=_e;var et=o.length;if(et%2!==0)throw new TypeError("Invalid hex string");j>et/2&&(j=et/2);for(var tt=0;tt<j;++tt){var rt=parseInt(o.substr(tt*2,2),16);if(isNaN(rt))return tt;a[$+tt]=rt}return tt}function utf8Write(a,o,$,j){return blitBuffer(utf8ToBytes(o,a.length-$),a,$,j)}function asciiWrite(a,o,$,j){return blitBuffer(asciiToBytes(o),a,$,j)}function latin1Write(a,o,$,j){return asciiWrite(a,o,$,j)}function base64Write(a,o,$,j){return blitBuffer(base64ToBytes(o),a,$,j)}function ucs2Write(a,o,$,j){return blitBuffer(utf16leToBytes(o,a.length-$),a,$,j)}Buffer.prototype.write=function(o,$,j,_e){if($===void 0)_e="utf8",j=this.length,$=0;else if(j===void 0&&typeof $=="string")_e=$,j=this.length,$=0;else if(isFinite($))$=$|0,isFinite(j)?(j=j|0,_e===void 0&&(_e="utf8")):(_e=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var et=this.length-$;if((j===void 0||j>et)&&(j=et),o.length>0&&(j<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");for(var tt=!1;;)switch(_e){case"hex":return hexWrite(this,o,$,j);case"utf8":case"utf-8":return utf8Write(this,o,$,j);case"ascii":return asciiWrite(this,o,$,j);case"latin1":case"binary":return latin1Write(this,o,$,j);case"base64":return base64Write(this,o,$,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,o,$,j);default:if(tt)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),tt=!0}};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(a,o,$){return o===0&&$===a.length?fromByteArray$1(a):fromByteArray$1(a.slice(o,$))}function utf8Slice(a,o,$){$=Math.min(a.length,$);for(var j=[],_e=o;_e<$;){var et=a[_e],tt=null,rt=et>239?4:et>223?3:et>191?2:1;if(_e+rt<=$){var ot,st,at,ut;switch(rt){case 1:et<128&&(tt=et);break;case 2:ot=a[_e+1],(ot&192)===128&&(ut=(et&31)<<6|ot&63,ut>127&&(tt=ut));break;case 3:ot=a[_e+1],st=a[_e+2],(ot&192)===128&&(st&192)===128&&(ut=(et&15)<<12|(ot&63)<<6|st&63,ut>2047&&(ut<55296||ut>57343)&&(tt=ut));break;case 4:ot=a[_e+1],st=a[_e+2],at=a[_e+3],(ot&192)===128&&(st&192)===128&&(at&192)===128&&(ut=(et&15)<<18|(ot&63)<<12|(st&63)<<6|at&63,ut>65535&&ut<1114112&&(tt=ut))}}tt===null?(tt=65533,rt=1):tt>65535&&(tt-=65536,j.push(tt>>>10&1023|55296),tt=56320|tt&1023),j.push(tt),_e+=rt}return decodeCodePointsArray(j)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(a){var o=a.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,a);for(var $="",j=0;j<o;)$+=String.fromCharCode.apply(String,a.slice(j,j+=MAX_ARGUMENTS_LENGTH));return $}function asciiSlice(a,o,$){var j="";$=Math.min(a.length,$);for(var _e=o;_e<$;++_e)j+=String.fromCharCode(a[_e]&127);return j}function latin1Slice(a,o,$){var j="";$=Math.min(a.length,$);for(var _e=o;_e<$;++_e)j+=String.fromCharCode(a[_e]);return j}function hexSlice(a,o,$){var j=a.length;(!o||o<0)&&(o=0),(!$||$<0||$>j)&&($=j);for(var _e="",et=o;et<$;++et)_e+=toHex(a[et]);return _e}function utf16leSlice(a,o,$){for(var j=a.slice(o,$),_e="",et=0;et<j.length;et+=2)_e+=String.fromCharCode(j[et]+j[et+1]*256);return _e}Buffer.prototype.slice=function(o,$){var j=this.length;o=~~o,$=$===void 0?j:~~$,o<0?(o+=j,o<0&&(o=0)):o>j&&(o=j),$<0?($+=j,$<0&&($=0)):$>j&&($=j),$<o&&($=o);var _e;if(Buffer.TYPED_ARRAY_SUPPORT)_e=this.subarray(o,$),_e.__proto__=Buffer.prototype;else{var et=$-o;_e=new Buffer(et,void 0);for(var tt=0;tt<et;++tt)_e[tt]=this[tt+o]}return _e};function checkOffset(a,o,$){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+o>$)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function(o,$,j){o=o|0,$=$|0,j||checkOffset(o,$,this.length);for(var _e=this[o],et=1,tt=0;++tt<$&&(et*=256);)_e+=this[o+tt]*et;return _e};Buffer.prototype.readUIntBE=function(o,$,j){o=o|0,$=$|0,j||checkOffset(o,$,this.length);for(var _e=this[o+--$],et=1;$>0&&(et*=256);)_e+=this[o+--$]*et;return _e};Buffer.prototype.readUInt8=function(o,$){return $||checkOffset(o,1,this.length),this[o]};Buffer.prototype.readUInt16LE=function(o,$){return $||checkOffset(o,2,this.length),this[o]|this[o+1]<<8};Buffer.prototype.readUInt16BE=function(o,$){return $||checkOffset(o,2,this.length),this[o]<<8|this[o+1]};Buffer.prototype.readUInt32LE=function(o,$){return $||checkOffset(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216};Buffer.prototype.readUInt32BE=function(o,$){return $||checkOffset(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])};Buffer.prototype.readIntLE=function(o,$,j){o=o|0,$=$|0,j||checkOffset(o,$,this.length);for(var _e=this[o],et=1,tt=0;++tt<$&&(et*=256);)_e+=this[o+tt]*et;return et*=128,_e>=et&&(_e-=Math.pow(2,8*$)),_e};Buffer.prototype.readIntBE=function(o,$,j){o=o|0,$=$|0,j||checkOffset(o,$,this.length);for(var _e=$,et=1,tt=this[o+--_e];_e>0&&(et*=256);)tt+=this[o+--_e]*et;return et*=128,tt>=et&&(tt-=Math.pow(2,8*$)),tt};Buffer.prototype.readInt8=function(o,$){return $||checkOffset(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]};Buffer.prototype.readInt16LE=function(o,$){$||checkOffset(o,2,this.length);var j=this[o]|this[o+1]<<8;return j&32768?j|4294901760:j};Buffer.prototype.readInt16BE=function(o,$){$||checkOffset(o,2,this.length);var j=this[o+1]|this[o]<<8;return j&32768?j|4294901760:j};Buffer.prototype.readInt32LE=function(o,$){return $||checkOffset(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24};Buffer.prototype.readInt32BE=function(o,$){return $||checkOffset(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]};Buffer.prototype.readFloatLE=function(o,$){return $||checkOffset(o,4,this.length),read(this,o,!0,23,4)};Buffer.prototype.readFloatBE=function(o,$){return $||checkOffset(o,4,this.length),read(this,o,!1,23,4)};Buffer.prototype.readDoubleLE=function(o,$){return $||checkOffset(o,8,this.length),read(this,o,!0,52,8)};Buffer.prototype.readDoubleBE=function(o,$){return $||checkOffset(o,8,this.length),read(this,o,!1,52,8)};function checkInt(a,o,$,j,_e,et){if(!internalIsBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>_e||o<et)throw new RangeError('"value" argument is out of bounds');if($+j>a.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function(o,$,j,_e){if(o=+o,$=$|0,j=j|0,!_e){var et=Math.pow(2,8*j)-1;checkInt(this,o,$,j,et,0)}var tt=1,rt=0;for(this[$]=o&255;++rt<j&&(tt*=256);)this[$+rt]=o/tt&255;return $+j};Buffer.prototype.writeUIntBE=function(o,$,j,_e){if(o=+o,$=$|0,j=j|0,!_e){var et=Math.pow(2,8*j)-1;checkInt(this,o,$,j,et,0)}var tt=j-1,rt=1;for(this[$+tt]=o&255;--tt>=0&&(rt*=256);)this[$+tt]=o/rt&255;return $+j};Buffer.prototype.writeUInt8=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[$]=o&255,$+1};function objectWriteUInt16(a,o,$,j){o<0&&(o=65535+o+1);for(var _e=0,et=Math.min(a.length-$,2);_e<et;++_e)a[$+_e]=(o&255<<8*(j?_e:1-_e))>>>(j?_e:1-_e)*8}Buffer.prototype.writeUInt16LE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o&255,this[$+1]=o>>>8):objectWriteUInt16(this,o,$,!0),$+2};Buffer.prototype.writeUInt16BE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o>>>8,this[$+1]=o&255):objectWriteUInt16(this,o,$,!1),$+2};function objectWriteUInt32(a,o,$,j){o<0&&(o=4294967295+o+1);for(var _e=0,et=Math.min(a.length-$,4);_e<et;++_e)a[$+_e]=o>>>(j?_e:3-_e)*8&255}Buffer.prototype.writeUInt32LE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[$+3]=o>>>24,this[$+2]=o>>>16,this[$+1]=o>>>8,this[$]=o&255):objectWriteUInt32(this,o,$,!0),$+4};Buffer.prototype.writeUInt32BE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o>>>24,this[$+1]=o>>>16,this[$+2]=o>>>8,this[$+3]=o&255):objectWriteUInt32(this,o,$,!1),$+4};Buffer.prototype.writeIntLE=function(o,$,j,_e){if(o=+o,$=$|0,!_e){var et=Math.pow(2,8*j-1);checkInt(this,o,$,j,et-1,-et)}var tt=0,rt=1,ot=0;for(this[$]=o&255;++tt<j&&(rt*=256);)o<0&&ot===0&&this[$+tt-1]!==0&&(ot=1),this[$+tt]=(o/rt>>0)-ot&255;return $+j};Buffer.prototype.writeIntBE=function(o,$,j,_e){if(o=+o,$=$|0,!_e){var et=Math.pow(2,8*j-1);checkInt(this,o,$,j,et-1,-et)}var tt=j-1,rt=1,ot=0;for(this[$+tt]=o&255;--tt>=0&&(rt*=256);)o<0&&ot===0&&this[$+tt+1]!==0&&(ot=1),this[$+tt]=(o/rt>>0)-ot&255;return $+j};Buffer.prototype.writeInt8=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[$]=o&255,$+1};Buffer.prototype.writeInt16LE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o&255,this[$+1]=o>>>8):objectWriteUInt16(this,o,$,!0),$+2};Buffer.prototype.writeInt16BE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o>>>8,this[$+1]=o&255):objectWriteUInt16(this,o,$,!1),$+2};Buffer.prototype.writeInt32LE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o&255,this[$+1]=o>>>8,this[$+2]=o>>>16,this[$+3]=o>>>24):objectWriteUInt32(this,o,$,!0),$+4};Buffer.prototype.writeInt32BE=function(o,$,j){return o=+o,$=$|0,j||checkInt(this,o,$,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),Buffer.TYPED_ARRAY_SUPPORT?(this[$]=o>>>24,this[$+1]=o>>>16,this[$+2]=o>>>8,this[$+3]=o&255):objectWriteUInt32(this,o,$,!1),$+4};function checkIEEE754(a,o,$,j,_e,et){if($+j>a.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function writeFloat(a,o,$,j,_e){return _e||checkIEEE754(a,o,$,4),write(a,o,$,j,23,4),$+4}Buffer.prototype.writeFloatLE=function(o,$,j){return writeFloat(this,o,$,!0,j)};Buffer.prototype.writeFloatBE=function(o,$,j){return writeFloat(this,o,$,!1,j)};function writeDouble(a,o,$,j,_e){return _e||checkIEEE754(a,o,$,8),write(a,o,$,j,52,8),$+8}Buffer.prototype.writeDoubleLE=function(o,$,j){return writeDouble(this,o,$,!0,j)};Buffer.prototype.writeDoubleBE=function(o,$,j){return writeDouble(this,o,$,!1,j)};Buffer.prototype.copy=function(o,$,j,_e){if(j||(j=0),!_e&&_e!==0&&(_e=this.length),$>=o.length&&($=o.length),$||($=0),_e>0&&_e<j&&(_e=j),_e===j||o.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),o.length-$<_e-j&&(_e=o.length-$+j);var et=_e-j,tt;if(this===o&&j<$&&$<_e)for(tt=et-1;tt>=0;--tt)o[tt+$]=this[tt+j];else if(et<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(tt=0;tt<et;++tt)o[tt+$]=this[tt+j];else Uint8Array.prototype.set.call(o,this.subarray(j,j+et),$);return et};Buffer.prototype.fill=function(o,$,j,_e){if(typeof o=="string"){if(typeof $=="string"?(_e=$,$=0,j=this.length):typeof j=="string"&&(_e=j,j=this.length),o.length===1){var et=o.charCodeAt(0);et<256&&(o=et)}if(_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!Buffer.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e)}else typeof o=="number"&&(o=o&255);if($<0||this.length<$||this.length<j)throw new RangeError("Out of range index");if(j<=$)return this;$=$>>>0,j=j===void 0?this.length:j>>>0,o||(o=0);var tt;if(typeof o=="number")for(tt=$;tt<j;++tt)this[tt]=o;else{var rt=internalIsBuffer(o)?o:utf8ToBytes(new Buffer(o,_e).toString()),ot=rt.length;for(tt=0;tt<j-$;++tt)this[tt+$]=rt[tt%ot]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(a){if(a=stringtrim(a).replace(INVALID_BASE64_RE,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function stringtrim(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function toHex(a){return a<16?"0"+a.toString(16):a.toString(16)}function utf8ToBytes(a,o){o=o||1/0;for(var $,j=a.length,_e=null,et=[],tt=0;tt<j;++tt){if($=a.charCodeAt(tt),$>55295&&$<57344){if(!_e){if($>56319){(o-=3)>-1&&et.push(239,191,189);continue}else if(tt+1===j){(o-=3)>-1&&et.push(239,191,189);continue}_e=$;continue}if($<56320){(o-=3)>-1&&et.push(239,191,189),_e=$;continue}$=(_e-55296<<10|$-56320)+65536}else _e&&(o-=3)>-1&&et.push(239,191,189);if(_e=null,$<128){if((o-=1)<0)break;et.push($)}else if($<2048){if((o-=2)<0)break;et.push($>>6|192,$&63|128)}else if($<65536){if((o-=3)<0)break;et.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((o-=4)<0)break;et.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return et}function asciiToBytes(a){for(var o=[],$=0;$<a.length;++$)o.push(a.charCodeAt($)&255);return o}function utf16leToBytes(a,o){for(var $,j,_e,et=[],tt=0;tt<a.length&&!((o-=2)<0);++tt)$=a.charCodeAt(tt),j=$>>8,_e=$%256,et.push(_e),et.push(j);return et}function base64ToBytes(a){return toByteArray$1(base64clean(a))}function blitBuffer(a,o,$,j){for(var _e=0;_e<j&&!(_e+$>=o.length||_e>=a.length);++_e)o[_e+$]=a[_e];return _e}function isnan(a){return a!==a}function isBuffer(a){return a!=null&&(!!a._isBuffer||isFastBuffer(a)||isSlowBuffer(a))}function isFastBuffer(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function isSlowBuffer(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&isFastBuffer(a.slice(0,0))}var AbstractTokenizer$1={},lib$2={},EndOfFileStream={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EndOfStreamError=a.defaultMessages=void 0,a.defaultMessages="End-Of-Stream";class o extends Error{constructor(){super(a.defaultMessages)}}a.EndOfStreamError=o})(EndOfFileStream);var StreamReader$1={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0});Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((o,$)=>{this.reject=$,this.resolve=o})}}Deferred$1.Deferred=Deferred;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;const o=EndOfFileStream,$=Deferred$1;var j=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return j.EndOfStreamError}});const _e=1*1024*1024;class et{constructor(rt){if(this.s=rt,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!rt.read||!rt.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new o.EndOfStreamError)),this.s.once("error",ot=>this.reject(ot)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(rt,ot,st){const at=await this.read(rt,ot,st);return this.peekQueue.push(rt.subarray(ot,ot+at)),at}async read(rt,ot,st){if(st===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new o.EndOfStreamError;let at=st,ut=0;for(;this.peekQueue.length>0&&at>0;){const ct=this.peekQueue.pop();if(!ct)throw new Error("peekData should be defined");const vt=Math.min(ct.length,at);rt.set(ct.subarray(0,vt),ot+ut),ut+=vt,at-=vt,vt<ct.length&&this.peekQueue.push(ct.subarray(vt))}for(;at>0&&!this.endOfStream;){const ct=Math.min(at,_e),vt=await this.readFromStream(rt,ot+ut,ct);if(ut+=vt,vt<ct)break;at-=vt}return ut}async readFromStream(rt,ot,st){const at=this.s.read(st);if(at)return rt.set(at,ot),at.length;{const ut={buffer:rt,offset:ot,length:st,deferred:new $.Deferred};return this.deferred=ut.deferred,this.s.once("readable",()=>{this.readDeferred(ut)}),ut.deferred.promise}}readDeferred(rt){const ot=this.s.read(rt.length);ot?(rt.buffer.set(ot,rt.offset),rt.deferred.resolve(ot.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(rt)})}reject(rt){this.endOfStream=!0,this.deferred&&(this.deferred.reject(rt),this.deferred=null)}}a.StreamReader=et})(StreamReader$1);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;var o=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}});var $=StreamReader$1;Object.defineProperty(a,"StreamReader",{enumerable:!0,get:function(){return $.StreamReader}})})(lib$2);Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0});AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib$2;class AbstractTokenizer{constructor(o){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=o||{}}async readToken(o,$=this.position){const j=Buffer.alloc(o.len);if(await this.readBuffer(j,{position:$})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(j,0)}async peekToken(o,$=this.position){const j=Buffer.alloc(o.len);if(await this.peekBuffer(j,{position:$})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(j,0)}async readNumber(o){if(await this.readBuffer(this.numBuffer,{length:o.len})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(this.numBuffer,0)}async peekNumber(o){if(await this.peekBuffer(this.numBuffer,{length:o.len})<o.len)throw new peek_readable_1$2.EndOfStreamError;return o.get(this.numBuffer,0)}async ignore(o){if(this.fileInfo.size!==void 0){const $=this.fileInfo.size-this.position;if(o>$)return this.position+=$,$}return this.position+=o,o}async close(){}normalizeOptions(o,$){if($&&$.position!==void 0&&$.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return $?{mayBeLess:$.mayBeLess===!0,offset:$.offset?$.offset:0,length:$.length?$.length:o.length-($.offset?$.offset:0),position:$.position?$.position:this.position}:{mayBeLess:!1,offset:0,length:o.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer;Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0});ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib$2,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(o,$){super($),this.streamReader=new peek_readable_1$1.StreamReader(o)}async getFileInfo(){return this.fileInfo}async readBuffer(o,$){const j=this.normalizeOptions(o,$),_e=j.position-this.position;if(_e>0)return await this.ignore(_e),this.readBuffer(o,$);if(_e<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(j.length===0)return 0;const et=await this.streamReader.read(o,j.offset,j.length);if(this.position+=et,(!$||!$.mayBeLess)&&et<j.length)throw new peek_readable_1$1.EndOfStreamError;return et}async peekBuffer(o,$){const j=this.normalizeOptions(o,$);let _e=0;if(j.position){const et=j.position-this.position;if(et>0){const tt=new Uint8Array(j.length+et);return _e=await this.peekBuffer(tt,{mayBeLess:j.mayBeLess}),o.set(tt.subarray(et),j.offset),_e-et}else if(et<0)throw new Error("Cannot peek from a negative offset in a stream")}if(j.length>0){try{_e=await this.streamReader.peek(o,j.offset,j.length)}catch(et){if($&&$.mayBeLess&&et instanceof peek_readable_1$1.EndOfStreamError)return 0;throw et}if(!j.mayBeLess&&_e<j.length)throw new peek_readable_1$1.EndOfStreamError}return _e}async ignore(o){const $=Math.min(maxBufferSize,o),j=new Uint8Array($);let _e=0;for(;_e<o;){const et=o-_e,tt=await this.readBuffer(j,{length:Math.min($,et)});if(tt<0)return tt;_e+=tt}return _e}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0});BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib$2,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(o,$){super($),this.uint8Array=o,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:o.length}async readBuffer(o,$){if($&&$.position){if($.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=$.position}const j=await this.peekBuffer(o,$);return this.position+=j,j}async peekBuffer(o,$){const j=this.normalizeOptions(o,$),_e=Math.min(this.uint8Array.length-j.position,j.length);if(!j.mayBeLess&&_e<j.length)throw new peek_readable_1.EndOfStreamError;return o.set(this.uint8Array.subarray(j.position,j.position+_e),j.offset),_e}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fromBuffer=a.fromStream=a.EndOfStreamError=void 0;const o=ReadStreamTokenizer$1,$=BufferTokenizer$1;var j=lib$2;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return j.EndOfStreamError}});function _e(tt,rt){return rt=rt||{},new o.ReadStreamTokenizer(tt,rt)}a.fromStream=_e;function et(tt,rt){return new $.BufferTokenizer(tt,rt)}a.fromBuffer=et})(core$1);var ParserFactory$1={},lib$1={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,o,$,j,_e){var et,tt,rt=_e*8-j-1,ot=(1<<rt)-1,st=ot>>1,at=-7,ut=$?_e-1:0,ct=$?-1:1,vt=a[o+ut];for(ut+=ct,et=vt&(1<<-at)-1,vt>>=-at,at+=rt;at>0;et=et*256+a[o+ut],ut+=ct,at-=8);for(tt=et&(1<<-at)-1,et>>=-at,at+=j;at>0;tt=tt*256+a[o+ut],ut+=ct,at-=8);if(et===0)et=1-st;else{if(et===ot)return tt?NaN:(vt?-1:1)*(1/0);tt=tt+Math.pow(2,j),et=et-st}return(vt?-1:1)*tt*Math.pow(2,et-j)};ieee754.write=function(a,o,$,j,_e,et){var tt,rt,ot,st=et*8-_e-1,at=(1<<st)-1,ut=at>>1,ct=_e===23?Math.pow(2,-24)-Math.pow(2,-77):0,vt=j?0:et-1,ht=j?1:-1,yt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(rt=isNaN(o)?1:0,tt=at):(tt=Math.floor(Math.log(o)/Math.LN2),o*(ot=Math.pow(2,-tt))<1&&(tt--,ot*=2),tt+ut>=1?o+=ct/ot:o+=ct*Math.pow(2,1-ut),o*ot>=2&&(tt++,ot/=2),tt+ut>=at?(rt=0,tt=at):tt+ut>=1?(rt=(o*ot-1)*Math.pow(2,_e),tt=tt+ut):(rt=o*Math.pow(2,ut-1)*Math.pow(2,_e),tt=0));_e>=8;a[$+vt]=rt&255,vt+=ht,rt/=256,_e-=8);for(tt=tt<<_e|rt,st+=_e;st>0;a[$+vt]=tt&255,vt+=ht,tt/=256,st-=8);a[$+vt-ht]|=yt*128};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.AnsiStringType=a.StringType=a.BufferType=a.Uint8ArrayType=a.IgnoreType=a.Float80_LE=a.Float80_BE=a.Float64_LE=a.Float64_BE=a.Float32_LE=a.Float32_BE=a.Float16_LE=a.Float16_BE=a.INT64_BE=a.UINT64_BE=a.INT64_LE=a.UINT64_LE=a.INT32_LE=a.INT32_BE=a.INT24_BE=a.INT24_LE=a.INT16_LE=a.INT16_BE=a.INT8=a.UINT32_BE=a.UINT32_LE=a.UINT24_BE=a.UINT24_LE=a.UINT16_BE=a.UINT16_LE=a.UINT8=void 0;const o=ieee754;function $(ot){return new DataView(ot.buffer,ot.byteOffset)}a.UINT8={len:1,get(ot,st){return $(ot).getUint8(st)},put(ot,st,at){return $(ot).setUint8(st,at),st+1}},a.UINT16_LE={len:2,get(ot,st){return $(ot).getUint16(st,!0)},put(ot,st,at){return $(ot).setUint16(st,at,!0),st+2}},a.UINT16_BE={len:2,get(ot,st){return $(ot).getUint16(st)},put(ot,st,at){return $(ot).setUint16(st,at),st+2}},a.UINT24_LE={len:3,get(ot,st){const at=$(ot);return at.getUint8(st)+(at.getUint16(st+1,!0)<<8)},put(ot,st,at){const ut=$(ot);return ut.setUint8(st,at&255),ut.setUint16(st+1,at>>8,!0),st+3}},a.UINT24_BE={len:3,get(ot,st){const at=$(ot);return(at.getUint16(st)<<8)+at.getUint8(st+2)},put(ot,st,at){const ut=$(ot);return ut.setUint16(st,at>>8),ut.setUint8(st+2,at&255),st+3}},a.UINT32_LE={len:4,get(ot,st){return $(ot).getUint32(st,!0)},put(ot,st,at){return $(ot).setUint32(st,at,!0),st+4}},a.UINT32_BE={len:4,get(ot,st){return $(ot).getUint32(st)},put(ot,st,at){return $(ot).setUint32(st,at),st+4}},a.INT8={len:1,get(ot,st){return $(ot).getInt8(st)},put(ot,st,at){return $(ot).setInt8(st,at),st+1}},a.INT16_BE={len:2,get(ot,st){return $(ot).getInt16(st)},put(ot,st,at){return $(ot).setInt16(st,at),st+2}},a.INT16_LE={len:2,get(ot,st){return $(ot).getInt16(st,!0)},put(ot,st,at){return $(ot).setInt16(st,at,!0),st+2}},a.INT24_LE={len:3,get(ot,st){const at=a.UINT24_LE.get(ot,st);return at>8388607?at-16777216:at},put(ot,st,at){const ut=$(ot);return ut.setUint8(st,at&255),ut.setUint16(st+1,at>>8,!0),st+3}},a.INT24_BE={len:3,get(ot,st){const at=a.UINT24_BE.get(ot,st);return at>8388607?at-16777216:at},put(ot,st,at){const ut=$(ot);return ut.setUint16(st,at>>8),ut.setUint8(st+2,at&255),st+3}},a.INT32_BE={len:4,get(ot,st){return $(ot).getInt32(st)},put(ot,st,at){return $(ot).setInt32(st,at),st+4}},a.INT32_LE={len:4,get(ot,st){return $(ot).getInt32(st,!0)},put(ot,st,at){return $(ot).setInt32(st,at,!0),st+4}},a.UINT64_LE={len:8,get(ot,st){return $(ot).getBigUint64(st,!0)},put(ot,st,at){return $(ot).setBigUint64(st,at,!0),st+8}},a.INT64_LE={len:8,get(ot,st){return $(ot).getBigInt64(st,!0)},put(ot,st,at){return $(ot).setBigInt64(st,at,!0),st+8}},a.UINT64_BE={len:8,get(ot,st){return $(ot).getBigUint64(st)},put(ot,st,at){return $(ot).setBigUint64(st,at),st+8}},a.INT64_BE={len:8,get(ot,st){return $(ot).getBigInt64(st)},put(ot,st,at){return $(ot).setBigInt64(st,at),st+8}},a.Float16_BE={len:2,get(ot,st){return o.read(ot,st,!1,10,this.len)},put(ot,st,at){return o.write(ot,at,st,!1,10,this.len),st+this.len}},a.Float16_LE={len:2,get(ot,st){return o.read(ot,st,!0,10,this.len)},put(ot,st,at){return o.write(ot,at,st,!0,10,this.len),st+this.len}},a.Float32_BE={len:4,get(ot,st){return $(ot).getFloat32(st)},put(ot,st,at){return $(ot).setFloat32(st,at),st+4}},a.Float32_LE={len:4,get(ot,st){return $(ot).getFloat32(st,!0)},put(ot,st,at){return $(ot).setFloat32(st,at,!0),st+4}},a.Float64_BE={len:8,get(ot,st){return $(ot).getFloat64(st)},put(ot,st,at){return $(ot).setFloat64(st,at),st+8}},a.Float64_LE={len:8,get(ot,st){return $(ot).getFloat64(st,!0)},put(ot,st,at){return $(ot).setFloat64(st,at,!0),st+8}},a.Float80_BE={len:10,get(ot,st){return o.read(ot,st,!1,63,this.len)},put(ot,st,at){return o.write(ot,at,st,!1,63,this.len),st+this.len}},a.Float80_LE={len:10,get(ot,st){return o.read(ot,st,!0,63,this.len)},put(ot,st,at){return o.write(ot,at,st,!0,63,this.len),st+this.len}};class j{constructor(st){this.len=st}get(st,at){}}a.IgnoreType=j;class _e{constructor(st){this.len=st}get(st,at){return st.subarray(at,at+this.len)}}a.Uint8ArrayType=_e;class et{constructor(st){this.len=st}get(st,at){return Buffer.from(st.subarray(at,at+this.len))}}a.BufferType=et;class tt{constructor(st,at){this.len=st,this.encoding=at}get(st,at){return Buffer.from(st).toString(this.encoding,at,at+this.len)}}a.StringType=tt;class rt{constructor(st){this.len=st}static decode(st,at,ut){let ct="";for(let vt=at;vt<ut;++vt)ct+=rt.codePointToString(rt.singleByteDecoder(st[vt]));return ct}static inRange(st,at,ut){return at<=st&&st<=ut}static codePointToString(st){return st<=65535?String.fromCharCode(st):(st-=65536,String.fromCharCode((st>>10)+55296,(st&1023)+56320))}static singleByteDecoder(st){if(rt.inRange(st,0,127))return st;const at=rt.windows1252[st-128];if(at===null)throw Error("invaliding encoding");return at}get(st,at=0){return rt.decode(st,at,at+this.len)}}a.AnsiStringType=rt,rt.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var util$b={};util$b.stringToBytes=a=>[...a].map(o=>o.charCodeAt(0));util$b.tarHeaderChecksumMatches=(a,o=0)=>{const $=parseInt(a.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN($))return!1;let j=8*32;for(let _e=o;_e<o+148;_e++)j+=a[_e];for(let _e=o+156;_e<o+512;_e++)j+=a[_e];return $===j};util$b.uint32SyncSafeToken={get:(a,o)=>a[o+3]&127|a[o+2]<<7|a[o+1]<<14|a[o]<<21,len:4};var supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token$s=lib$1,strtok3$5=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util$b,supported=supported$1,minimumBytes=4100;async function fromStream(a){const o=await strtok3$5.fromStream(a);try{return await fromTokenizer(o)}finally{await o.close()}}async function fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||Buffer.isBuffer(a)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof a}\``);const o=a instanceof Buffer?a:Buffer.from(a);if(!(o&&o.length>1))return;const $=strtok3$5.fromBuffer(o);return fromTokenizer($)}function _check(a,o,$){$={offset:0,...$};for(const[j,_e]of o.entries())if($.mask){if(_e!==($.mask[j]&a[j+$.offset]))return!1}else if(_e!==a[j+$.offset])return!1;return!0}async function fromTokenizer(a){try{return _fromTokenizer(a)}catch(o){if(!(o instanceof strtok3$5.EndOfStreamError))throw o}}async function _fromTokenizer(a){let o=Buffer.alloc(minimumBytes);const $=12,j=(et,tt)=>_check(o,et,tt),_e=(et,tt)=>j(stringToBytes(et),tt);if(a.fileInfo.size||(a.fileInfo.size=Number.MAX_SAFE_INTEGER),await a.peekBuffer(o,{length:$,mayBeLess:!0}),j([66,77]))return{ext:"bmp",mime:"image/bmp"};if(j([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(j([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(j([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(j([37,33]))return await a.peekBuffer(o,{length:24,mayBeLess:!0}),_e("PS-Adobe-",{offset:2})&&_e(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(j([31,160])||j([31,157]))return{ext:"Z",mime:"application/x-compress"};if(j([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(j([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(j([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(j([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(_e("ID3")){await a.ignore(6);const et=await a.readToken(uint32SyncSafeToken);return a.position+et>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(et),fromTokenizer(a))}if(_e("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((o[0]===67||o[0]===70)&&j([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(j([71,73,70]))return{ext:"gif",mime:"image/gif"};if(_e("FLIF"))return{ext:"flif",mime:"image/flif"};if(_e("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(_e("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(_e("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(_e("FORM"))return{ext:"aif",mime:"audio/aiff"};if(_e("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(j([80,75,3,4])){try{for(;a.position+30<a.fileInfo.size;){await a.readBuffer(o,{length:30});const et={compressedSize:o.readUInt32LE(18),uncompressedSize:o.readUInt32LE(22),filenameLength:o.readUInt16LE(26),extraFieldLength:o.readUInt16LE(28)};if(et.filename=await a.readToken(new Token$s.StringType(et.filenameLength,"utf-8")),await a.ignore(et.extraFieldLength),et.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(et.filename.endsWith(".rels")||et.filename.endsWith(".xml"))switch(et.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(et.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(et.filename.startsWith("3D/")&&et.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(et.filename==="mimetype"&&et.compressedSize===et.uncompressedSize)switch(await a.readToken(new Token$s.StringType(et.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(et.compressedSize===0){let tt=-1;for(;tt<0&&a.position<a.fileInfo.size;)await a.peekBuffer(o,{mayBeLess:!0}),tt=o.indexOf("504B0304",0,"hex"),await a.ignore(tt>=0?tt:o.length)}else await a.ignore(et.compressedSize)}}catch(et){if(!(et instanceof strtok3$5.EndOfStreamError))throw et}return{ext:"zip",mime:"application/zip"}}if(_e("OggS")){await a.ignore(28);const et=Buffer.alloc(8);return await a.readBuffer(et),_check(et,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(et,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(et,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(et,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(et,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(et,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(j([80,75])&&(o[2]===3||o[2]===5||o[2]===7)&&(o[3]===4||o[3]===6||o[3]===8))return{ext:"zip",mime:"application/zip"};if(_e("ftyp",{offset:4})&&o[8]&96){const et=o.toString("binary",8,12).replace("\0"," ").trim();switch(et){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return et.startsWith("3g")?et.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(_e("MThd"))return{ext:"mid",mime:"audio/midi"};if(_e("wOFF")&&(j([0,1,0,0],{offset:4})||_e("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(_e("wOF2")&&(j([0,1,0,0],{offset:4})||_e("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(j([212,195,178,161])||j([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(_e("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(_e("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(_e("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(j([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(_e("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(_e("%PDF")){await a.ignore(1350);const et=10*1024*1024,tt=Buffer.alloc(Math.min(et,a.fileInfo.size));return await a.readBuffer(tt,{mayBeLess:!0}),tt.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(j([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(j([73,73,42,0]))return _e("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:j([28,0,254,0],{offset:8})||j([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:j([8,0,0,0],{offset:4})&&(j([45,0,254,0],{offset:8})||j([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(o=Buffer.alloc(24),await a.peekBuffer(o),(j([16,251,134,1],{offset:4})||j([8,0,0,0],{offset:4}))&&j([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(j([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(_e("MAC "))return{ext:"ape",mime:"audio/ape"};if(j([26,69,223,163])){async function et(){const at=await a.peekNumber(Token$s.UINT8);let ut=128,ct=0;for(;!(at&ut)&&ut!==0;)++ct,ut>>=1;const vt=Buffer.alloc(ct+1);return await a.readBuffer(vt),vt}async function tt(){const at=await et(),ut=await et();ut[0]^=128>>ut.length-1;const ct=Math.min(6,ut.length);return{id:at.readUIntBE(0,at.length),len:ut.readUIntBE(ut.length-ct,ct)}}async function rt(at,ut){for(;ut>0;){const ct=await tt();if(ct.id===17026)return a.readToken(new Token$s.StringType(ct.len,"utf-8"));await a.ignore(ct.len),--ut}}const ot=await tt();switch(await rt(1,ot.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(j([82,73,70,70])){if(j([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(j([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(j([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(_e("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(j([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(_e("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(_e("MSCF")||_e("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(j([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(j([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(j([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(j([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(_e("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(_e("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(j([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(_e("IMPM"))return{ext:"it",mime:"audio/x-it"};if(_e("-lh0-",{offset:2})||_e("-lh1-",{offset:2})||_e("-lh2-",{offset:2})||_e("-lh3-",{offset:2})||_e("-lh4-",{offset:2})||_e("-lh5-",{offset:2})||_e("-lh6-",{offset:2})||_e("-lh7-",{offset:2})||_e("-lzs-",{offset:2})||_e("-lz4-",{offset:2})||_e("-lz5-",{offset:2})||_e("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(j([0,0,1,186])){if(j([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(j([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(_e("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(j([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(_e("<?xml "))return{ext:"xml",mime:"application/xml"};if(j([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(j([82,97,114,33,26,7])&&(o[6]===0||o[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(_e("solid "))return{ext:"stl",mime:"model/stl"};if(_e("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(_e("!<arch>"))return await a.ignore(8),await a.readToken(new Token$s.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(j([137,80,78,71,13,10,26,10])){await a.ignore(8);async function et(){return{length:await a.readToken(Token$s.INT32_BE),type:await a.readToken(new Token$s.StringType(4,"binary"))}}do{const tt=await et();if(tt.length<0)return;switch(tt.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(tt.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if(j([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(j([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(j([102,114,101,101],{offset:4})||j([109,100,97,116],{offset:4})||j([109,111,111,118],{offset:4})||j([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(j([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(_e("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(j([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(j([48,38,178,117,142,102,207,17,166,217])){async function et(){const tt=Buffer.alloc(16);return await a.readBuffer(tt),{id:tt,size:Number(await a.readToken(Token$s.UINT64_LE))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){const tt=await et();let rt=tt.size-24;if(_check(tt.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const ot=Buffer.alloc(16);if(rt-=await a.readBuffer(ot),_check(ot,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(ot,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(rt)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(j([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((j([126,16,4])||j([126,24,4]))&&j([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(j([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(j([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new Token$s.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(j([255,10])||j([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(j([0,0,1,186])||j([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(j([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(j([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(j([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(j([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(o,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),_e("BEGIN:")){if(_e("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(_e("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(_e("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(_e("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(_e("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(j([4,0,0,0])&&o.length>=16){const et=o.readUInt32LE(12);if(et>12&&o.length>=et+16)try{const tt=o.slice(16,et+16).toString();if(JSON.parse(tt).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(j([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(_e("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(j([71],{offset:4})&&(j([71],{offset:192})||j([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(j([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(j([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(j([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(j([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(j([76,80],{offset:34})&&(j([0,0,1],{offset:8})||j([1,0,2],{offset:8})||j([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(j([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(o,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(o))return{ext:"tar",mime:"application/x-tar"};if(j([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(_e("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(o.length>=2&&j([255,224],{offset:0,mask:[255,224]})){if(j([16],{offset:1,mask:[22]}))return j([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(j([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(j([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(j([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const a=new stream.PassThrough;let o;stream.pipeline?o=stream.pipeline(readableStream,a,()=>{}):o=readableStream.pipe(a);const $=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const j=await fromBuffer($);a.fileType=j}catch(j){reject(j)}resolve(o)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}});var core=fileType,contentType={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g,QUOTE_REGEXP=/([\\"])/g,TYPE_REGEXP$1=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=format$1;contentType.parse=parse$2;function format$1(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var o=a.parameters,$=a.type;if(!$||!TYPE_REGEXP$1.test($))throw new TypeError("invalid type");var j=$;if(o&&typeof o=="object")for(var _e,et=Object.keys(o).sort(),tt=0;tt<et.length;tt++){if(_e=et[tt],!TOKEN_REGEXP.test(_e))throw new TypeError("invalid parameter name");j+="; "+_e+"="+qstring(o[_e])}return j}function parse$2(a){if(!a)throw new TypeError("argument string is required");var o=typeof a=="object"?getcontenttype(a):a;if(typeof o!="string")throw new TypeError("argument string is required to be a string");var $=o.indexOf(";"),j=$!==-1?o.slice(0,$).trim():o.trim();if(!TYPE_REGEXP$1.test(j))throw new TypeError("invalid media type");var _e=new ContentType$1(j.toLowerCase());if($!==-1){var et,tt,rt;for(PARAM_REGEXP.lastIndex=$;tt=PARAM_REGEXP.exec(o);){if(tt.index!==$)throw new TypeError("invalid parameter format");$+=tt[0].length,et=tt[1].toLowerCase(),rt=tt[2],rt.charCodeAt(0)===34&&(rt=rt.slice(1,-1),rt.indexOf("\\")!==-1&&(rt=rt.replace(QESC_REGEXP,"$1"))),_e.parameters[et]=rt}if($!==o.length)throw new TypeError("invalid parameter format")}return _e}function getcontenttype(a){var o;if(typeof a.getHeader=="function"?o=a.getHeader("content-type"):typeof a.headers=="object"&&(o=a.headers&&a.headers["content-type"]),typeof o!="string")throw new TypeError("content-type header is missing from object");return o}function qstring(a){var o=String(a);if(TOKEN_REGEXP.test(o))return o;if(o.length>0&&!TEXT_REGEXP.test(o))throw new TypeError("invalid parameter value");return'"'+o.replace(QUOTE_REGEXP,"\\$1")+'"'}function ContentType$1(a){this.parameters=Object.create(null),this.type=a}var mediaTyper={};/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var SUBTYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,TYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,TYPE_REGEXP=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=format;mediaTyper.parse=parse$1;mediaTyper.test=test;function format(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var o=a.subtype,$=a.suffix,j=a.type;if(!j||!TYPE_NAME_REGEXP.test(j))throw new TypeError("invalid type");if(!o||!SUBTYPE_NAME_REGEXP.test(o))throw new TypeError("invalid subtype");var _e=j+"/"+o;if($){if(!TYPE_NAME_REGEXP.test($))throw new TypeError("invalid suffix");_e+="+"+$}return _e}function test(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");return TYPE_REGEXP.test(a.toLowerCase())}function parse$1(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");var o=TYPE_REGEXP.exec(a.toLowerCase());if(!o)throw new TypeError("invalid media type");var $=o[1],j=o[2],_e,et=j.lastIndexOf("+");return et!==-1&&(_e=j.substr(et+1),j=j.substr(0,et)),new MediaType($,j,_e)}function MediaType(a,o,$){this.type=a,this.subtype=o,this.suffix=$}var MetadataCollector$1={},type={},types={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=a.TargetType=a.DataType=void 0,function(o){o[o.string=0]="string",o[o.uint=1]="uint",o[o.uid=2]="uid",o[o.bool=3]="bool",o[o.binary=4]="binary",o[o.float=5]="float"}(a.DataType||(a.DataType={})),function(o){o[o.shot=10]="shot",o[o.scene=20]="scene",o[o.track=30]="track",o[o.part=40]="part",o[o.album=50]="album",o[o.edition=60]="edition",o[o.collection=70]="collection"}(a.TargetType||(a.TargetType={})),function(o){o[o.video=1]="video",o[o.audio=2]="audio",o[o.complex=3]="complex",o[o.logo=4]="logo",o[o.subtitle=17]="subtitle",o[o.button=18]="button",o[o.control=32]="control"}(a.TrackType||(a.TrackType={}))})(types);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=void 0;var o=types;Object.defineProperty(a,"TrackType",{enumerable:!0,get:function(){return o.TrackType}})})(type);var GenericTagTypes={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isUnique=a.isSingleton=a.commonTags=void 0,a.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};function o(j){return a.commonTags.hasOwnProperty(j)&&!a.commonTags[j].multiple}a.isSingleton=o;function $(j){return!a.commonTags[j].multiple||a.commonTags[j].unique}a.isUnique=$})(GenericTagTypes);var CombinedTagMapper$1={},ID3v1TagMap={},GenericTagMapper={};Object.defineProperty(GenericTagMapper,"__esModule",{value:!0});GenericTagMapper.CommonTagMapper=void 0;class CommonTagMapper{static toIntOrNull(o){const $=parseInt(o,10);return isNaN($)?null:$}static normalizeTrack(o){const $=o.toString().split("/");return{no:parseInt($[0],10)||null,of:parseInt($[1],10)||null}}constructor(o,$){this.tagTypes=o,this.tagMap=$}mapGenericTag(o,$){o={id:o.id,value:o.value},this.postMap(o,$);const j=this.getCommonName(o.id);return j?{id:j,value:o.value}:null}getCommonName(o){return this.tagMap[o]}postMap(o,$){}}CommonTagMapper.maxRatingScore=1;GenericTagMapper.CommonTagMapper=CommonTagMapper;Object.defineProperty(ID3v1TagMap,"__esModule",{value:!0});ID3v1TagMap.ID3v1TagMapper=void 0;const GenericTagMapper_1$6=GenericTagMapper,id3v1TagMap={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class ID3v1TagMapper extends GenericTagMapper_1$6.CommonTagMapper{constructor(){super(["ID3v1"],id3v1TagMap)}}ID3v1TagMap.ID3v1TagMapper=ID3v1TagMapper;var ID3v24TagMapper$1={},CaseInsensitiveTagMap$1={};Object.defineProperty(CaseInsensitiveTagMap$1,"__esModule",{value:!0});CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=void 0;const GenericTagMapper_1$5=GenericTagMapper;class CaseInsensitiveTagMap extends GenericTagMapper_1$5.CommonTagMapper{constructor(o,$){const j={};for(const _e of Object.keys($))j[_e.toUpperCase()]=$[_e];super(o,j)}getCommonName(o){return this.tagMap[o.toUpperCase()]}}CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=CaseInsensitiveTagMap;var Util={};Object.defineProperty(Util,"__esModule",{value:!0});Util.toRatio=Util.dbToRatio=Util.ratioToDb=Util.a2hex=Util.isBitSet=Util.getBitAllignedNumber=Util.stripNulls=Util.decodeString=Util.trimRightNull=Util.findZero=Util.getBit=void 0;function getBit(a,o,$){return(a[o]&1<<$)!==0}Util.getBit=getBit;function findZero(a,o,$,j){let _e=o;if(j==="utf16le"){for(;a[_e]!==0||a[_e+1]!==0;){if(_e>=$)return $;_e+=2}return _e}else{for(;a[_e]!==0;){if(_e>=$)return $;_e++}return _e}}Util.findZero=findZero;function trimRightNull(a){const o=a.indexOf("\0");return o===-1?a:a.substr(0,o)}Util.trimRightNull=trimRightNull;function swapBytes(a){const o=a.length;if(o&1)throw new Error("Buffer length must be even");for(let $=0;$<o;$+=2){const j=a[$];a[$]=a[$+1],a[$+1]=j}return a}function decodeString(a,o){if(a[0]===255&&a[1]===254)return decodeString(a.subarray(2),o);if(o==="utf16le"&&a[0]===254&&a[1]===255){if(a.length&1)throw new Error("Expected even number of octets for 16-bit unicode string");return decodeString(swapBytes(a),o)}return Buffer.from(a).toString(o)}Util.decodeString=decodeString;function stripNulls(a){return a=a.replace(/^\x00+/g,""),a=a.replace(/\x00+$/g,""),a}Util.stripNulls=stripNulls;function getBitAllignedNumber(a,o,$,j){const _e=o+~~($/8),et=$%8;let tt=a[_e];tt&=255>>et;const rt=8-et,ot=j-rt;return ot<0?tt>>=8-et-j:ot>0&&(tt<<=ot,tt|=getBitAllignedNumber(a,o,$+rt,ot)),tt}Util.getBitAllignedNumber=getBitAllignedNumber;function isBitSet(a,o,$){return getBitAllignedNumber(a,o,$,1)===1}Util.isBitSet=isBitSet;function a2hex(a){const o=[];for(let $=0,j=a.length;$<j;$++){const _e=Number(a.charCodeAt($)).toString(16);o.push(_e.length===1?"0"+_e:_e)}return o.join(" ")}Util.a2hex=a2hex;function ratioToDb(a){return 10*Math.log10(a)}Util.ratioToDb=ratioToDb;function dbToRatio(a){return Math.pow(10,a/10)}Util.dbToRatio=dbToRatio;function toRatio(a){const o=a.split(" ").map($=>$.trim().toLowerCase());if(o.length>=1){const $=parseFloat(o[0]);return o.length===2&&o[1]==="db"?{dB:$,ratio:dbToRatio($)}:{dB:ratioToDb($),ratio:$}}}Util.toRatio=toRatio;Object.defineProperty(ID3v24TagMapper$1,"__esModule",{value:!0});ID3v24TagMapper$1.ID3v24TagMapper=void 0;const GenericTagMapper_1$4=GenericTagMapper,CaseInsensitiveTagMap_1$2=CaseInsensitiveTagMap$1,util$a=Util,id3v24TagMap={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};class ID3v24TagMapper extends CaseInsensitiveTagMap_1$2.CaseInsensitiveTagMap{static toRating(o){return{source:o.email,rating:o.rating>0?(o.rating-1)/254*GenericTagMapper_1$4.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],id3v24TagMap)}postMap(o,$){switch(o.id){case"UFID":o.value.owner_identifier==="http://musicbrainz.org"&&(o.id+=":"+o.value.owner_identifier,o.value=util$a.decodeString(o.value.identifier,"latin1"));break;case"PRIV":switch(o.value.owner_identifier){case"AverageLevel":case"PeakValue":o.id+=":"+o.value.owner_identifier,o.value=o.value.data.length===4?o.value.data.readUInt32LE(0):null,o.value===null&&$.addWarning("Failed to parse PRIV:PeakValue");break;default:$.addWarning(`Unknown PRIV owner-identifier: ${o.value.owner_identifier}`)}break;case"COMM":o.value=o.value?o.value.text:null;break;case"POPM":o.value=ID3v24TagMapper.toRating(o.value);break}}}ID3v24TagMapper$1.ID3v24TagMapper=ID3v24TagMapper;var AsfTagMapper$1={};Object.defineProperty(AsfTagMapper$1,"__esModule",{value:!0});AsfTagMapper$1.AsfTagMapper=void 0;const GenericTagMapper_1$3=GenericTagMapper,asfTagMap={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class AsfTagMapper extends GenericTagMapper_1$3.CommonTagMapper{static toRating(o){return{rating:parseFloat(o+1)/5}}constructor(){super(["asf"],asfTagMap)}postMap(o){switch(o.id){case"WM/SharedUserRating":const $=o.id.split(":");o.value=AsfTagMapper.toRating(o.value),o.id=$[0];break}}}AsfTagMapper$1.AsfTagMapper=AsfTagMapper;var ID3v22TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ID3v22TagMapper=a.id3v22TagMap=void 0;const o=CaseInsensitiveTagMap$1;a.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class $ extends o.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],a.id3v22TagMap)}}a.ID3v22TagMapper=$})(ID3v22TagMapper);var APEv2TagMapper$1={};Object.defineProperty(APEv2TagMapper$1,"__esModule",{value:!0});APEv2TagMapper$1.APEv2TagMapper=void 0;const CaseInsensitiveTagMap_1$1=CaseInsensitiveTagMap$1,apev2TagMap={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class APEv2TagMapper extends CaseInsensitiveTagMap_1$1.CaseInsensitiveTagMap{constructor(){super(["APEv2"],apev2TagMap)}}APEv2TagMapper$1.APEv2TagMapper=APEv2TagMapper;var MP4TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.MP4TagMapper=a.tagType=void 0;const o=CaseInsensitiveTagMap$1,$={"©nam":"title","©ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","©alb":"album","©day":"date","©cmt":"comment","©com":"comment",trkn:"track",disk:"disk","©gen":"genre",covr:"picture","©wrt":"composer","©lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","©grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","©cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","©too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","©mvn":"movement","©mvi":"movementIndex","©mvc":"movementTotal","©wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik"};a.tagType="iTunes";class j extends o.CaseInsensitiveTagMap{constructor(){super([a.tagType],$)}}a.MP4TagMapper=j})(MP4TagMapper);var VorbisTagMapper$1={};Object.defineProperty(VorbisTagMapper$1,"__esModule",{value:!0});VorbisTagMapper$1.VorbisTagMapper=void 0;const GenericTagMapper_1$2=GenericTagMapper,vorbisTagMap={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class VorbisTagMapper extends GenericTagMapper_1$2.CommonTagMapper{static toRating(o,$){return{source:o&&o.toLowerCase(),rating:parseFloat($)*GenericTagMapper_1$2.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],vorbisTagMap)}postMap(o){if(o.id.indexOf("RATING:")===0){const $=o.id.split(":");o.value=VorbisTagMapper.toRating($[1],o.value),o.id=$[0]}}}VorbisTagMapper$1.VorbisTagMapper=VorbisTagMapper;var RiffInfoTagMap={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.RiffInfoTagMapper=a.riffInfoTagMap=void 0;const o=GenericTagMapper;a.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class $ extends o.CommonTagMapper{constructor(){super(["exif"],a.riffInfoTagMap)}}a.RiffInfoTagMapper=$})(RiffInfoTagMap);var MatroskaTagMapper$1={};Object.defineProperty(MatroskaTagMapper$1,"__esModule",{value:!0});MatroskaTagMapper$1.MatroskaTagMapper=void 0;const CaseInsensitiveTagMap_1=CaseInsensitiveTagMap$1,ebmlTagMap={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class MatroskaTagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap{constructor(){super(["matroska"],ebmlTagMap)}}MatroskaTagMapper$1.MatroskaTagMapper=MatroskaTagMapper;var AiffTagMap={};Object.defineProperty(AiffTagMap,"__esModule",{value:!0});AiffTagMap.AiffTagMapper=void 0;const GenericTagMapper_1$1=GenericTagMapper,tagMap={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class AiffTagMapper extends GenericTagMapper_1$1.CommonTagMapper{constructor(){super(["AIFF"],tagMap)}}AiffTagMap.AiffTagMapper=AiffTagMapper;Object.defineProperty(CombinedTagMapper$1,"__esModule",{value:!0});CombinedTagMapper$1.CombinedTagMapper=void 0;const ID3v1TagMap_1=ID3v1TagMap,ID3v24TagMapper_1=ID3v24TagMapper$1,AsfTagMapper_1=AsfTagMapper$1,ID3v22TagMapper_1=ID3v22TagMapper,APEv2TagMapper_1=APEv2TagMapper$1,MP4TagMapper_1=MP4TagMapper,VorbisTagMapper_1=VorbisTagMapper$1,RiffInfoTagMap_1=RiffInfoTagMap,MatroskaTagMapper_1=MatroskaTagMapper$1,AiffTagMap_1=AiffTagMap;class CombinedTagMapper{constructor(){this.tagMappers={},[new ID3v1TagMap_1.ID3v1TagMapper,new ID3v22TagMapper_1.ID3v22TagMapper,new ID3v24TagMapper_1.ID3v24TagMapper,new MP4TagMapper_1.MP4TagMapper,new MP4TagMapper_1.MP4TagMapper,new VorbisTagMapper_1.VorbisTagMapper,new APEv2TagMapper_1.APEv2TagMapper,new AsfTagMapper_1.AsfTagMapper,new RiffInfoTagMap_1.RiffInfoTagMapper,new MatroskaTagMapper_1.MatroskaTagMapper,new AiffTagMap_1.AiffTagMapper].forEach(o=>{this.registerTagMapper(o)})}mapTag(o,$,j){if(this.tagMappers[o])return this.tagMappers[o].mapGenericTag($,j);throw new Error("No generic tag mapper defined for tag-format: "+o)}registerTagMapper(o){for(const $ of o.tagTypes)this.tagMappers[$]=o}}CombinedTagMapper$1.CombinedTagMapper=CombinedTagMapper;Object.defineProperty(MetadataCollector$1,"__esModule",{value:!0});MetadataCollector$1.joinArtists=MetadataCollector$1.MetadataCollector=void 0;const type_1$2=type,debug_1$n=browserExports,GenericTagTypes_1=GenericTagTypes,CombinedTagMapper_1=CombinedTagMapper$1,GenericTagMapper_1=GenericTagMapper,Util_1$1=Util,FileType$1=core,debug$n=(0,debug_1$n.default)("music-metadata:collector"),TagPriority=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];class MetadataCollector{constructor(o){this.opts=o,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new CombinedTagMapper_1.CombinedTagMapper;let $=1;for(const j of TagPriority)this.originPriority[j]=$++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(o){debug$n(`streamInfo: type=${type_1$2.TrackType[o.type]}, codec=${o.codecName}`),this.format.trackInfo.push(o)}setFormat(o,$){debug$n(`format: ${o} = ${$}`),this.format[o]=$,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:o,value:$}})}addTag(o,$,j){debug$n(`tag ${o}.${$} = ${j}`),this.native[o]||(this.format.tagTypes.push(o),this.native[o]=[]),this.native[o].push({id:$,value:j}),this.toCommon(o,$,j)}addWarning(o){this.quality.warnings.push({message:o})}postMap(o,$){switch($.id){case"artist":if(this.commonOrigin.artist===this.originPriority[o])return this.postMap("artificial",{id:"artists",value:$.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:$.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf($.value)===-1)){const tt=(this.common.artists||[]).concat([$.value]),ot={id:"artist",value:joinArtists(tt)};this.setGenericTag("artificial",ot)}break;case"picture":this.postFixPicture($.value).then(tt=>{tt!==null&&($.value=tt,this.setGenericTag(o,$))});return;case"totaltracks":this.common.track.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull($.value);return;case"totaldiscs":this.common.disk.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull($.value);return;case"movementTotal":this.common.movementIndex.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull($.value);return;case"track":case"disk":case"movementIndex":const j=this.common[$.id].of;this.common[$.id]=GenericTagMapper_1.CommonTagMapper.normalizeTrack($.value),this.common[$.id].of=j??this.common[$.id].of;return;case"bpm":case"year":case"originalyear":$.value=parseInt($.value,10);break;case"date":const _e=parseInt($.value.substr(0,4),10);isNaN(_e)||(this.common.year=_e);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":$.value=typeof $.value=="string"?parseInt($.value,10):$.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":$.value=(0,Util_1$1.toRatio)($.value);break;case"replaygain_track_minmax":$.value=$.value.split(",").map(tt=>parseInt(tt,10));break;case"replaygain_undo":const et=$.value.split(",").map(tt=>parseInt(tt,10));$.value={leftChannel:et[0],rightChannel:et[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":$.value=$.value==="1"||$.value===1;break;case"isrc":if(this.common[$.id]&&this.common[$.id].indexOf($.value)!==-1)return;break}$.value!==null&&this.setGenericTag(o,$)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(o){if(o.data&&o.data.length>0){if(!o.format){const $=await FileType$1.fromBuffer(o.data);if($)o.format=$.mime;else return null}switch(o.format=o.format.toLocaleLowerCase(),o.format){case"image/jpg":o.format="image/jpeg"}return o}return this.addWarning("Empty picture tag found"),null}toCommon(o,$,j){const _e={id:$,value:j},et=this.tagMapper.mapTag(o,_e,this);et&&this.postMap(o,et)}setGenericTag(o,$){debug$n(`common.${$.id} = ${$.value}`);const j=this.commonOrigin[$.id]||1e3,_e=this.originPriority[o];if((0,GenericTagTypes_1.isSingleton)($.id))if(_e<=j)this.common[$.id]=$.value,this.commonOrigin[$.id]=_e;else return debug$n(`Ignore native tag (singleton): ${o}.${$.id} = ${$.value}`);else if(_e===j)!(0,GenericTagTypes_1.isUnique)($.id)||this.common[$.id].indexOf($.value)===-1?this.common[$.id].push($.value):debug$n(`Ignore duplicate value: ${o}.${$.id} = ${$.value}`);else if(_e<j)this.common[$.id]=[$.value],this.commonOrigin[$.id]=_e;else return debug$n(`Ignore native tag (list): ${o}.${$.id} = ${$.value}`);this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:$.id,value:$.value}})}}MetadataCollector$1.MetadataCollector=MetadataCollector;function joinArtists(a){return a.length>2?a.slice(0,a.length-1).join(", ")+" & "+a[a.length-1]:a.join(" & ")}MetadataCollector$1.joinArtists=joinArtists;var AiffParser={},ID3v2Parser$1={},FrameParser$1={},ID3v2Token={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TextEncodingToken=a.ExtendedHeader=a.ID3v2Header=a.UINT32SYNCSAFE=a.AttachedPictureType=void 0;const o=lib$1,$=Util;(function(j){j[j.Other=0]="Other",j[j["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",j[j["Other file icon"]=2]="Other file icon",j[j["Cover (front)"]=3]="Cover (front)",j[j["Cover (back)"]=4]="Cover (back)",j[j["Leaflet page"]=5]="Leaflet page",j[j["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",j[j["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",j[j["Artist/performer"]=8]="Artist/performer",j[j.Conductor=9]="Conductor",j[j["Band/Orchestra"]=10]="Band/Orchestra",j[j.Composer=11]="Composer",j[j["Lyricist/text writer"]=12]="Lyricist/text writer",j[j["Recording Location"]=13]="Recording Location",j[j["During recording"]=14]="During recording",j[j["During performance"]=15]="During performance",j[j["Movie/video screen capture"]=16]="Movie/video screen capture",j[j["A bright coloured fish"]=17]="A bright coloured fish",j[j.Illustration=18]="Illustration",j[j["Band/artist logotype"]=19]="Band/artist logotype",j[j["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(a.AttachedPictureType||(a.AttachedPictureType={})),a.UINT32SYNCSAFE={get:(j,_e)=>j[_e+3]&127|j[_e+2]<<7|j[_e+1]<<14|j[_e]<<21,len:4},a.ID3v2Header={len:10,get:(j,_e)=>({fileIdentifier:new o.StringType(3,"ascii").get(j,_e),version:{major:o.INT8.get(j,_e+3),revision:o.INT8.get(j,_e+4)},flags:{unsynchronisation:$.getBit(j,_e+5,7),isExtendedHeader:$.getBit(j,_e+5,6),expIndicator:$.getBit(j,_e+5,5),footer:$.getBit(j,_e+5,4)},size:a.UINT32SYNCSAFE.get(j,_e+6)})},a.ExtendedHeader={len:10,get:(j,_e)=>({size:o.UINT32_BE.get(j,_e),extendedFlags:o.UINT16_BE.get(j,_e+4),sizeOfPadding:o.UINT32_BE.get(j,_e+6),crcDataPresent:$.getBit(j,_e+4,31)})},a.TextEncodingToken={len:1,get:(j,_e)=>{switch(j[_e]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}})(ID3v2Token);var ID3v1Parser={},BasicParser$1={};Object.defineProperty(BasicParser$1,"__esModule",{value:!0});BasicParser$1.BasicParser=void 0;class BasicParser{init(o,$,j){return this.metadata=o,this.tokenizer=$,this.options=j,this}}BasicParser$1.BasicParser=BasicParser;var APEv2Parser$1={},APEv2Token={},FourCC={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FourCcToken=void 0;const o=Util,$=/^[\x21-\x7e©][\x20-\x7e\x00()]{3}/;a.FourCcToken={len:4,get:(j,_e)=>{const et=j.toString("binary",_e,_e+a.FourCcToken.len);if(!et.match($))throw new Error(`FourCC contains invalid characters: ${o.a2hex(et)} "${et}"`);return et},put:(j,_e,et)=>{const tt=Buffer.from(et,"binary");if(tt.length!==4)throw new Error("Invalid length");return tt.copy(j,_e)}}})(FourCC);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isBitSet=a.parseTagFlags=a.TagField=a.TagItemHeader=a.TagFooter=a.Header=a.DescriptorParser=a.DataType=void 0;const o=lib$1,$=FourCC;(function(tt){tt[tt.text_utf8=0]="text_utf8",tt[tt.binary=1]="binary",tt[tt.external_info=2]="external_info",tt[tt.reserved=3]="reserved"})(a.DataType||(a.DataType={})),a.DescriptorParser={len:52,get:(tt,rt)=>({ID:$.FourCcToken.get(tt,rt),version:o.UINT32_LE.get(tt,rt+4)/1e3,descriptorBytes:o.UINT32_LE.get(tt,rt+8),headerBytes:o.UINT32_LE.get(tt,rt+12),seekTableBytes:o.UINT32_LE.get(tt,rt+16),headerDataBytes:o.UINT32_LE.get(tt,rt+20),apeFrameDataBytes:o.UINT32_LE.get(tt,rt+24),apeFrameDataBytesHigh:o.UINT32_LE.get(tt,rt+28),terminatingDataBytes:o.UINT32_LE.get(tt,rt+32),fileMD5:new o.Uint8ArrayType(16).get(tt,rt+36)})},a.Header={len:24,get:(tt,rt)=>({compressionLevel:o.UINT16_LE.get(tt,rt),formatFlags:o.UINT16_LE.get(tt,rt+2),blocksPerFrame:o.UINT32_LE.get(tt,rt+4),finalFrameBlocks:o.UINT32_LE.get(tt,rt+8),totalFrames:o.UINT32_LE.get(tt,rt+12),bitsPerSample:o.UINT16_LE.get(tt,rt+16),channel:o.UINT16_LE.get(tt,rt+18),sampleRate:o.UINT32_LE.get(tt,rt+20)})},a.TagFooter={len:32,get:(tt,rt)=>({ID:new o.StringType(8,"ascii").get(tt,rt),version:o.UINT32_LE.get(tt,rt+8),size:o.UINT32_LE.get(tt,rt+12),fields:o.UINT32_LE.get(tt,rt+16),flags:_e(o.UINT32_LE.get(tt,rt+20))})},a.TagItemHeader={len:8,get:(tt,rt)=>({size:o.UINT32_LE.get(tt,rt),flags:_e(o.UINT32_LE.get(tt,rt+4))})};const j=tt=>new o.Uint8ArrayType(tt.size-a.TagFooter.len);a.TagField=j;function _e(tt){return{containsHeader:et(tt,31),containsFooter:et(tt,30),isHeader:et(tt,31),readOnly:et(tt,0),dataType:(tt&6)>>1}}a.parseTagFlags=_e;function et(tt,rt){return(tt&1<<rt)!==0}a.isBitSet=et})(APEv2Token);Object.defineProperty(APEv2Parser$1,"__esModule",{value:!0});APEv2Parser$1.APEv2Parser=void 0;const debug_1$m=browserExports,strtok3$4=core$1,token_types_1$2=lib$1,util$9=Util,BasicParser_1$b=BasicParser$1,APEv2Token_1=APEv2Token,debug$m=(0,debug_1$m.default)("music-metadata:parser:APEv2"),tagFormat$1="APEv2",preamble="APETAGEX";class APEv2Parser extends BasicParser_1$b.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(o,$,j){const _e=new APEv2Parser;return _e.init(o,$,j),_e.tryParseApeHeader()}static calculateDuration(o){let $=o.totalFrames>1?o.blocksPerFrame*(o.totalFrames-1):0;return $+=o.finalFrameBlocks,$/o.sampleRate}static async findApeFooterOffset(o,$){const j=Buffer.alloc(APEv2Token_1.TagFooter.len);await o.randomRead(j,0,APEv2Token_1.TagFooter.len,$-APEv2Token_1.TagFooter.len);const _e=APEv2Token_1.TagFooter.get(j,0);if(_e.ID==="APETAGEX")return debug$m(`APE footer header at offset=${$}`),{footer:_e,offset:$-_e.size}}static parseTagFooter(o,$,j){const _e=APEv2Token_1.TagFooter.get($,$.length-APEv2Token_1.TagFooter.len);if(_e.ID!==preamble)throw new Error("Unexpected APEv2 Footer ID preamble value.");strtok3$4.fromBuffer($);const et=new APEv2Parser;return et.init(o,strtok3$4.fromBuffer($),j),et.parseTags(_e)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<APEv2Token_1.TagFooter.len){debug$m("No APEv2 header found, end-of-file reached");return}const o=await this.tokenizer.peekToken(APEv2Token_1.TagFooter);if(o.ID===preamble)return await this.tokenizer.ignore(APEv2Token_1.TagFooter.len),this.parseTags(o);if(debug$m(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const $=this.tokenizer.fileInfo.size-this.tokenizer.position,j=Buffer.alloc($);return await this.tokenizer.readBuffer(j),APEv2Parser.parseTagFooter(this.metadata,j,this.options)}}async parse(){const o=await this.tokenizer.readToken(APEv2Token_1.DescriptorParser);if(o.ID!=="MAC ")throw new Error("Unexpected descriptor ID");this.ape.descriptor=o;const $=o.descriptorBytes-APEv2Token_1.DescriptorParser.len,j=await($>0?this.parseDescriptorExpansion($):this.parseHeader());return await this.tokenizer.ignore(j.forwardBytes),this.tryParseApeHeader()}async parseTags(o){const $=Buffer.alloc(256);let j=o.size-APEv2Token_1.TagFooter.len;debug$m(`Parse APE tags at offset=${this.tokenizer.position}, size=${j}`);for(let _e=0;_e<o.fields;_e++){if(j<APEv2Token_1.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${o.fields-_e} items remaining, but no more tag data to read.`);break}const et=await this.tokenizer.readToken(APEv2Token_1.TagItemHeader);j-=APEv2Token_1.TagItemHeader.len+et.size,await this.tokenizer.peekBuffer($,{length:Math.min($.length,j)});let tt=util$9.findZero($,0,$.length);const rt=await this.tokenizer.readToken(new token_types_1$2.StringType(tt,"ascii"));switch(await this.tokenizer.ignore(1),j-=rt.length+1,et.flags.dataType){case APEv2Token_1.DataType.text_utf8:{const st=(await this.tokenizer.readToken(new token_types_1$2.StringType(et.size,"utf8"))).split(/\x00/g);for(const at of st)this.metadata.addTag(tagFormat$1,rt,at);break}case APEv2Token_1.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(et.size);else{const ot=Buffer.alloc(et.size);await this.tokenizer.readBuffer(ot),tt=util$9.findZero(ot,0,ot.length);const st=ot.toString("utf8",0,tt),at=Buffer.from(ot.slice(tt+1));this.metadata.addTag(tagFormat$1,rt,{description:st,data:at})}break;case APEv2Token_1.DataType.external_info:debug$m(`Ignore external info ${rt}`),await this.tokenizer.ignore(et.size);break;case APEv2Token_1.DataType.reserved:debug$m(`Ignore external info ${rt}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${rt}"`),await this.tokenizer.ignore(et.size);break}}}async parseDescriptorExpansion(o){return await this.tokenizer.ignore(o),this.parseHeader()}async parseHeader(){const o=await this.tokenizer.readToken(APEv2Token_1.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",o.bitsPerSample),this.metadata.setFormat("sampleRate",o.sampleRate),this.metadata.setFormat("numberOfChannels",o.channel),this.metadata.setFormat("duration",APEv2Parser.calculateDuration(o)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}APEv2Parser$1.APEv2Parser=APEv2Parser;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hasID3v1Header=a.ID3v1Parser=a.Genres=void 0;const o=browserExports,$=lib$1,j=Util,_e=BasicParser$1,et=APEv2Parser$1,tt=(0,o.default)("music-metadata:parser:ID3v1");a.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const rt={len:128,get:(ut,ct)=>{const vt=new ot(3).get(ut,ct);return vt==="TAG"?{header:vt,title:new ot(30).get(ut,ct+3),artist:new ot(30).get(ut,ct+33),album:new ot(30).get(ut,ct+63),year:new ot(4).get(ut,ct+93),comment:new ot(28).get(ut,ct+97),zeroByte:$.UINT8.get(ut,ct+127),track:$.UINT8.get(ut,ct+126),genre:$.UINT8.get(ut,ct+127)}:null}};class ot extends $.StringType{constructor(ct){super(ct,"binary")}get(ct,vt){let ht=super.get(ct,vt);return ht=j.trimRightNull(ht),ht=ht.trim(),ht.length>0?ht:void 0}}class st extends _e.BasicParser{static getGenre(ct){if(ct<a.Genres.length)return a.Genres[ct]}async parse(){if(!this.tokenizer.fileInfo.size){tt("Skip checking for ID3v1 because the file-size is unknown");return}if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const ht=new et.APEv2Parser;ht.init(this.metadata,this.tokenizer,this.options),await ht.parseTags(this.options.apeHeader.footer)}const ct=this.tokenizer.fileInfo.size-rt.len;if(this.tokenizer.position>ct){tt("Already consumed the last 128 bytes");return}const vt=await this.tokenizer.readToken(rt,ct);if(vt){tt("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-rt.len);for(const yt of["title","artist","album","comment","track","year"])vt[yt]&&vt[yt]!==""&&this.addTag(yt,vt[yt]);const ht=st.getGenre(vt.genre);ht&&this.addTag("genre",ht)}else tt("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-rt.len)}addTag(ct,vt){this.metadata.addTag("ID3v1",ct,vt)}}a.ID3v1Parser=st;async function at(ut){if(ut.fileSize>=128){const ct=Buffer.alloc(3);return await ut.randomRead(ct,0,ct.length,ut.fileSize-128),ct.toString("binary")==="TAG"}return!1}a.hasID3v1Header=at})(ID3v1Parser);Object.defineProperty(FrameParser$1,"__esModule",{value:!0});FrameParser$1.FrameParser=FrameParser$1.parseGenre=void 0;const debug_1$l=browserExports,Token$r=lib$1,util$8=Util,ID3v2Token_1$3=ID3v2Token,ID3v1Parser_1$3=ID3v1Parser,debug$l=(0,debug_1$l.default)("music-metadata:id3v2:frame-parser"),defaultEnc="latin1";function parseGenre(a){const o=[];let $,j="";for(const _e of a)if(typeof $=="string")if(_e==="("&&$==="")j+="(",$=void 0;else if(_e===")"){j!==""&&(o.push(j),j="");const et=parseGenreCode($);et&&o.push(et),$=void 0}else $+=_e;else _e==="("?$="":j+=_e;return j&&(o.length===0&&j.match(/^\d*$/)&&(j=ID3v1Parser_1$3.Genres[j]),o.push(j)),o}FrameParser$1.parseGenre=parseGenre;function parseGenreCode(a){if(a==="RX")return"Remix";if(a==="CR")return"Cover";if(a.match(/^\d*$/))return ID3v1Parser_1$3.Genres[a]}class FrameParser{constructor(o,$){this.major=o,this.warningCollector=$}readData(o,$,j){if(o.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${$}`);return}const{encoding:_e,bom:et}=ID3v2Token_1$3.TextEncodingToken.get(o,0),tt=o.length;let rt=0,ot=[];const st=FrameParser.getNullTerminatorLength(_e);let at;const ut={};switch(debug$l(`Parsing tag type=${$}, encoding=${_e}, bom=${et}`),$!=="TXXX"&&$[0]==="T"?"T*":$){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let ct;try{ct=util$8.decodeString(o.slice(1),_e).replace(/\x00+$/,"")}catch(yt){this.warningCollector.addWarning(`id3v2.${this.major} type=${$} header has invalid string value: ${yt.message}`)}switch($){case"TMCL":case"TIPL":case"IPLS":ot=this.splitValue($,ct),ot=FrameParser.functionList(ot);break;case"TRK":case"TRCK":case"TPOS":ot=ct;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":ot=this.splitValue($,ct);break;case"TCO":case"TCON":ot=this.splitValue($,ct).map(yt=>parseGenre(yt)).reduce((yt,bt)=>yt.concat(bt),[]);break;case"PCS":case"PCST":ot=this.major>=4?this.splitValue($,ct):[ct],ot=Array.isArray(ot)&&ot[0]===""?1:0;break;default:ot=this.major>=4?this.splitValue($,ct):[ct]}break;case"TXXX":ot=FrameParser.readIdentifierAndData(o,rt+1,tt,_e),ot={description:ot.id,text:this.splitValue($,util$8.decodeString(ot.data,_e).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(j){const yt={};switch(rt+=1,this.major){case 2:yt.format=util$8.decodeString(o.slice(rt,rt+3),"latin1"),rt+=3;break;case 3:case 4:at=util$8.findZero(o,rt,tt,defaultEnc),yt.format=util$8.decodeString(o.slice(rt,at),defaultEnc),rt=at+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}yt.format=FrameParser.fixPictureMimeType(yt.format),yt.type=ID3v2Token_1$3.AttachedPictureType[o[rt]],rt+=1,at=util$8.findZero(o,rt,tt,_e),yt.description=util$8.decodeString(o.slice(rt,at),_e),rt=at+st,yt.data=Buffer.from(o.slice(rt,tt)),ot=yt}break;case"CNT":case"PCNT":ot=Token$r.UINT32_BE.get(o,0);break;case"SYLT":for(rt+=7,ot=[];rt<tt;){const yt=o.slice(rt,rt=util$8.findZero(o,rt,tt,_e));rt+=5,ot.push(util$8.decodeString(yt,_e))}break;case"ULT":case"USLT":case"COM":case"COMM":rt+=1,ut.language=util$8.decodeString(o.slice(rt,rt+3),defaultEnc),rt+=3,at=util$8.findZero(o,rt,tt,_e),ut.description=util$8.decodeString(o.slice(rt,at),_e),rt=at+st,ut.text=util$8.decodeString(o.slice(rt,tt),_e).replace(/\x00+$/,""),ot=[ut];break;case"UFID":ot=FrameParser.readIdentifierAndData(o,rt,tt,defaultEnc),ot={owner_identifier:ot.id,identifier:ot.data};break;case"PRIV":ot=FrameParser.readIdentifierAndData(o,rt,tt,defaultEnc),ot={owner_identifier:ot.id,data:ot.data};break;case"POPM":at=util$8.findZero(o,rt,tt,defaultEnc);const vt=util$8.decodeString(o.slice(rt,at),defaultEnc);rt=at+1;const ht=tt-rt;ot={email:vt,rating:Token$r.UINT8.get(o,rt),counter:ht>=5?Token$r.UINT32_BE.get(o,rt+1):void 0};break;case"GEOB":{at=util$8.findZero(o,rt+1,tt,_e);const yt=util$8.decodeString(o.slice(rt+1,at),defaultEnc);rt=at+1,at=util$8.findZero(o,rt,tt-rt,_e);const bt=util$8.decodeString(o.slice(rt,at),defaultEnc);rt=at+1,at=util$8.findZero(o,rt,tt-rt,_e);const dt=util$8.decodeString(o.slice(rt,at),defaultEnc);ot={type:yt,filename:bt,description:dt,data:o.slice(rt+1,tt)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":ot=util$8.decodeString(o.slice(rt,at),defaultEnc);break;case"WXXX":{at=util$8.findZero(o,rt+1,tt,_e);const yt=util$8.decodeString(o.slice(rt+1,at),_e);rt=at+(_e==="utf16le"?2:1),ot={description:yt,url:util$8.decodeString(o.slice(rt,tt),defaultEnc)};break}case"WFD":case"WFED":ot=util$8.decodeString(o.slice(rt+1,util$8.findZero(o,rt+1,tt,_e)),_e);break;case"MCDI":{ot=o.slice(0,tt);break}default:debug$l("Warning: unsupported id3v2-tag-type: "+$);break}return ot}static fixPictureMimeType(o){switch(o=o.toLocaleLowerCase(),o){case"jpg":return"image/jpeg";case"png":return"image/png"}return o}static functionList(o){const $={};for(let j=0;j+1<o.length;j+=2){const _e=o[j+1].split(",");$[o[j]]=$.hasOwnProperty(o[j])?$[o[j]].concat(_e):_e}return $}splitValue(o,$){let j;return this.major<4?(j=$.split(/\x00/g),j.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${o} uses non standard null-separator.`):j=$.split(/\//g)):j=$.split(/\x00/g),FrameParser.trimArray(j)}static trimArray(o){return o.map($=>$.replace(/\x00+$/,"").trim())}static readIdentifierAndData(o,$,j,_e){const et=util$8.findZero(o,$,j,_e),tt=util$8.decodeString(o.slice($,et),_e);return $=et+FrameParser.getNullTerminatorLength(_e),{id:tt,data:o.slice($,j)}}static getNullTerminatorLength(o){return o==="utf16le"?2:1}}FrameParser$1.FrameParser=FrameParser;Object.defineProperty(ID3v2Parser$1,"__esModule",{value:!0});ID3v2Parser$1.ID3v2Parser=void 0;const Token$q=lib$1,util$7=Util,FrameParser_1=FrameParser$1,ID3v2Token_1$2=ID3v2Token;class ID3v2Parser{static removeUnsyncBytes(o){let $=0,j=0;for(;$<o.length-1;)$!==j&&(o[j]=o[$]),$+=o[$]===255&&o[$+1]===0?2:1,j++;return $<o.length&&(o[j++]=o[$]),o.slice(0,j)}static getFrameHeaderLength(o){switch(o){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(o){return{status:{tag_alter_preservation:util$7.getBit(o,0,6),file_alter_preservation:util$7.getBit(o,0,5),read_only:util$7.getBit(o,0,4)},format:{grouping_identity:util$7.getBit(o,1,7),compression:util$7.getBit(o,1,3),encryption:util$7.getBit(o,1,2),unsynchronisation:util$7.getBit(o,1,1),data_length_indicator:util$7.getBit(o,1,0)}}}static readFrameData(o,$,j,_e,et){const tt=new FrameParser_1.FrameParser(j,et);switch(j){case 2:return tt.readData(o,$.id,_e);case 3:case 4:return $.flags.format.unsynchronisation&&(o=ID3v2Parser.removeUnsyncBytes(o)),$.flags.format.data_length_indicator&&(o=o.slice(4,o.length)),tt.readData(o,$.id,_e);default:throw new Error("Unexpected majorVer: "+j)}}static makeDescriptionTagName(o,$){return o+($?":"+$:"")}async parse(o,$,j){this.tokenizer=$,this.metadata=o,this.options=j;const _e=await this.tokenizer.readToken(ID3v2Token_1$2.ID3v2Header);if(_e.fileIdentifier!=="ID3")throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=_e,this.headerType="ID3v2."+_e.version.major,_e.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(_e.size)}async parseExtendedHeader(){const o=await this.tokenizer.readToken(ID3v2Token_1$2.ExtendedHeader),$=o.size-ID3v2Token_1$2.ExtendedHeader.len;return $>0?this.parseExtendedHeaderData($,o.size):this.parseId3Data(this.id3Header.size-o.size)}async parseExtendedHeaderData(o,$){return await this.tokenizer.ignore(o),this.parseId3Data(this.id3Header.size-$)}async parseId3Data(o){const $=await this.tokenizer.readToken(new Token$q.Uint8ArrayType(o));for(const j of this.parseMetadata($))if(j.id==="TXXX"){if(j.value)for(const _e of j.value.text)this.addTag(ID3v2Parser.makeDescriptionTagName(j.id,j.value.description),_e)}else if(j.id==="COM")for(const _e of j.value)this.addTag(ID3v2Parser.makeDescriptionTagName(j.id,_e.description),_e.text);else if(j.id==="COMM")for(const _e of j.value)this.addTag(ID3v2Parser.makeDescriptionTagName(j.id,_e.description),_e);else if(Array.isArray(j.value))for(const _e of j.value)this.addTag(j.id,_e);else this.addTag(j.id,j.value)}addTag(o,$){this.metadata.addTag(this.headerType,o,$)}parseMetadata(o){let $=0;const j=[];for(;$!==o.length;){const _e=ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);if($+_e>o.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const et=o.slice($,$+=_e),tt=this.readFrameHeader(et,this.id3Header.version.major),rt=o.slice($,$+=tt.length),ot=ID3v2Parser.readFrameData(rt,tt,this.id3Header.version.major,!this.options.skipCovers,this.metadata);ot&&j.push({id:tt.id,value:ot})}return j}readFrameHeader(o,$){let j;switch($){case 2:j={id:Buffer.from(o.slice(0,3)).toString("ascii"),length:Token$q.UINT24_BE.get(o,3)},j.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${j.id}`);break;case 3:case 4:j={id:Buffer.from(o.slice(0,4)).toString("ascii"),length:($===4?ID3v2Token_1$2.UINT32SYNCSAFE:Token$q.UINT32_BE).get(o,4),flags:ID3v2Parser.readFrameFlags(o.slice(8,10))},j.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${j.id}`);break;default:throw new Error("Unexpected majorVer: "+$)}return j}}ID3v2Parser$1.ID3v2Parser=ID3v2Parser;var AiffToken$1={};Object.defineProperty(AiffToken$1,"__esModule",{value:!0});AiffToken$1.Common=void 0;const Token$p=lib$1,FourCC_1$a=FourCC;class Common{constructor(o,$){this.isAifc=$;const j=$?22:18;if(o.chunkSize<j)throw new Error(`COMMON CHUNK size should always be at least ${j}`);this.len=o.chunkSize}get(o,$){const j=o.readUInt16BE($+8)-16398,_e=o.readUInt16BE($+8+2),et={numChannels:o.readUInt16BE($),numSampleFrames:o.readUInt32BE($+2),sampleSize:o.readUInt16BE($+6),sampleRate:j<0?_e>>Math.abs(j):_e<<j};if(this.isAifc){if(et.compressionType=FourCC_1$a.FourCcToken.get(o,$+18),this.len>22){const tt=o.readInt8($+22);if(tt>0){const rt=(tt+1)%2;if(23+tt+rt===this.len)et.compressionName=new Token$p.StringType(tt,"binary").get(o,$+23);else throw new Error("Illegal pstring length")}else et.compressionName=void 0}}else et.compressionName="PCM";return et}}AiffToken$1.Common=Common;var iff$1={};Object.defineProperty(iff$1,"__esModule",{value:!0});iff$1.Header=void 0;const Token$o=lib$1,FourCC_1$9=FourCC;iff$1.Header={len:8,get:(a,o)=>({chunkID:FourCC_1$9.FourCcToken.get(a,o),chunkSize:Number(BigInt(Token$o.UINT32_BE.get(a,o+4)))})};Object.defineProperty(AiffParser,"__esModule",{value:!0});AiffParser.AIFFParser=void 0;const Token$n=lib$1,debug_1$k=browserExports,strtok3$3=core$1,ID3v2Parser_1$4=ID3v2Parser$1,FourCC_1$8=FourCC,BasicParser_1$a=BasicParser$1,AiffToken=AiffToken$1,iff=iff$1,debug$k=(0,debug_1$k.default)("music-metadata:parser:aiff"),compressionTypes={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"µLaw 2:1	8-bit ITU-T G.711 µ-law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 µ-law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "};class AIFFParser extends BasicParser_1$a.BasicParser{async parse(){if((await this.tokenizer.readToken(iff.Header)).chunkID!=="FORM")throw new Error("Invalid Chunk-ID, expected 'FORM'");const $=await this.tokenizer.readToken(FourCC_1$8.FourCcToken);switch($){case"AIFF":this.metadata.setFormat("container",$),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+$)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=iff.Header.len;){debug$k("Reading AIFF chunk at offset="+this.tokenizer.position);const j=await this.tokenizer.readToken(iff.Header),_e=2*Math.round(j.chunkSize/2),et=await this.readData(j);await this.tokenizer.ignore(_e-et)}}catch(j){if(j instanceof strtok3$3.EndOfStreamError)debug$k("End-of-stream");else throw j}}async readData(o){var $;switch(o.chunkID){case"COMM":const j=await this.tokenizer.readToken(new AiffToken.Common(o,this.isCompressed));return this.metadata.setFormat("bitsPerSample",j.sampleSize),this.metadata.setFormat("sampleRate",j.sampleRate),this.metadata.setFormat("numberOfChannels",j.numChannels),this.metadata.setFormat("numberOfSamples",j.numSampleFrames),this.metadata.setFormat("duration",j.numSampleFrames/j.sampleRate),this.metadata.setFormat("codec",($=j.compressionName)!==null&&$!==void 0?$:compressionTypes[j.compressionType]),o.chunkSize;case"ID3 ":const _e=await this.tokenizer.readToken(new Token$n.Uint8ArrayType(o.chunkSize)),et=strtok3$3.fromBuffer(_e);return await new ID3v2Parser_1$4.ID3v2Parser().parse(this.metadata,et,this.options),o.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*o.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(o);default:return debug$k(`Ignore chunk id=${o.chunkID}, size=${o.chunkSize}`),0}}async readTextChunk(o){return(await this.tokenizer.readToken(new Token$n.StringType(o.chunkSize,"ascii"))).split("\0").map(j=>j.trim()).filter(j=>j&&j.length>0).forEach(j=>{this.metadata.addTag("AIFF",o.chunkID,j.trim())}),o.chunkSize}}AiffParser.AIFFParser=AIFFParser;var AsfParser$1={},GUID$1={};Object.defineProperty(GUID$1,"__esModule",{value:!0});class GUID{static fromBin(o,$=0){return new GUID(this.decode(o,$))}static decode(o,$=0){return(o.readUInt32LE($).toString(16)+"-"+o.readUInt16LE($+4).toString(16)+"-"+o.readUInt16LE($+6).toString(16)+"-"+o.readUInt16BE($+8).toString(16)+"-"+o.slice($+10,$+16).toString("hex")).toUpperCase()}static decodeMediaType(o){switch(o.str){case GUID.AudioMedia.str:return"audio";case GUID.VideoMedia.str:return"video";case GUID.CommandMedia.str:return"command";case GUID.Degradable_JPEG_Media.str:return"degradable-jpeg";case GUID.FileTransferMedia.str:return"file-transfer";case GUID.BinaryMedia.str:return"binary"}}static encode(o){const $=Buffer.alloc(16);return $.writeUInt32LE(parseInt(o.slice(0,8),16),0),$.writeUInt16LE(parseInt(o.slice(9,13),16),4),$.writeUInt16LE(parseInt(o.slice(14,18),16),6),Buffer.from(o.slice(19,23),"hex").copy($,8),Buffer.from(o.slice(24),"hex").copy($,10),$}constructor(o){this.str=o}equals(o){return this.str===o.str}toBin(){return GUID.encode(this.str)}}GUID.HeaderObject=new GUID("75B22630-668E-11CF-A6D9-00AA0062CE6C");GUID.DataObject=new GUID("75B22636-668E-11CF-A6D9-00AA0062CE6C");GUID.SimpleIndexObject=new GUID("33000890-E5B1-11CF-89F4-00A0C90349CB");GUID.IndexObject=new GUID("D6E229D3-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexObject=new GUID("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C");GUID.TimecodeIndexObject=new GUID("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C");GUID.FilePropertiesObject=new GUID("8CABDCA1-A947-11CF-8EE4-00C00C205365");GUID.StreamPropertiesObject=new GUID("B7DC0791-A9B7-11CF-8EE6-00C00C205365");GUID.HeaderExtensionObject=new GUID("5FBF03B5-A92E-11CF-8EE3-00C00C205365");GUID.CodecListObject=new GUID("86D15240-311D-11D0-A3A4-00A0C90348F6");GUID.ScriptCommandObject=new GUID("1EFB1A30-0B62-11D0-A39B-00A0C90348F6");GUID.MarkerObject=new GUID("F487CD01-A951-11CF-8EE6-00C00C205365");GUID.BitrateMutualExclusionObject=new GUID("D6E229DC-35DA-11D1-9034-00A0C90349BE");GUID.ErrorCorrectionObject=new GUID("75B22635-668E-11CF-A6D9-00AA0062CE6C");GUID.ContentDescriptionObject=new GUID("75B22633-668E-11CF-A6D9-00AA0062CE6C");GUID.ExtendedContentDescriptionObject=new GUID("D2D0A440-E307-11D2-97F0-00A0C95EA850");GUID.ContentBrandingObject=new GUID("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E");GUID.StreamBitratePropertiesObject=new GUID("7BF875CE-468D-11D1-8D82-006097C9A2B2");GUID.ContentEncryptionObject=new GUID("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E");GUID.ExtendedContentEncryptionObject=new GUID("298AE614-2622-4C17-B935-DAE07EE9289C");GUID.DigitalSignatureObject=new GUID("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E");GUID.PaddingObject=new GUID("1806D474-CADF-4509-A4BA-9AABCB96AAE8");GUID.ExtendedStreamPropertiesObject=new GUID("14E6A5CB-C672-4332-8399-A96952065B5A");GUID.AdvancedMutualExclusionObject=new GUID("A08649CF-4775-4670-8A16-6E35357566CD");GUID.GroupMutualExclusionObject=new GUID("D1465A40-5A79-4338-B71B-E36B8FD6C249");GUID.StreamPrioritizationObject=new GUID("D4FED15B-88D3-454F-81F0-ED5C45999E24");GUID.BandwidthSharingObject=new GUID("A69609E6-517B-11D2-B6AF-00C04FD908E9");GUID.LanguageListObject=new GUID("7C4346A9-EFE0-4BFC-B229-393EDE415C85");GUID.MetadataObject=new GUID("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA");GUID.MetadataLibraryObject=new GUID("44231C94-9498-49D1-A141-1D134E457054");GUID.IndexParametersObject=new GUID("D6E229DF-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexParametersObject=new GUID("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7");GUID.TimecodeIndexParametersObject=new GUID("F55E496D-9797-4B5D-8C8B-604DFE9BFB24");GUID.CompatibilityObject=new GUID("26F18B5D-4584-47EC-9F5F-0E651F0452C9");GUID.AdvancedContentEncryptionObject=new GUID("43058533-6981-49E6-9B74-AD12CB86D58C");GUID.AudioMedia=new GUID("F8699E40-5B4D-11CF-A8FD-00805F5C442B");GUID.VideoMedia=new GUID("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B");GUID.CommandMedia=new GUID("59DACFC0-59E6-11D0-A3AC-00A0C90348F6");GUID.JFIF_Media=new GUID("B61BE100-5B4E-11CF-A8FD-00805F5C442B");GUID.Degradable_JPEG_Media=new GUID("35907DE0-E415-11CF-A917-00805F5C442B");GUID.FileTransferMedia=new GUID("91BD222C-F21C-497A-8B6D-5AA86BFC0185");GUID.BinaryMedia=new GUID("3AFB65E2-47EF-40F2-AC2C-70A90D71D343");GUID.ASF_Index_Placeholder_Object=new GUID("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2");GUID$1.default=GUID;var AsfObject$1={},AsfUtil$1={};Object.defineProperty(AsfUtil$1,"__esModule",{value:!0});AsfUtil$1.AsfUtil=void 0;const Token$m=lib$1,util$6=Util;class AsfUtil{static getParserForAttr(o){return AsfUtil.attributeParsers[o]}static parseUnicodeAttr(o){return util$6.stripNulls(util$6.decodeString(o,"utf16le"))}static parseByteArrayAttr(o){return Buffer.from(o)}static parseBoolAttr(o,$=0){return AsfUtil.parseWordAttr(o,$)===1}static parseDWordAttr(o,$=0){return o.readUInt32LE($)}static parseQWordAttr(o,$=0){return Token$m.UINT64_LE.get(o,$)}static parseWordAttr(o,$=0){return o.readUInt16LE($)}}AsfUtil.attributeParsers=[AsfUtil.parseUnicodeAttr,AsfUtil.parseByteArrayAttr,AsfUtil.parseBoolAttr,AsfUtil.parseDWordAttr,AsfUtil.parseQWordAttr,AsfUtil.parseWordAttr,AsfUtil.parseByteArrayAttr];AsfUtil$1.AsfUtil=AsfUtil;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.WmPictureToken=a.MetadataLibraryObjectState=a.MetadataObjectState=a.ExtendedStreamPropertiesObjectState=a.ExtendedContentDescriptionObjectState=a.ContentDescriptionObjectState=a.readCodecEntries=a.HeaderExtensionObject=a.StreamPropertiesObject=a.FilePropertiesObject=a.IgnoreObjectState=a.State=a.HeaderObjectToken=a.TopLevelHeaderObjectToken=a.DataType=void 0;const o=Util,$=lib$1,j=GUID$1,_e=AsfUtil$1,et=ID3v2Token;(function(St){St[St.UnicodeString=0]="UnicodeString",St[St.ByteArray=1]="ByteArray",St[St.Bool=2]="Bool",St[St.DWord=3]="DWord",St[St.QWord=4]="QWord",St[St.Word=5]="Word"})(a.DataType||(a.DataType={})),a.TopLevelHeaderObjectToken={len:30,get:(St,gt)=>({objectId:j.default.fromBin(new $.BufferType(16).get(St,gt)),objectSize:Number($.UINT64_LE.get(St,gt+16)),numberOfHeaderObjects:$.UINT32_LE.get(St,gt+24)})},a.HeaderObjectToken={len:24,get:(St,gt)=>({objectId:j.default.fromBin(new $.BufferType(16).get(St,gt)),objectSize:Number($.UINT64_LE.get(St,gt+16))})};class tt{constructor(gt){this.len=Number(gt.objectSize)-a.HeaderObjectToken.len}postProcessTag(gt,wt,Mt,Ot){if(wt==="WM/Picture")gt.push({id:wt,value:Et.fromBuffer(Ot)});else{const Lt=_e.AsfUtil.getParserForAttr(Mt);if(!Lt)throw new Error("unexpected value headerType: "+Mt);gt.push({id:wt,value:Lt(Ot)})}}}a.State=tt;class rt extends tt{constructor(gt){super(gt)}get(gt,wt){return null}}a.IgnoreObjectState=rt;class ot extends tt{constructor(gt){super(gt)}get(gt,wt){return{fileId:j.default.fromBin(gt,wt),fileSize:$.UINT64_LE.get(gt,wt+16),creationDate:$.UINT64_LE.get(gt,wt+24),dataPacketsCount:$.UINT64_LE.get(gt,wt+32),playDuration:$.UINT64_LE.get(gt,wt+40),sendDuration:$.UINT64_LE.get(gt,wt+48),preroll:$.UINT64_LE.get(gt,wt+56),flags:{broadcast:o.getBit(gt,wt+64,24),seekable:o.getBit(gt,wt+64,25)},minimumDataPacketSize:$.UINT32_LE.get(gt,wt+68),maximumDataPacketSize:$.UINT32_LE.get(gt,wt+72),maximumBitrate:$.UINT32_LE.get(gt,wt+76)}}}ot.guid=j.default.FilePropertiesObject,a.FilePropertiesObject=ot;class st extends tt{constructor(gt){super(gt)}get(gt,wt){return{streamType:j.default.decodeMediaType(j.default.fromBin(gt,wt)),errorCorrectionType:j.default.fromBin(gt,wt+8)}}}st.guid=j.default.StreamPropertiesObject,a.StreamPropertiesObject=st;class at{constructor(){this.len=22}get(gt,wt){return{reserved1:j.default.fromBin(gt,wt),reserved2:gt.readUInt16LE(wt+16),extensionDataSize:gt.readUInt32LE(wt+18)}}}at.guid=j.default.HeaderExtensionObject,a.HeaderExtensionObject=at;const ut={len:20,get:(St,gt)=>({entryCount:St.readUInt16LE(gt+16)})};async function ct(St){const gt=await St.readNumber($.UINT16_LE);return(await St.readToken(new $.StringType(gt*2,"utf16le"))).replace("\0","")}async function vt(St){const gt=await St.readToken(ut),wt=[];for(let Mt=0;Mt<gt.entryCount;++Mt)wt.push(await yt(St));return wt}a.readCodecEntries=vt;async function ht(St){const gt=await St.readNumber($.UINT16_LE),wt=Buffer.alloc(gt);return await St.readBuffer(wt),wt}async function yt(St){const gt=await St.readNumber($.UINT16_LE);return{type:{videoCodec:(gt&1)===1,audioCodec:(gt&2)===2},codecName:await ct(St),description:await ct(St),information:await ht(St)}}class bt extends tt{constructor(gt){super(gt)}get(gt,wt){const Mt=[];let Ot=wt+10;for(let Lt=0;Lt<bt.contentDescTags.length;++Lt){const jt=gt.readUInt16LE(wt+Lt*2);if(jt>0){const Jt=bt.contentDescTags[Lt],qt=Ot+jt;Mt.push({id:Jt,value:_e.AsfUtil.parseUnicodeAttr(gt.slice(Ot,qt))}),Ot=qt}}return Mt}}bt.guid=j.default.ContentDescriptionObject,bt.contentDescTags=["Title","Author","Copyright","Description","Rating"],a.ContentDescriptionObjectState=bt;class dt extends tt{constructor(gt){super(gt)}get(gt,wt){const Mt=[],Ot=gt.readUInt16LE(wt);let Lt=wt+2;for(let jt=0;jt<Ot;jt+=1){const Jt=gt.readUInt16LE(Lt);Lt+=2;const qt=_e.AsfUtil.parseUnicodeAttr(gt.slice(Lt,Lt+Jt));Lt+=Jt;const rn=gt.readUInt16LE(Lt);Lt+=2;const an=gt.readUInt16LE(Lt);Lt+=2;const pn=gt.slice(Lt,Lt+an);Lt+=an,this.postProcessTag(Mt,qt,rn,pn)}return Mt}}dt.guid=j.default.ExtendedContentDescriptionObject,a.ExtendedContentDescriptionObjectState=dt;class xt extends tt{constructor(gt){super(gt)}get(gt,wt){return{startTime:$.UINT64_LE.get(gt,wt),endTime:$.UINT64_LE.get(gt,wt+8),dataBitrate:gt.readInt32LE(wt+12),bufferSize:gt.readInt32LE(wt+16),initialBufferFullness:gt.readInt32LE(wt+20),alternateDataBitrate:gt.readInt32LE(wt+24),alternateBufferSize:gt.readInt32LE(wt+28),alternateInitialBufferFullness:gt.readInt32LE(wt+32),maximumObjectSize:gt.readInt32LE(wt+36),flags:{reliableFlag:o.getBit(gt,wt+40,0),seekableFlag:o.getBit(gt,wt+40,1),resendLiveCleanpointsFlag:o.getBit(gt,wt+40,2)},streamNumber:gt.readInt16LE(wt+42),streamLanguageId:gt.readInt16LE(wt+44),averageTimePerFrame:gt.readInt32LE(wt+52),streamNameCount:gt.readInt32LE(wt+54),payloadExtensionSystems:gt.readInt32LE(wt+56),streamNames:[],streamPropertiesObject:null}}}xt.guid=j.default.ExtendedStreamPropertiesObject,a.ExtendedStreamPropertiesObjectState=xt;class Tt extends tt{constructor(gt){super(gt)}get(gt,wt){const Mt=[],Ot=Buffer.from(gt),Lt=Ot.readUInt16LE(wt);let jt=wt+2;for(let Jt=0;Jt<Lt;Jt+=1){jt+=4;const qt=Ot.readUInt16LE(jt);jt+=2;const rn=Ot.readUInt16LE(jt);jt+=2;const an=Ot.readUInt32LE(jt);jt+=4;const pn=_e.AsfUtil.parseUnicodeAttr(Ot.slice(jt,jt+qt));jt+=qt;const Kt=Ot.slice(jt,jt+an);jt+=an,this.postProcessTag(Mt,pn,rn,Kt)}return Mt}}Tt.guid=j.default.MetadataObject,a.MetadataObjectState=Tt;class Ct extends Tt{constructor(gt){super(gt)}}Ct.guid=j.default.MetadataLibraryObject,a.MetadataLibraryObjectState=Ct;class Et{static fromBase64(gt){return this.fromBuffer(Buffer.from(gt,"base64"))}static fromBuffer(gt){return new Et(gt.length).get(gt,0)}constructor(gt){this.len=gt}get(gt,wt){const Mt=gt.readUInt8(wt++),Ot=gt.readInt32LE(wt);let Lt=5;for(;gt.readUInt16BE(Lt)!==0;)Lt+=2;const jt=gt.slice(5,Lt).toString("utf16le");for(;gt.readUInt16BE(Lt)!==0;)Lt+=2;const Jt=gt.slice(5,Lt).toString("utf16le");return{type:et.AttachedPictureType[Mt],format:jt,description:Jt,size:Ot,data:gt.slice(Lt+4)}}}a.WmPictureToken=Et})(AsfObject$1);Object.defineProperty(AsfParser$1,"__esModule",{value:!0});AsfParser$1.AsfParser=void 0;const debug_1$j=browserExports,type_1$1=type,GUID_1=GUID$1,AsfObject=AsfObject$1,BasicParser_1$9=BasicParser$1,debug$j=(0,debug_1$j.default)("music-metadata:parser:ASF"),headerType="asf";class AsfParser extends BasicParser_1$9.BasicParser{async parse(){const o=await this.tokenizer.readToken(AsfObject.TopLevelHeaderObjectToken);if(!o.objectId.equals(GUID_1.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+o.objectId.str);try{await this.parseObjectHeader(o.numberOfHeaderObjects)}catch($){debug$j("Error while parsing ASF: %s",$)}}async parseObjectHeader(o){let $;do{const j=await this.tokenizer.readToken(AsfObject.HeaderObjectToken);switch(debug$j("header GUID=%s",j.objectId.str),j.objectId.str){case AsfObject.FilePropertiesObject.guid.str:const _e=await this.tokenizer.readToken(new AsfObject.FilePropertiesObject(j));this.metadata.setFormat("duration",Number(_e.playDuration/BigInt(1e3))/1e4-Number(_e.preroll)/1e3),this.metadata.setFormat("bitrate",_e.maximumBitrate);break;case AsfObject.StreamPropertiesObject.guid.str:const et=await this.tokenizer.readToken(new AsfObject.StreamPropertiesObject(j));this.metadata.setFormat("container","ASF/"+et.streamType);break;case AsfObject.HeaderExtensionObject.guid.str:const tt=await this.tokenizer.readToken(new AsfObject.HeaderExtensionObject);await this.parseExtensionObject(tt.extensionDataSize);break;case AsfObject.ContentDescriptionObjectState.guid.str:$=await this.tokenizer.readToken(new AsfObject.ContentDescriptionObjectState(j)),this.addTags($);break;case AsfObject.ExtendedContentDescriptionObjectState.guid.str:$=await this.tokenizer.readToken(new AsfObject.ExtendedContentDescriptionObjectState(j)),this.addTags($);break;case GUID_1.default.CodecListObject.str:const rt=await AsfObject.readCodecEntries(this.tokenizer);rt.forEach(st=>{this.metadata.addStreamInfo({type:st.type.videoCodec?type_1$1.TrackType.video:type_1$1.TrackType.audio,codecName:st.codecName})});const ot=rt.filter(st=>st.type.audioCodec).map(st=>st.codecName).join("/");this.metadata.setFormat("codec",ot);break;case GUID_1.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(j.objectSize-AsfObject.HeaderObjectToken.len);break;case GUID_1.default.PaddingObject.str:debug$j("Padding: %s bytes",j.objectSize-AsfObject.HeaderObjectToken.len),await this.tokenizer.ignore(j.objectSize-AsfObject.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+j.objectId.str),debug$j("Ignore ASF-Object-GUID: %s",j.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(j))}}while(--o)}addTags(o){o.forEach($=>{this.metadata.addTag(headerType,$.id,$.value)})}async parseExtensionObject(o){do{const $=await this.tokenizer.readToken(AsfObject.HeaderObjectToken),j=$.objectSize-AsfObject.HeaderObjectToken.len;switch($.objectId.str){case AsfObject.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new AsfObject.ExtendedStreamPropertiesObjectState($));break;case AsfObject.MetadataObjectState.guid.str:const _e=await this.tokenizer.readToken(new AsfObject.MetadataObjectState($));this.addTags(_e);break;case AsfObject.MetadataLibraryObjectState.guid.str:const et=await this.tokenizer.readToken(new AsfObject.MetadataLibraryObjectState($));this.addTags(et);break;case GUID_1.default.PaddingObject.str:await this.tokenizer.ignore(j);break;case GUID_1.default.CompatibilityObject.str:this.tokenizer.ignore(j);break;case GUID_1.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(j);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+$.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState($));break}o-=$.objectSize}while(o>0)}}AsfParser$1.AsfParser=AsfParser;var FlacParser$1={},Vorbis={};Object.defineProperty(Vorbis,"__esModule",{value:!0});Vorbis.IdentificationHeader=Vorbis.CommonHeader=Vorbis.VorbisPictureToken=void 0;const Token$l=lib$1,ID3v2Token_1$1=ID3v2Token;class VorbisPictureToken{static fromBase64(o){return this.fromBuffer(Buffer.from(o,"base64"))}static fromBuffer(o){return new VorbisPictureToken(o.length).get(o,0)}constructor(o){this.len=o}get(o,$){const j=ID3v2Token_1$1.AttachedPictureType[Token$l.UINT32_BE.get(o,$)],_e=Token$l.UINT32_BE.get(o,$+=4),et=o.toString("utf-8",$+=4,$+_e),tt=Token$l.UINT32_BE.get(o,$+=_e),rt=o.toString("utf-8",$+=4,$+tt),ot=Token$l.UINT32_BE.get(o,$+=tt),st=Token$l.UINT32_BE.get(o,$+=4),at=Token$l.UINT32_BE.get(o,$+=4),ut=Token$l.UINT32_BE.get(o,$+=4),ct=Token$l.UINT32_BE.get(o,$+=4),vt=Buffer.from(o.slice($+=4,$+ct));return{type:j,format:et,description:rt,width:ot,height:st,colour_depth:at,indexed_color:ut,data:vt}}}Vorbis.VorbisPictureToken=VorbisPictureToken;Vorbis.CommonHeader={len:7,get:(a,o)=>({packetType:a.readUInt8(o),vorbis:new Token$l.StringType(6,"ascii").get(a,o+1)})};Vorbis.IdentificationHeader={len:23,get:(a,o)=>{const $=new DataView(a.buffer,a.byteOffset);return{version:$.getUint32(o+0,!0),channelMode:$.getUint8(o+4),sampleRate:$.getUint32(o+5,!0),bitrateMax:$.getUint32(o+9,!0),bitrateNominal:$.getUint32(o+13,!0),bitrateMin:$.getUint32(o+17,!0)}}};var AbstractID3Parser$1={};Object.defineProperty(AbstractID3Parser$1,"__esModule",{value:!0});AbstractID3Parser$1.AbstractID3Parser=void 0;const core_1$2=core$1,debug_1$i=browserExports,ID3v2Token_1=ID3v2Token,ID3v2Parser_1$3=ID3v2Parser$1,ID3v1Parser_1$2=ID3v1Parser,BasicParser_1$8=BasicParser$1,debug$i=(0,debug_1$i.default)("music-metadata:parser:ID3");class AbstractID3Parser extends BasicParser_1$8.BasicParser{constructor(){super(...arguments),this.id3parser=new ID3v2Parser_1$3.ID3v2Parser}static async startsWithID3v2Header(o){return(await o.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(o){if(o instanceof core_1$2.EndOfStreamError)debug$i("End-of-stream");else throw o}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),debug$i("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new ID3v1Parser_1$2.ID3v1Parser().init(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3")return debug$i("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}AbstractID3Parser$1.AbstractID3Parser=AbstractID3Parser;var VorbisParser$1={},VorbisDecoder$1={};Object.defineProperty(VorbisDecoder$1,"__esModule",{value:!0});VorbisDecoder$1.VorbisDecoder=void 0;const Token$k=lib$1;class VorbisDecoder{constructor(o,$){this.data=o,this.offset=$}readInt32(){const o=Token$k.UINT32_LE.get(this.data,this.offset);return this.offset+=4,o}readStringUtf8(){const o=this.readInt32(),$=Buffer.from(this.data).toString("utf-8",this.offset,this.offset+o);return this.offset+=o,$}parseUserComment(){const o=this.offset,$=this.readStringUtf8(),j=$.indexOf("=");return{key:$.slice(0,j).toUpperCase(),value:$.slice(j+1),len:this.offset-o}}}VorbisDecoder$1.VorbisDecoder=VorbisDecoder;Object.defineProperty(VorbisParser$1,"__esModule",{value:!0});VorbisParser$1.VorbisParser=void 0;const Token$j=lib$1,debug_1$h=browserExports,VorbisDecoder_1$1=VorbisDecoder$1,Vorbis_1$1=Vorbis,debug$h=(0,debug_1$h.default)("music-metadata:parser:ogg:vorbis1");class VorbisParser{constructor(o,$){this.metadata=o,this.options=$,this.pageSegments=[]}parsePage(o,$){if(o.headerType.firstPage)this.parseFirstPage(o,$);else{if(o.headerType.continued){if(this.pageSegments.length===0)throw new Error("Cannot continue on previous page");this.pageSegments.push($)}if(o.headerType.lastPage||!o.headerType.continued){if(this.pageSegments.length>0){const j=Buffer.concat(this.pageSegments);this.parseFullPage(j)}this.pageSegments=o.headerType.lastPage?[]:[$]}}o.headerType.lastPage&&this.calculateDuration(o)}flush(){this.parseFullPage(Buffer.concat(this.pageSegments))}parseUserComment(o,$){const _e=new VorbisDecoder_1$1.VorbisDecoder(o,$).parseUserComment();return this.addTag(_e.key,_e.value),_e.len}addTag(o,$){if(o==="METADATA_BLOCK_PICTURE"&&typeof $=="string"){if(this.options.skipCovers){debug$h("Ignore picture");return}$=Vorbis_1$1.VorbisPictureToken.fromBase64($),debug$h(`Push picture: id=${o}, format=${$.format}`)}else debug$h(`Push tag: id=${o}, value=${$}`);this.metadata.addTag("vorbis",o,$)}calculateDuration(o){this.metadata.format.sampleRate&&o.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",o.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(o,$){this.metadata.setFormat("codec","Vorbis I"),debug$h("Parse first page");const j=Vorbis_1$1.CommonHeader.get($,0);if(j.vorbis!=="vorbis")throw new Error("Metadata does not look like Vorbis");if(j.packetType===1){const _e=Vorbis_1$1.IdentificationHeader.get($,Vorbis_1$1.CommonHeader.len);this.metadata.setFormat("sampleRate",_e.sampleRate),this.metadata.setFormat("bitrate",_e.bitrateNominal),this.metadata.setFormat("numberOfChannels",_e.channelMode),debug$h("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",_e.sampleRate,_e.bitrateNominal,_e.channelMode)}else throw new Error("First Ogg page should be type 1: the identification header")}parseFullPage(o){const $=Vorbis_1$1.CommonHeader.get(o,0);switch(debug$h("Parse full page: type=%s, byteLength=%s",$.packetType,o.byteLength),$.packetType){case 3:return this.parseUserCommentList(o,Vorbis_1$1.CommonHeader.len)}}parseUserCommentList(o,$){const j=Token$j.UINT32_LE.get(o,$);$+=4,$+=j;let _e=Token$j.UINT32_LE.get(o,$);for($+=4;_e-- >0;)$+=this.parseUserComment(o,$)}}VorbisParser$1.VorbisParser=VorbisParser;Object.defineProperty(FlacParser$1,"__esModule",{value:!0});FlacParser$1.FlacParser=void 0;const token_types_1$1=lib$1,debug_1$g=browserExports,util$5=Util,Vorbis_1=Vorbis,AbstractID3Parser_1$3=AbstractID3Parser$1,FourCC_1$7=FourCC,VorbisParser_1$3=VorbisParser$1,VorbisDecoder_1=VorbisDecoder$1,debug$g=(0,debug_1$g.default)("music-metadata:parser:FLAC");var BlockType;(function(a){a[a.STREAMINFO=0]="STREAMINFO",a[a.PADDING=1]="PADDING",a[a.APPLICATION=2]="APPLICATION",a[a.SEEKTABLE=3]="SEEKTABLE",a[a.VORBIS_COMMENT=4]="VORBIS_COMMENT",a[a.CUESHEET=5]="CUESHEET",a[a.PICTURE=6]="PICTURE"})(BlockType||(BlockType={}));class FlacParser extends AbstractID3Parser_1$3.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(o,$,j){return super.init(o,$,j),this.vorbisParser=new VorbisParser_1$3.VorbisParser(o,j),this}async postId3v2Parse(){if((await this.tokenizer.readToken(FourCC_1$7.FourCcToken)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let $;do $=await this.tokenizer.readToken(Metadata.BlockHeader),await this.parseDataBlock($);while(!$.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const j=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*j/this.metadata.format.duration)}}parseDataBlock(o){switch(debug$g(`blockHeader type=${o.type}, length=${o.length}`),o.type){case BlockType.STREAMINFO:return this.parseBlockStreamInfo(o.length);case BlockType.PADDING:this.padding+=o.length;break;case BlockType.APPLICATION:break;case BlockType.SEEKTABLE:break;case BlockType.VORBIS_COMMENT:return this.parseComment(o.length);case BlockType.CUESHEET:break;case BlockType.PICTURE:return this.parsePicture(o.length).then();default:this.metadata.addWarning("Unknown block type: "+o.type)}return this.tokenizer.ignore(o.length).then()}async parseBlockStreamInfo(o){if(o!==Metadata.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const $=await this.tokenizer.readToken(Metadata.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",$.channels),this.metadata.setFormat("bitsPerSample",$.bitsPerSample),this.metadata.setFormat("sampleRate",$.sampleRate),$.totalSamples>0&&this.metadata.setFormat("duration",$.totalSamples/$.sampleRate)}async parseComment(o){const $=await this.tokenizer.readToken(new token_types_1$1.Uint8ArrayType(o)),j=new VorbisDecoder_1.VorbisDecoder($,0);j.readStringUtf8();const _e=j.readInt32();for(let et=0;et<_e;et++){const tt=j.parseUserComment();this.vorbisParser.addTag(tt.key,tt.value)}}async parsePicture(o){if(this.options.skipCovers)return this.tokenizer.ignore(o);{const $=await this.tokenizer.readToken(new Vorbis_1.VorbisPictureToken(o));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",$)}}}FlacParser$1.FlacParser=FlacParser;class Metadata{}Metadata.BlockHeader={len:4,get:(a,o)=>({lastBlock:util$5.getBit(a,o,7),type:util$5.getBitAllignedNumber(a,o,1,7),length:token_types_1$1.UINT24_BE.get(a,o+1)})};Metadata.BlockStreamInfo={len:34,get:(a,o)=>({minimumBlockSize:token_types_1$1.UINT16_BE.get(a,o),maximumBlockSize:token_types_1$1.UINT16_BE.get(a,o+2)/1e3,minimumFrameSize:token_types_1$1.UINT24_BE.get(a,o+4),maximumFrameSize:token_types_1$1.UINT24_BE.get(a,o+7),sampleRate:token_types_1$1.UINT24_BE.get(a,o+10)>>4,channels:util$5.getBitAllignedNumber(a,o+12,4,3)+1,bitsPerSample:util$5.getBitAllignedNumber(a,o+12,7,5)+1,totalSamples:util$5.getBitAllignedNumber(a,o+13,4,36),fileMD5:new token_types_1$1.Uint8ArrayType(16).get(a,o+18)})};var MP4Parser$1={},Atom$1={},AtomToken$2={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ChapterText=a.StcoAtom=a.StszAtom=a.StscAtom=a.SampleToChunkToken=a.SttsAtom=a.TimeToSampleToken=a.SoundSampleDescriptionV0=a.SoundSampleDescriptionVersion=a.StsdAtom=a.TrackHeaderAtom=a.NameAtom=a.DataAtom=a.MvhdAtom=a.MdhdAtom=a.FixedLengthAtom=a.mhdr=a.tkhd=a.ftyp=a.ExtendedSize=a.Header=void 0;const o=lib$1,$=browserExports,j=FourCC,_e=(0,$.default)("music-metadata:parser:MP4:atom");a.Header={len:8,get:(St,gt)=>{const wt=o.UINT32_BE.get(St,gt);if(wt<0)throw new Error("Invalid atom header length");return{length:BigInt(wt),name:new o.StringType(4,"binary").get(St,gt+4)}},put:(St,gt,wt)=>(o.UINT32_BE.put(St,gt,Number(wt.length)),j.FourCcToken.put(St,gt+4,wt.name))},a.ExtendedSize=o.UINT64_BE,a.ftyp={len:4,get:(St,gt)=>({type:new o.StringType(4,"ascii").get(St,gt)})},a.tkhd={len:4,get:(St,gt)=>({type:new o.StringType(4,"ascii").get(St,gt)})},a.mhdr={len:8,get:(St,gt)=>({version:o.UINT8.get(St,gt),flags:o.UINT24_BE.get(St,gt+1),nextItemID:o.UINT32_BE.get(St,gt+4)})};class et{constructor(gt,wt,Mt){if(this.len=gt,gt<wt)throw new Error(`Atom ${Mt} expected to be ${wt}, but specifies ${gt} bytes long.`);gt>wt&&_e(`Warning: atom ${Mt} expected to be ${wt}, but was actually ${gt} bytes long.`)}}a.FixedLengthAtom=et;const tt={len:4,get:(St,gt)=>{const wt=o.UINT32_BE.get(St,gt)-2082844800;return new Date(wt*1e3)}};class rt extends et{constructor(gt){super(gt,24,"mdhd"),this.len=gt}get(gt,wt){return{version:o.UINT8.get(gt,wt+0),flags:o.UINT24_BE.get(gt,wt+1),creationTime:tt.get(gt,wt+4),modificationTime:tt.get(gt,wt+8),timeScale:o.UINT32_BE.get(gt,wt+12),duration:o.UINT32_BE.get(gt,wt+16),language:o.UINT16_BE.get(gt,wt+20),quality:o.UINT16_BE.get(gt,wt+22)}}}a.MdhdAtom=rt;class ot extends et{constructor(gt){super(gt,100,"mvhd"),this.len=gt}get(gt,wt){return{version:o.UINT8.get(gt,wt),flags:o.UINT24_BE.get(gt,wt+1),creationTime:tt.get(gt,wt+4),modificationTime:tt.get(gt,wt+8),timeScale:o.UINT32_BE.get(gt,wt+12),duration:o.UINT32_BE.get(gt,wt+16),preferredRate:o.UINT32_BE.get(gt,wt+20),preferredVolume:o.UINT16_BE.get(gt,wt+24),previewTime:o.UINT32_BE.get(gt,wt+72),previewDuration:o.UINT32_BE.get(gt,wt+76),posterTime:o.UINT32_BE.get(gt,wt+80),selectionTime:o.UINT32_BE.get(gt,wt+84),selectionDuration:o.UINT32_BE.get(gt,wt+88),currentTime:o.UINT32_BE.get(gt,wt+92),nextTrackID:o.UINT32_BE.get(gt,wt+96)}}}a.MvhdAtom=ot;class st{constructor(gt){this.len=gt}get(gt,wt){return{type:{set:o.UINT8.get(gt,wt+0),type:o.UINT24_BE.get(gt,wt+1)},locale:o.UINT24_BE.get(gt,wt+4),value:Buffer.from(new o.Uint8ArrayType(this.len-8).get(gt,wt+8))}}}a.DataAtom=st;class at{constructor(gt){this.len=gt}get(gt,wt){return{version:o.UINT8.get(gt,wt),flags:o.UINT24_BE.get(gt,wt+1),name:new o.StringType(this.len-4,"utf-8").get(gt,wt+4)}}}a.NameAtom=at;class ut{constructor(gt){this.len=gt}get(gt,wt){return{version:o.UINT8.get(gt,wt),flags:o.UINT24_BE.get(gt,wt+1),creationTime:tt.get(gt,wt+4),modificationTime:tt.get(gt,wt+8),trackId:o.UINT32_BE.get(gt,wt+12),duration:o.UINT32_BE.get(gt,wt+20),layer:o.UINT16_BE.get(gt,wt+24),alternateGroup:o.UINT16_BE.get(gt,wt+26),volume:o.UINT16_BE.get(gt,wt+28)}}}a.TrackHeaderAtom=ut;const ct={len:8,get:(St,gt)=>({version:o.UINT8.get(St,gt),flags:o.UINT24_BE.get(St,gt+1),numberOfEntries:o.UINT32_BE.get(St,gt+4)})};class vt{constructor(gt){this.len=gt}get(gt,wt){return{dataFormat:j.FourCcToken.get(gt,wt),dataReferenceIndex:o.UINT16_BE.get(gt,wt+10),description:new o.Uint8ArrayType(this.len-12).get(gt,wt+12)}}}class ht{constructor(gt){this.len=gt}get(gt,wt){const Mt=ct.get(gt,wt);wt+=ct.len;const Ot=[];for(let Lt=0;Lt<Mt.numberOfEntries;++Lt){const jt=o.UINT32_BE.get(gt,wt);wt+=o.UINT32_BE.len,Ot.push(new vt(jt).get(gt,wt)),wt+=jt}return{header:Mt,table:Ot}}}a.StsdAtom=ht,a.SoundSampleDescriptionVersion={len:8,get(St,gt){return{version:o.INT16_BE.get(St,gt),revision:o.INT16_BE.get(St,gt+2),vendor:o.INT32_BE.get(St,gt+4)}}},a.SoundSampleDescriptionV0={len:12,get(St,gt){return{numAudioChannels:o.INT16_BE.get(St,gt+0),sampleSize:o.INT16_BE.get(St,gt+2),compressionId:o.INT16_BE.get(St,gt+4),packetSize:o.INT16_BE.get(St,gt+6),sampleRate:o.UINT16_BE.get(St,gt+8)+o.UINT16_BE.get(St,gt+10)/1e4}}};class yt{constructor(gt,wt){this.len=gt,this.token=wt}get(gt,wt){const Mt=o.INT32_BE.get(gt,wt+4);return{version:o.INT8.get(gt,wt+0),flags:o.INT24_BE.get(gt,wt+1),numberOfEntries:Mt,entries:Et(gt,this.token,wt+8,this.len-8,Mt)}}}a.TimeToSampleToken={len:8,get(St,gt){return{count:o.INT32_BE.get(St,gt+0),duration:o.INT32_BE.get(St,gt+4)}}};class bt extends yt{constructor(gt){super(gt,a.TimeToSampleToken),this.len=gt}}a.SttsAtom=bt,a.SampleToChunkToken={len:12,get(St,gt){return{firstChunk:o.INT32_BE.get(St,gt),samplesPerChunk:o.INT32_BE.get(St,gt+4),sampleDescriptionId:o.INT32_BE.get(St,gt+8)}}};class dt extends yt{constructor(gt){super(gt,a.SampleToChunkToken),this.len=gt}}a.StscAtom=dt;class xt{constructor(gt){this.len=gt}get(gt,wt){const Mt=o.INT32_BE.get(gt,wt+8);return{version:o.INT8.get(gt,wt),flags:o.INT24_BE.get(gt,wt+1),sampleSize:o.INT32_BE.get(gt,wt+4),numberOfEntries:Mt,entries:Et(gt,o.INT32_BE,wt+12,this.len-12,Mt)}}}a.StszAtom=xt;class Tt extends yt{constructor(gt){super(gt,o.INT32_BE),this.len=gt}}a.StcoAtom=Tt;class Ct{constructor(gt){this.len=gt}get(gt,wt){const Mt=o.INT16_BE.get(gt,wt+0);return new o.StringType(Mt,"utf-8").get(gt,wt+2)}}a.ChapterText=Ct;function Et(St,gt,wt,Mt,Ot){if(_e(`remainingLen=${Mt}, numberOfEntries=${Ot} * token-len=${gt.len}`),Mt===0)return[];if(Mt!==Ot*gt.len)throw new Error("mismatch number-of-entries with remaining atom-length");const Lt=[];for(let jt=0;jt<Ot;++jt)Lt.push(gt.get(St,wt)),wt+=gt.len;return Lt}})(AtomToken$2);Object.defineProperty(Atom$1,"__esModule",{value:!0});Atom$1.Atom=void 0;const debug_1$f=browserExports,AtomToken$1=AtomToken$2,debug$f=(0,debug_1$f.default)("music-metadata:parser:MP4:Atom");class Atom{static async readAtom(o,$,j,_e){const et=o.position,tt=await o.readToken(AtomToken$1.Header);tt.length===BigInt(1)&&(tt.length=await o.readToken(AtomToken$1.ExtendedSize));const ot=new Atom(tt,tt.length===BigInt(1),j),st=ot.getPayloadLength(_e);return debug$f(`parse atom name=${ot.atomPath}, extended=${ot.extended}, offset=${et}, len=${ot.header.length}`),await ot.readData(o,$,st),ot}constructor(o,$,j){this.header=o,this.extended=$,this.parent=j,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(o){return(this.header.length===BigInt(0)?o:Number(this.header.length))-this.getHeaderLength()}async readAtoms(o,$,j){for(;j>0;){const _e=await Atom.readAtom(o,$,this,j);this.children.push(_e),j-=_e.header.length===BigInt(0)?j:Number(_e.header.length)}}async readData(o,$,j){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(o,$,this.getPayloadLength(j));case"meta":const et=(await o.peekToken(AtomToken$1.Header)).name==="hdlr"?0:4;return await o.ignore(et),this.readAtoms(o,$,this.getPayloadLength(j)-et);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return $(this,j)}}}Atom$1.Atom=Atom;Object.defineProperty(MP4Parser$1,"__esModule",{value:!0});MP4Parser$1.MP4Parser=void 0;const debug_1$e=browserExports,Token$i=lib$1,BasicParser_1$7=BasicParser$1,ID3v1Parser_1$1=ID3v1Parser,type_1=type,Atom_1=Atom$1,AtomToken=AtomToken$2,debug$e=(0,debug_1$e.default)("music-metadata:parser:MP4"),tagFormat="iTunes",encoderDict={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function distinct(a,o,$){return $.indexOf(a)===o}class MP4Parser extends BasicParser_1$7.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async o=>{const $=await this.tokenizer.readToken(new AtomToken.MvhdAtom(o));this.metadata.setFormat("creationTime",$.creationTime),this.metadata.setFormat("modificationTime",$.modificationTime)},mdhd:async o=>{const $=await this.tokenizer.readToken(new AtomToken.MdhdAtom(o)),j=this.getTrackDescription();j.creationTime=$.creationTime,j.modificationTime=$.modificationTime,j.timeScale=$.timeScale,j.duration=$.duration},chap:async o=>{const $=this.getTrackDescription(),j=[];for(;o>=Token$i.UINT32_BE.len;)j.push(await this.tokenizer.readNumber(Token$i.UINT32_BE)),o-=Token$i.UINT32_BE.len;$.chapterList=j},tkhd:async o=>{const $=await this.tokenizer.readToken(new AtomToken.TrackHeaderAtom(o));this.tracks.push($)},mdat:async o=>{if(this.audioLengthInBytes=o,this.calculateBitRate(),this.options.includeChapters){const $=this.tracks.filter(j=>j.chapterList);if($.length===1){const j=$[0].chapterList,_e=this.tracks.filter(et=>j.indexOf(et.trackId)!==-1);if(_e.length===1)return this.parseChapterTrack(_e[0],$[0],o)}}await this.tokenizer.ignore(o)},ftyp:async o=>{const $=[];for(;o>0;){const _e=await this.tokenizer.readToken(AtomToken.ftyp);o-=AtomToken.ftyp.len;const et=_e.type.replace(/\W/g,"");et.length>0&&$.push(et)}debug$e(`ftyp: ${$.join("/")}`);const j=$.filter(distinct).join("/");this.metadata.setFormat("container",j)},stsd:async o=>{const $=await this.tokenizer.readToken(new AtomToken.StsdAtom(o)),j=this.getTrackDescription();j.soundSampleDescription=$.table.map(_e=>this.parseSoundSampleDescription(_e))},stsc:async o=>{const $=await this.tokenizer.readToken(new AtomToken.StscAtom(o));this.getTrackDescription().sampleToChunkTable=$.entries},stts:async o=>{const $=await this.tokenizer.readToken(new AtomToken.SttsAtom(o));this.getTrackDescription().timeToSampleTable=$.entries},stsz:async o=>{const $=await this.tokenizer.readToken(new AtomToken.StszAtom(o)),j=this.getTrackDescription();j.sampleSize=$.sampleSize,j.sampleSizeTable=$.entries},stco:async o=>{const $=await this.tokenizer.readToken(new AtomToken.StcoAtom(o));this.getTrackDescription().chunkOffsetTable=$.entries},date:async o=>{const $=await this.tokenizer.readToken(new Token$i.StringType(o,"utf-8"));this.addTag("date",$)}}}static read_BE_Integer(o,$){const j=($?"INT":"UINT")+o.length*8+(o.length>1?"_BE":""),_e=Token$i[j];if(!_e)throw new Error('Token for integer type not found: "'+j+'"');return Number(_e.get(o,0))}async parse(){this.tracks=[];let o=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||o>0;){try{if((await this.tokenizer.peekToken(AtomToken.Header)).name==="\0\0\0\0"){const tt=`Error at offset=${this.tokenizer.position}: box.id=0`;debug$e(tt),this.addWarning(tt);break}}catch(et){const tt=`Error at offset=${this.tokenizer.position}: ${et.message}`;debug$e(tt),this.addWarning(tt);break}const _e=await Atom_1.Atom.readAtom(this.tokenizer,(et,tt)=>this.handleAtom(et,tt),null,o);o-=_e.header.length===BigInt(0)?o:Number(_e.header.length)}const $=[];this.tracks.forEach(_e=>{const et=[];_e.soundSampleDescription.forEach(tt=>{const rt={},ot=encoderDict[tt.dataFormat];if(ot?(et.push(ot.format),rt.codecName=ot.format):rt.codecName=`<${tt.dataFormat}>`,tt.description){const{description:st}=tt;st.sampleRate>0&&(rt.type=type_1.TrackType.audio,rt.audio={samplingFrequency:st.sampleRate,bitDepth:st.sampleSize,channels:st.numAudioChannels})}this.metadata.addStreamInfo(rt)}),et.length>=1&&$.push(et.join("/"))}),$.length>0&&this.metadata.setFormat("codec",$.filter(distinct).join("+"));const j=this.tracks.filter(_e=>_e.soundSampleDescription.length>=1&&_e.soundSampleDescription[0].description&&_e.soundSampleDescription[0].description.numAudioChannels>0);if(j.length>=1){const _e=j[0],et=_e.duration/_e.timeScale;this.metadata.setFormat("duration",et);const tt=_e.soundSampleDescription[0];tt.description&&(this.metadata.setFormat("sampleRate",tt.description.sampleRate),this.metadata.setFormat("bitsPerSample",tt.description.sampleSize),this.metadata.setFormat("numberOfChannels",tt.description.numAudioChannels));const rt=encoderDict[tt.dataFormat];rt&&this.metadata.setFormat("lossless",!rt.lossy),this.calculateBitRate()}}async handleAtom(o,$){if(o.parent)switch(o.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(o)}if(this.atomParsers[o.header.name])return this.atomParsers[o.header.name]($);debug$e(`No parser for atom path=${o.atomPath}, payload-len=${$}, ignoring atom`),await this.tokenizer.ignore($)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(o,$){this.metadata.addTag(tagFormat,o,$)}addWarning(o){debug$e("Warning: "+o),this.metadata.addWarning(o)}parseMetadataItemData(o){let $=o.header.name;return o.readAtoms(this.tokenizer,async(j,_e)=>{const et=j.getPayloadLength(_e);switch(j.header.name){case"data":return this.parseValueAtom($,j);case"name":const tt=await this.tokenizer.readToken(new AtomToken.NameAtom(et));$+=":"+tt.name;break;case"mean":const rt=await this.tokenizer.readToken(new AtomToken.NameAtom(et));$+=":"+rt.name;break;default:const ot=await this.tokenizer.readToken(new Token$i.BufferType(et));this.addWarning("Unsupported meta-item: "+$+"["+j.header.name+"] => value="+ot.toString("hex")+" ascii="+ot.toString("ascii"))}},o.getPayloadLength(0))}async parseValueAtom(o,$){const j=await this.tokenizer.readToken(new AtomToken.DataAtom(Number($.header.length)-AtomToken.Header.len));if(j.type.set!==0)throw new Error("Unsupported type-set != 0: "+j.type.set);switch(j.type.type){case 0:switch(o){case"trkn":case"disk":const _e=Token$i.UINT8.get(j.value,3),et=Token$i.UINT8.get(j.value,5);this.addTag(o,_e+"/"+et);break;case"gnre":const tt=Token$i.UINT8.get(j.value,1),rt=ID3v1Parser_1$1.Genres[tt-1];this.addTag(o,rt);break}break;case 1:case 18:this.addTag(o,j.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(o,{format:"image/jpeg",data:Buffer.from(j.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(o,{format:"image/png",data:Buffer.from(j.value)});break;case 21:this.addTag(o,MP4Parser.read_BE_Integer(j.value,!0));break;case 22:this.addTag(o,MP4Parser.read_BE_Integer(j.value,!1));break;case 65:this.addTag(o,j.value.readInt8(0));break;case 66:this.addTag(o,j.value.readInt16BE(0));break;case 67:this.addTag(o,j.value.readInt32BE(0));break;default:this.addWarning(`atom key=${o}, has unknown well-known-type (data-type): ${j.type.type}`)}}parseSoundSampleDescription(o){const $={dataFormat:o.dataFormat,dataReferenceIndex:o.dataReferenceIndex};let j=0;const _e=AtomToken.SoundSampleDescriptionVersion.get(o.description,j);return j+=AtomToken.SoundSampleDescriptionVersion.len,_e.version===0||_e.version===1?$.description=AtomToken.SoundSampleDescriptionV0.get(o.description,j):debug$e(`Warning: sound-sample-description ${_e} not implemented`),$}async parseChapterTrack(o,$,j){if(!o.sampleSize&&o.chunkOffsetTable.length!==o.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const _e=[];for(let et=0;et<o.chunkOffsetTable.length&&j>0;++et){const rt=o.chunkOffsetTable[et]-this.tokenizer.position,ot=o.sampleSize>0?o.sampleSize:o.sampleSizeTable[et];if(j-=rt+ot,j<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(rt);const st=await this.tokenizer.readToken(new AtomToken.ChapterText(ot));debug$e(`Chapter ${et+1}: ${st}`);const at={title:st,sampleOffset:this.findSampleOffset($,this.tokenizer.position)};debug$e(`Chapter title=${at.title}, offset=${at.sampleOffset}/${this.tracks[0].duration}`),_e.push(at)}this.metadata.setFormat("chapters",_e),await this.tokenizer.ignore(j)}findSampleOffset(o,$){let j=0;o.timeToSampleTable.forEach(et=>{j+=et.count*et.duration}),debug$e(`Total duration=${j}`);let _e=0;for(;_e<o.chunkOffsetTable.length&&o.chunkOffsetTable[_e]<$;)++_e;return this.getChunkDuration(_e+1,o)}getChunkDuration(o,$){let j=0,_e=$.timeToSampleTable[j].count,et=$.timeToSampleTable[j].duration,tt=1,rt=this.getSamplesPerChunk(tt,$.sampleToChunkTable),ot=0;for(;tt<o;){const st=Math.min(_e,rt);ot+=st*et,_e-=st,rt-=st,rt===0?(++tt,rt=this.getSamplesPerChunk(tt,$.sampleToChunkTable)):(++j,_e=$.timeToSampleTable[j].count,et=$.timeToSampleTable[j].duration)}return ot}getSamplesPerChunk(o,$){for(let j=0;j<$.length-1;++j)if(o>=$[j].firstChunk&&o<$[j+1].firstChunk)return $[j].samplesPerChunk;return $[$.length-1].samplesPerChunk}}MP4Parser$1.MP4Parser=MP4Parser;var MpegParser$1={},XingTag={},ExtendedLameHeader={},ReplayGainDataFormat={};Object.defineProperty(ReplayGainDataFormat,"__esModule",{value:!0});ReplayGainDataFormat.ReplayGain=void 0;const common$2=Util;var NameCode;(function(a){a[a.not_set=0]="not_set",a[a.radio=1]="radio",a[a.audiophile=2]="audiophile"})(NameCode||(NameCode={}));var ReplayGainOriginator;(function(a){a[a.unspecified=0]="unspecified",a[a.engineer=1]="engineer",a[a.user=2]="user",a[a.automatic=3]="automatic",a[a.rms_average=4]="rms_average"})(ReplayGainOriginator||(ReplayGainOriginator={}));ReplayGainDataFormat.ReplayGain={len:2,get:(a,o)=>{const $=common$2.getBitAllignedNumber(a,o,0,3),j=common$2.getBitAllignedNumber(a,o,6,1),_e=common$2.getBitAllignedNumber(a,o,7,9)/10;if($>0)return{type:common$2.getBitAllignedNumber(a,o,0,3),origin:common$2.getBitAllignedNumber(a,o,3,3),adjustment:j?-_e:_e}}};Object.defineProperty(ExtendedLameHeader,"__esModule",{value:!0});ExtendedLameHeader.ExtendedLameHeader=void 0;const Token$h=lib$1,common$1=Util,ReplayGainDataFormat_1=ReplayGainDataFormat;ExtendedLameHeader.ExtendedLameHeader={len:27,get:(a,o)=>{const $=Token$h.UINT32_BE.get(a,o+2);return{revision:common$1.getBitAllignedNumber(a,o,0,4),vbr_method:common$1.getBitAllignedNumber(a,o,4,4),lowpass_filter:100*Token$h.UINT8.get(a,o+1),track_peak:$===0?void 0:$/Math.pow(2,23),track_gain:ReplayGainDataFormat_1.ReplayGain.get(a,6),album_gain:ReplayGainDataFormat_1.ReplayGain.get(a,8),music_length:Token$h.UINT32_BE.get(a,o+20),music_crc:Token$h.UINT8.get(a,o+24),header_crc:Token$h.UINT16_BE.get(a,o+24)}}};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.readXingHeader=a.XingHeaderFlags=a.LameEncoderVersion=a.InfoTagHeaderTag=void 0;const o=lib$1,$=Util,j=ExtendedLameHeader;a.InfoTagHeaderTag=new o.StringType(4,"ascii"),a.LameEncoderVersion=new o.StringType(6,"ascii"),a.XingHeaderFlags={len:4,get:(et,tt)=>({frames:$.isBitSet(et,tt,31),bytes:$.isBitSet(et,tt,30),toc:$.isBitSet(et,tt,29),vbrScale:$.isBitSet(et,tt,28)})};async function _e(et){const tt=await et.readToken(a.XingHeaderFlags),rt={};if(tt.frames&&(rt.numFrames=await et.readToken(o.UINT32_BE)),tt.bytes&&(rt.streamSize=await et.readToken(o.UINT32_BE)),tt.toc&&(rt.toc=Buffer.alloc(100),await et.readBuffer(rt.toc)),tt.vbrScale&&(rt.vbrScale=await et.readToken(o.UINT32_BE)),await et.peekToken(new o.StringType(4,"ascii"))==="LAME"&&(await et.ignore(4),rt.lame={version:await et.readToken(new o.StringType(5,"ascii"))},rt.lame.version.match(/\d+.\d+/g))){const ut=rt.lame.version.match(/\d+.\d+/g)[0].split(".").map(ct=>parseInt(ct,10));ut[0]>=3&&ut[1]>=90&&(rt.lame.extended=await et.readToken(j.ExtendedLameHeader))}return rt}a.readXingHeader=_e})(XingTag);Object.defineProperty(MpegParser$1,"__esModule",{value:!0});MpegParser$1.MpegParser=void 0;const Token$g=lib$1,core_1$1=core$1,debug_1$d=browserExports,common=Util,AbstractID3Parser_1$2=AbstractID3Parser$1,XingTag_1=XingTag,debug$d=(0,debug_1$d.default)("music-metadata:parser:mpeg"),maxPeekLen=1024,MPEG4={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},MPEG4_ChannelConfigurations=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class MpegFrameHeader{constructor(o,$){this.versionIndex=common.getBitAllignedNumber(o,$+1,3,2),this.layer=MpegFrameHeader.LayerDescription[common.getBitAllignedNumber(o,$+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(o,$):this.parseMpegHeader(o,$),this.isProtectedByCRC=!common.isBitSet(o,$+1,7)}calcDuration(o){return o*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return MpegFrameHeader.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(o,$){this.container="MPEG",this.bitrateIndex=common.getBitAllignedNumber(o,$+2,0,4),this.sampRateFreqIndex=common.getBitAllignedNumber(o,$+2,4,2),this.padding=common.isBitSet(o,$+2,6),this.privateBit=common.isBitSet(o,$+2,7),this.channelModeIndex=common.getBitAllignedNumber(o,$+3,0,2),this.modeExtension=common.getBitAllignedNumber(o,$+3,2,2),this.isCopyrighted=common.isBitSet(o,$+3,4),this.isOriginalMedia=common.isBitSet(o,$+3,5),this.emphasis=common.getBitAllignedNumber(o,$+3,7,2),this.version=MpegFrameHeader.VersionID[this.versionIndex],this.channelMode=MpegFrameHeader.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const j=this.calcBitrate();if(!j)throw new Error("Cannot determine bit-rate");if(this.bitrate=j*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(o,$){debug$d("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container="ADTS/MPEG-"+this.version;const j=common.getBitAllignedNumber(o,$+2,0,2);this.codec="AAC",this.codecProfile=MPEG4.AudioObjectTypes[j],debug$d(`MPEG-4 audio-codec=${this.codec}`);const _e=common.getBitAllignedNumber(o,$+2,2,4);this.samplingRate=MPEG4.SamplingFrequencies[_e],debug$d(`sampling-rate=${this.samplingRate}`);const et=common.getBitAllignedNumber(o,$+2,7,3);this.mp4ChannelConfig=MPEG4_ChannelConfigurations[et],debug$d(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=common.getBitAllignedNumber(o,$+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return;const o=`${Math.floor(this.version)}${this.layer}`;return MpegFrameHeader.bitrate_index[this.bitrateIndex][o]}calcSamplingRate(){return this.sampRateFreqIndex===3?null:MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}MpegFrameHeader.SyncByte1=255;MpegFrameHeader.SyncByte2=224;MpegFrameHeader.VersionID=[2.5,null,2,1];MpegFrameHeader.LayerDescription=[0,3,2,1];MpegFrameHeader.ChannelMode=["stereo","joint_stereo","dual_channel","mono"];MpegFrameHeader.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}};MpegFrameHeader.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}};MpegFrameHeader.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const FrameHeader={len:4,get:(a,o)=>new MpegFrameHeader(a,o)};function getVbrCodecProfile(a){return"V"+Math.floor((100-a)/10)}class MpegParser extends AbstractID3Parser_1$2.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=Buffer.alloc(4),this.syncPeek={buf:Buffer.alloc(maxPeekLen),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let o=!1;for(;!o;)await this.sync(),o=await this.parseCommonMpegHeader()}catch(o){if(o instanceof core_1$1.EndOfStreamError){if(debug$d("End-of-stream"),this.calculateEofDuration){const $=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",$);const j=$/this.metadata.format.sampleRate;debug$d(`Calculate duration at EOF: ${j} sec.`,j),this.metadata.setFormat("duration",j)}}else throw o}}finalize(){const o=this.metadata.format,$=this.metadata.native.hasOwnProperty("ID3v1");if(o.duration&&this.tokenizer.fileInfo.size){const j=this.tokenizer.fileInfo.size-this.mpegOffset-($?128:0);o.codecProfile&&o.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",j*8/o.duration)}else if(this.tokenizer.fileInfo.size&&o.codecProfile==="CBR"){const j=this.tokenizer.fileInfo.size-this.mpegOffset-($?128:0),_e=Math.round(j/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",_e);const et=_e/o.sampleRate;debug$d("Calculate CBR duration based on file size: %s",et),this.metadata.setFormat("duration",et)}}async sync(){let o=!1;for(;;){let $=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:maxPeekLen,mayBeLess:!0}),this.syncPeek.len<=163)throw new core_1$1.EndOfStreamError;for(;;)if(o&&(this.syncPeek.buf[$]&224)===224){this.buf_frame_header[0]=MpegFrameHeader.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[$],await this.tokenizer.ignore($),debug$d(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(debug$d(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}else if(o=!1,$=this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1,$),$===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new core_1$1.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}else++$,o=!0}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});let o;try{o=FrameHeader.get(this.buf_frame_header,0)}catch($){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+$.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",o.container),this.metadata.setFormat("codec",o.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",o.samplingRate),this.frameCount++,o.version>=2&&o.layer===0?this.parseAdts(o):this.parseAudioFrameHeader(o)}async parseAudioFrameHeader(o){this.metadata.setFormat("numberOfChannels",o.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",o.bitrate),this.frameCount<20*1e4&&debug$d("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,o.layer,o.bitrate,o.samplingRate);const $=o.calcSlotSize();if($===null)throw new Error("invalid slot_size");const j=o.calcSamplesPerFrame();debug$d(`samples_per_frame=${j}`);const et=j/8*o.bitrate/o.samplingRate+(o.padding?$:0);if(this.frame_size=Math.floor(et),this.audioFrameHeader=o,this.bitrates.push(o.bitrate),this.frameCount===1)return this.offset=FrameHeader.len,await this.skipSideInformation(),!1;if(this.frameCount===3){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=j,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=j,this.calculateEofDuration=!0),this.offset=4,o.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(o){const $=Buffer.alloc(3);await this.tokenizer.readBuffer($),o.frameLength+=common.getBitAllignedNumber($,0,0,11),this.totalDataLength+=o.frameLength,this.samplesPerFrame=1024;const j=o.samplingRate/this.samplesPerFrame,et=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*j+.5;if(this.metadata.setFormat("bitrate",et),debug$d(`frame-count=${this.frameCount}, size=${o.frameLength} bytes, bit-rate=${et}`),await this.tokenizer.ignore(o.frameLength>7?o.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",o.codecProfile),o.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",o.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(Token$g.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const o=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new Token$g.Uint8ArrayType(o)),this.offset+=o,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const o=await this.tokenizer.readToken(XingTag_1.InfoTagHeaderTag);switch(this.offset+=XingTag_1.InfoTagHeaderTag.len,o){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const j=await this.readXingInfoHeader(),_e=getVbrCodecProfile(j.vbrScale);return this.metadata.setFormat("codecProfile",_e),null;case"Xtra":break;case"LAME":const et=await this.tokenizer.readToken(XingTag_1.LameEncoderVersion);if(this.frame_size>=this.offset+XingTag_1.LameEncoderVersion.len)return this.offset+=XingTag_1.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+et),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const $=this.frame_size-this.offset;return $<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData($),null}async readXingInfoHeader(){const o=this.tokenizer.position,$=await(0,XingTag_1.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-o,$.lame&&(this.metadata.setFormat("tool","LAME "+common.stripNulls($.lame.version)),$.lame.extended&&(this.metadata.setFormat("trackPeakLevel",$.lame.extended.track_peak),$.lame.extended.track_gain&&this.metadata.setFormat("trackGain",$.lame.extended.track_gain.adjustment),$.lame.extended.album_gain&&this.metadata.setFormat("albumGain",$.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",$.lame.extended.music_length/1e3))),$.streamSize){const _e=this.audioFrameHeader.calcDuration($.numFrames);return this.metadata.setFormat("duration",_e),debug$d("Get duration from Xing header: %s",this.metadata.format.duration),$}const j=this.frame_size-this.offset;return await this.skipFrameData(j),$}async skipFrameData(o){if(o<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(o),this.countSkipFrameData+=o}areAllSame(o){const $=o[0];return o.every(j=>j===$)}}MpegParser$1.MpegParser=MpegParser;var musepack={},MpcSv8Parser$1={},StreamVersion8={};Object.defineProperty(StreamVersion8,"__esModule",{value:!0});StreamVersion8.StreamReader=void 0;const Token$f=lib$1,debug_1$c=browserExports,util$4=Util,debug$c=(0,debug_1$c.default)("music-metadata:parser:musepack:sv8"),PacketKey=new Token$f.StringType(2,"binary"),SH_part1={len:5,get:(a,o)=>({crc:Token$f.UINT32_LE.get(a,o),streamVersion:Token$f.UINT8.get(a,o+4)})},SH_part3={len:2,get:(a,o)=>({sampleFrequency:[44100,48e3,37800,32e3][util$4.getBitAllignedNumber(a,o,0,3)],maxUsedBands:util$4.getBitAllignedNumber(a,o,3,5),channelCount:util$4.getBitAllignedNumber(a,o+1,0,4)+1,msUsed:util$4.isBitSet(a,o+1,4),audioBlockFrames:util$4.getBitAllignedNumber(a,o+1,5,3)})};class StreamReader{constructor(o){this.tokenizer=o}async readPacketHeader(){const o=await this.tokenizer.readToken(PacketKey),$=await this.readVariableSizeField();return{key:o,payloadLength:$.value-2-$.len}}async readStreamHeader(o){const $={};debug$c(`Reading SH at offset=${this.tokenizer.position}`);const j=await this.tokenizer.readToken(SH_part1);o-=SH_part1.len,Object.assign($,j),debug$c(`SH.streamVersion = ${j.streamVersion}`);const _e=await this.readVariableSizeField();o-=_e.len,$.sampleCount=_e.value;const et=await this.readVariableSizeField();o-=et.len,$.beginningOfSilence=et.value;const tt=await this.tokenizer.readToken(SH_part3);return o-=SH_part3.len,Object.assign($,tt),await this.tokenizer.ignore(o),$}async readVariableSizeField(o=1,$=0){let j=await this.tokenizer.readNumber(Token$f.UINT8);return j&128?(j&=127,j+=$,this.readVariableSizeField(o+1,j<<7)):{len:o,value:$+j}}}StreamVersion8.StreamReader=StreamReader;Object.defineProperty(MpcSv8Parser$1,"__esModule",{value:!0});MpcSv8Parser$1.MpcSv8Parser=void 0;const debug_1$b=browserExports,BasicParser_1$6=BasicParser$1,APEv2Parser_1$4=APEv2Parser$1,FourCC_1$6=FourCC,SV8=StreamVersion8,debug$b=(0,debug_1$b.default)("music-metadata:parser:musepack");class MpcSv8Parser extends BasicParser_1$6.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(FourCC_1$6.FourCcToken)!=="MPCK")throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const o=new SV8.StreamReader(this.tokenizer);do{const $=await o.readPacketHeader();switch(debug$b(`packet-header key=${$.key}, payloadLength=${$.payloadLength}`),$.key){case"SH":const j=await o.readStreamHeader($.payloadLength);this.metadata.setFormat("numberOfSamples",j.sampleCount),this.metadata.setFormat("sampleRate",j.sampleFrequency),this.metadata.setFormat("duration",j.sampleCount/j.sampleFrequency),this.metadata.setFormat("numberOfChannels",j.channelCount);break;case"AP":this.audioLength+=$.payloadLength,await this.tokenizer.ignore($.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore($.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),APEv2Parser_1$4.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${$.key}`)}}while(!0)}}MpcSv8Parser$1.MpcSv8Parser=MpcSv8Parser;var MpcSv7Parser$1={},BitReader$1={};Object.defineProperty(BitReader$1,"__esModule",{value:!0});BitReader$1.BitReader=void 0;const Token$e=lib$1;class BitReader{constructor(o){this.tokenizer=o,this.pos=0,this.dword=void 0}async read(o){for(;this.dword===void 0;)this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE);let $=this.dword;return this.pos+=o,this.pos<32?($>>>=32-this.pos,$&(1<<o)-1):(this.pos-=32,this.pos===0?(this.dword=void 0,$&(1<<o)-1):(this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE),this.pos&&($<<=this.pos,$|=this.dword>>>32-this.pos),$&(1<<o)-1))}async ignore(o){if(this.pos>0){const _e=32-this.pos;this.dword=void 0,o-=_e,this.pos=0}const $=o%32,j=(o-$)/32;return await this.tokenizer.ignore(j*4),this.read($)}}BitReader$1.BitReader=BitReader;var StreamVersion7={};Object.defineProperty(StreamVersion7,"__esModule",{value:!0});StreamVersion7.Header=void 0;const Token$d=lib$1,util$3=Util;StreamVersion7.Header={len:6*4,get:(a,o)=>{const $={signature:Buffer.from(a).toString("latin1",o,o+3),streamMinorVersion:util$3.getBitAllignedNumber(a,o+3,0,4),streamMajorVersion:util$3.getBitAllignedNumber(a,o+3,4,4),frameCount:Token$d.UINT32_LE.get(a,o+4),maxLevel:Token$d.UINT16_LE.get(a,o+8),sampleFrequency:[44100,48e3,37800,32e3][util$3.getBitAllignedNumber(a,o+10,0,2)],link:util$3.getBitAllignedNumber(a,o+10,2,2),profile:util$3.getBitAllignedNumber(a,o+10,4,4),maxBand:util$3.getBitAllignedNumber(a,o+11,0,6),intensityStereo:util$3.isBitSet(a,o+11,6),midSideStereo:util$3.isBitSet(a,o+11,7),titlePeak:Token$d.UINT16_LE.get(a,o+12),titleGain:Token$d.UINT16_LE.get(a,o+14),albumPeak:Token$d.UINT16_LE.get(a,o+16),albumGain:Token$d.UINT16_LE.get(a,o+18),lastFrameLength:Token$d.UINT32_LE.get(a,o+20)>>>20&2047,trueGapless:util$3.isBitSet(a,o+23,0)};return $.lastFrameLength=$.trueGapless?Token$d.UINT32_LE.get(a,20)>>>20&2047:0,$}};Object.defineProperty(MpcSv7Parser$1,"__esModule",{value:!0});MpcSv7Parser$1.MpcSv7Parser=void 0;const debug_1$a=browserExports,BasicParser_1$5=BasicParser$1,APEv2Parser_1$3=APEv2Parser$1,BitReader_1=BitReader$1,SV7=StreamVersion7,debug$a=(0,debug_1$a.default)("music-metadata:parser:musepack");class MpcSv7Parser extends BasicParser_1$5.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const o=await this.tokenizer.readToken(SV7.Header);if(o.signature!=="MP+")throw new Error("Unexpected magic number");debug$a(`stream-version=${o.streamMajorVersion}.${o.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",o.sampleFrequency);const $=1152*(o.frameCount-1)+o.lastFrameLength;this.metadata.setFormat("numberOfSamples",$),this.duration=$/o.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new BitReader_1.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",o.midSideStereo||o.intensityStereo?2:1);const j=await this.bitreader.read(8);return this.metadata.setFormat("codec",(j/100).toFixed(2)),await this.skipAudioData(o.frameCount),debug$a(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),APEv2Parser_1$3.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(o){for(;o-- >0;){const j=await this.bitreader.read(20);this.audioLength+=20+j,await this.bitreader.ignore(j)}const $=await this.bitreader.read(11);this.audioLength+=$,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}MpcSv7Parser$1.MpcSv7Parser=MpcSv7Parser;Object.defineProperty(musepack,"__esModule",{value:!0});const debug_1$9=browserExports,Token$c=lib$1,AbstractID3Parser_1$1=AbstractID3Parser$1,MpcSv8Parser_1=MpcSv8Parser$1,MpcSv7Parser_1=MpcSv7Parser$1,debug$9=(0,debug_1$9.default)("music-metadata:parser:musepack");class MusepackParser extends AbstractID3Parser_1$1.AbstractID3Parser{async postId3v2Parse(){const o=await this.tokenizer.peekToken(new Token$c.StringType(3,"binary"));let $;switch(o){case"MP+":{debug$9("Musepack stream-version 7"),$=new MpcSv7Parser_1.MpcSv7Parser;break}case"MPC":{debug$9("Musepack stream-version 8"),$=new MpcSv8Parser_1.MpcSv8Parser;break}default:throw new Error("Invalid Musepack signature prefix")}return $.init(this.metadata,this.tokenizer,this.options),$.parse()}}musepack.default=MusepackParser;var OggParser$1={},OpusParser$1={},Opus$1={};Object.defineProperty(Opus$1,"__esModule",{value:!0});Opus$1.IdHeader=void 0;const Token$b=lib$1;class IdHeader{constructor(o){if(this.len=o,o<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(o,$){return{magicSignature:new Token$b.StringType(8,"ascii").get(o,$+0),version:o.readUInt8($+8),channelCount:o.readUInt8($+9),preSkip:o.readInt16LE($+10),inputSampleRate:o.readInt32LE($+12),outputGain:o.readInt16LE($+16),channelMapping:o.readUInt8($+18)}}}Opus$1.IdHeader=IdHeader;Object.defineProperty(OpusParser$1,"__esModule",{value:!0});OpusParser$1.OpusParser=void 0;const Token$a=lib$1,VorbisParser_1$2=VorbisParser$1,Opus=Opus$1;class OpusParser extends VorbisParser_1$2.VorbisParser{constructor(o,$,j){super(o,$),this.tokenizer=j,this.lastPos=-1}parseFirstPage(o,$){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new Opus.IdHeader($.length).get($,0),this.idHeader.magicSignature!=="OpusHead")throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(o){switch(new Token$a.StringType(8,"ascii").get(o,0)){case"OpusTags":this.parseUserCommentList(o,8),this.lastPos=this.tokenizer.position-o.length;break}}calculateDuration(o){if(this.metadata.format.sampleRate&&o.absoluteGranulePosition>=0){const $=o.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",$),this.metadata.setFormat("duration",$/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const j=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*j/this.metadata.format.duration)}}}}OpusParser$1.OpusParser=OpusParser;var SpeexParser$1={},Speex$1={};Object.defineProperty(Speex$1,"__esModule",{value:!0});Speex$1.Header=void 0;const Token$9=lib$1,util$2=Util;Speex$1.Header={len:80,get:(a,o)=>({speex:new Token$9.StringType(8,"ascii").get(a,o+0),version:util$2.trimRightNull(new Token$9.StringType(20,"ascii").get(a,o+8)),version_id:a.readInt32LE(o+28),header_size:a.readInt32LE(o+32),rate:a.readInt32LE(o+36),mode:a.readInt32LE(o+40),mode_bitstream_version:a.readInt32LE(o+44),nb_channels:a.readInt32LE(o+48),bitrate:a.readInt32LE(o+52),frame_size:a.readInt32LE(o+56),vbr:a.readInt32LE(o+60),frames_per_packet:a.readInt32LE(o+64),extra_headers:a.readInt32LE(o+68),reserved1:a.readInt32LE(o+72),reserved2:a.readInt32LE(o+76)})};Object.defineProperty(SpeexParser$1,"__esModule",{value:!0});SpeexParser$1.SpeexParser=void 0;const debug_1$8=browserExports,VorbisParser_1$1=VorbisParser$1,Speex=Speex$1,debug$8=(0,debug_1$8.default)("music-metadata:parser:ogg:speex");class SpeexParser extends VorbisParser_1$1.VorbisParser{constructor(o,$,j){super(o,$),this.tokenizer=j}parseFirstPage(o,$){debug$8("First Ogg/Speex page");const j=Speex.Header.get($,0);this.metadata.setFormat("codec",`Speex ${j.version}`),this.metadata.setFormat("numberOfChannels",j.nb_channels),this.metadata.setFormat("sampleRate",j.rate),j.bitrate!==-1&&this.metadata.setFormat("bitrate",j.bitrate)}}SpeexParser$1.SpeexParser=SpeexParser;var TheoraParser$1={},Theora={};Object.defineProperty(Theora,"__esModule",{value:!0});Theora.IdentificationHeader=void 0;const Token$8=lib$1;Theora.IdentificationHeader={len:42,get:(a,o)=>({id:new Token$8.StringType(7,"ascii").get(a,o),vmaj:a.readUInt8(o+7),vmin:a.readUInt8(o+8),vrev:a.readUInt8(o+9),vmbw:a.readUInt16BE(o+10),vmbh:a.readUInt16BE(o+17),nombr:Token$8.UINT24_BE.get(a,o+37),nqual:a.readUInt8(o+40)})};Object.defineProperty(TheoraParser$1,"__esModule",{value:!0});TheoraParser$1.TheoraParser=void 0;const debug_1$7=browserExports,Theora_1=Theora,debug$7=(0,debug_1$7.default)("music-metadata:parser:ogg:theora");class TheoraParser{constructor(o,$,j){this.metadata=o,this.tokenizer=j}parsePage(o,$){o.headerType.firstPage&&this.parseFirstPage(o,$)}flush(){debug$7("flush")}calculateDuration(o){debug$7("duration calculation not implemented")}parseFirstPage(o,$){debug$7("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const j=Theora_1.IdentificationHeader.get($,0);this.metadata.setFormat("bitrate",j.nombr)}}TheoraParser$1.TheoraParser=TheoraParser;Object.defineProperty(OggParser$1,"__esModule",{value:!0});OggParser$1.OggParser=OggParser$1.SegmentTable=void 0;const Token$7=lib$1,core_1=core$1,debug_1$6=browserExports,util$1=Util,FourCC_1$5=FourCC,BasicParser_1$4=BasicParser$1,VorbisParser_1=VorbisParser$1,OpusParser_1=OpusParser$1,SpeexParser_1=SpeexParser$1,TheoraParser_1=TheoraParser$1,debug$6=(0,debug_1$6.default)("music-metadata:parser:ogg");class SegmentTable{static sum(o,$,j){let _e=0;for(let et=$;et<$+j;++et)_e+=o[et];return _e}constructor(o){this.len=o.page_segments}get(o,$){return{totalPageSize:SegmentTable.sum(o,$,this.len)}}}OggParser$1.SegmentTable=SegmentTable;class OggParser extends BasicParser_1$4.BasicParser{async parse(){debug$6("pos=%s, parsePage()",this.tokenizer.position);try{let o;do{if(o=await this.tokenizer.readToken(OggParser.Header),o.capturePattern!=="OggS")throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=o,this.pageNumber=o.pageSequenceNo,debug$6("page#=%s, Ogg.id=%s",o.pageSequenceNo,o.capturePattern);const $=await this.tokenizer.readToken(new SegmentTable(o));debug$6("totalPageSize=%s",$.totalPageSize);const j=await this.tokenizer.readToken(new Token$7.Uint8ArrayType($.totalPageSize));if(debug$6("firstPage=%s, lastPage=%s, continued=%s",o.headerType.firstPage,o.headerType.lastPage,o.headerType.continued),o.headerType.firstPage){const _e=new Token$7.StringType(7,"ascii").get(Buffer.from(j),0);switch(_e){case"vorbis":debug$6("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new VorbisParser_1.VorbisParser(this.metadata,this.options);break;case"OpusHea":debug$6("Set page consumer to Ogg/Opus"),this.pageConsumer=new OpusParser_1.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":debug$6("Set page consumer to Ogg/Speex"),this.pageConsumer=new SpeexParser_1.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":debug$6("Set page consumer to Ogg/Theora"),this.pageConsumer=new TheoraParser_1.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+_e+")")}}this.pageConsumer.parsePage(o,j)}while(!o.headerType.lastPage)}catch(o){if(o instanceof core_1.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),debug$6("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else if(o.message.startsWith("FourCC"))this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush());else throw o}}}OggParser.Header={len:27,get:(a,o)=>({capturePattern:FourCC_1$5.FourCcToken.get(a,o),version:Token$7.UINT8.get(a,o+4),headerType:{continued:util$1.getBit(a,o+5,0),firstPage:util$1.getBit(a,o+5,1),lastPage:util$1.getBit(a,o+5,2)},absoluteGranulePosition:Number(Token$7.UINT64_LE.get(a,o+6)),streamSerialNumber:Token$7.UINT32_LE.get(a,o+14),pageSequenceNo:Token$7.UINT32_LE.get(a,o+18),pageChecksum:Token$7.UINT32_LE.get(a,o+22),page_segments:Token$7.UINT8.get(a,o+26)})};OggParser$1.OggParser=OggParser;var WaveParser$1={},RiffChunk={};Object.defineProperty(RiffChunk,"__esModule",{value:!0});RiffChunk.ListInfoTagValue=RiffChunk.Header=void 0;const Token$6=lib$1;RiffChunk.Header={len:8,get:(a,o)=>({chunkID:a.toString("binary",o,o+4),chunkSize:Token$6.UINT32_LE.get(a,4)})};class ListInfoTagValue{constructor(o){this.tagHeader=o,this.len=o.chunkSize,this.len+=this.len&1}get(o,$){return new Token$6.StringType(this.tagHeader.chunkSize,"ascii").get(o,$)}}RiffChunk.ListInfoTagValue=ListInfoTagValue;var WaveChunk$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FactChunk=a.Format=a.WaveFormat=void 0,function(j){j[j.PCM=1]="PCM",j[j.ADPCM=2]="ADPCM",j[j.IEEE_FLOAT=3]="IEEE_FLOAT",j[j.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",j[j.MPEG_LOAS=5634]="MPEG_LOAS",j[j.RAW_AAC1=255]="RAW_AAC1",j[j.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",j[j.DVM=8192]="DVM",j[j.RAW_SPORT=576]="RAW_SPORT",j[j.ESST_AC3=577]="ESST_AC3",j[j.DRM=9]="DRM",j[j.DTS2=8193]="DTS2",j[j.MPEG=80]="MPEG"}(a.WaveFormat||(a.WaveFormat={}));class o{constructor(_e){if(_e.chunkSize<16)throw new Error("Invalid chunk size");this.len=_e.chunkSize}get(_e,et){return{wFormatTag:_e.readUInt16LE(et),nChannels:_e.readUInt16LE(et+2),nSamplesPerSec:_e.readUInt32LE(et+4),nAvgBytesPerSec:_e.readUInt32LE(et+8),nBlockAlign:_e.readUInt16LE(et+12),wBitsPerSample:_e.readUInt16LE(et+14)}}}a.Format=o;class ${constructor(_e){if(_e.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=_e.chunkSize}get(_e,et){return{dwSampleLength:_e.readUInt32LE(et)}}}a.FactChunk=$})(WaveChunk$1);var BwfChunk={};Object.defineProperty(BwfChunk,"__esModule",{value:!0});BwfChunk.BroadcastAudioExtensionChunk=void 0;const Token$5=lib$1,Util_1=Util;BwfChunk.BroadcastAudioExtensionChunk={len:420,get:(a,o)=>({description:(0,Util_1.stripNulls)(new Token$5.StringType(256,"ascii").get(a,o)).trim(),originator:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,o+256)).trim(),originatorReference:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,o+288)).trim(),originationDate:(0,Util_1.stripNulls)(new Token$5.StringType(10,"ascii").get(a,o+320)).trim(),originationTime:(0,Util_1.stripNulls)(new Token$5.StringType(8,"ascii").get(a,o+330)).trim(),timeReferenceLow:Token$5.UINT32_LE.get(a,o+338),timeReferenceHigh:Token$5.UINT32_LE.get(a,o+342),version:Token$5.UINT16_LE.get(a,o+346),umid:new Token$5.Uint8ArrayType(64).get(a,o+348),loudnessValue:Token$5.UINT16_LE.get(a,o+412),maxTruePeakLevel:Token$5.UINT16_LE.get(a,o+414),maxMomentaryLoudness:Token$5.UINT16_LE.get(a,o+416),maxShortTermLoudness:Token$5.UINT16_LE.get(a,o+418)})};Object.defineProperty(WaveParser$1,"__esModule",{value:!0});WaveParser$1.WaveParser=void 0;const strtok3$2=core$1,Token$4=lib$1,debug_1$5=browserExports,riff=RiffChunk,WaveChunk=WaveChunk$1,ID3v2Parser_1$2=ID3v2Parser$1,util=Util,FourCC_1$4=FourCC,BasicParser_1$3=BasicParser$1,BwfChunk_1=BwfChunk,debug$5=(0,debug_1$5.default)("music-metadata:parser:RIFF");class WaveParser extends BasicParser_1$3.BasicParser{async parse(){const o=await this.tokenizer.readToken(riff.Header);if(debug$5(`pos=${this.tokenizer.position}, parse: chunkID=${o.chunkID}`),o.chunkID==="RIFF")return this.parseRiffChunk(o.chunkSize).catch($=>{if(!($ instanceof strtok3$2.EndOfStreamError))throw $})}async parseRiffChunk(o){const $=await this.tokenizer.readToken(FourCC_1$4.FourCcToken);switch(this.metadata.setFormat("container",$),$){case"WAVE":return this.readWaveChunk(o-FourCC_1$4.FourCcToken.len);default:throw new Error(`Unsupported RIFF format: RIFF/${$}`)}}async readWaveChunk(o){for(;o>=riff.Header.len;){const $=await this.tokenizer.readToken(riff.Header);switch(o-=riff.Header.len+$.chunkSize,$.chunkSize>o&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=$,debug$5(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${$.chunkID}`),$.chunkID){case"LIST":await this.parseListTag($);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new WaveChunk.FactChunk($));break;case"fmt ":const j=await this.tokenizer.readToken(new WaveChunk.Format($));let _e=WaveChunk.WaveFormat[j.wFormatTag];_e||(debug$5("WAVE/non-PCM format="+j.wFormatTag),_e="non-PCM ("+j.wFormatTag+")"),this.metadata.setFormat("codec",_e),this.metadata.setFormat("bitsPerSample",j.wBitsPerSample),this.metadata.setFormat("sampleRate",j.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",j.nChannels),this.metadata.setFormat("bitrate",j.nBlockAlign*j.nSamplesPerSec*8),this.blockAlign=j.nBlockAlign;break;case"id3 ":case"ID3 ":const et=await this.tokenizer.readToken(new Token$4.Uint8ArrayType($.chunkSize)),tt=strtok3$2.fromBuffer(et);await new ID3v2Parser_1$2.ID3v2Parser().parse(this.metadata,tt,this.options);break;case"data":this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let rt=$.chunkSize;if(this.tokenizer.fileInfo.size){const ut=this.tokenizer.fileInfo.size-this.tokenizer.position;ut<rt&&(this.metadata.addWarning("data chunk length exceeding file length"),rt=ut)}const ot=this.fact?this.fact.dwSampleLength:rt===4294967295?void 0:rt/this.blockAlign;ot&&(this.metadata.setFormat("numberOfSamples",ot),this.metadata.setFormat("duration",ot/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore($.chunkSize);break;case"bext":const st=await this.tokenizer.readToken(BwfChunk_1.BroadcastAudioExtensionChunk);Object.keys(st).forEach(ut=>{this.metadata.addTag("exif","bext."+ut,st[ut])});const at=$.chunkSize-BwfChunk_1.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(at);break;case"\0\0\0\0":debug$5(`Ignore padding chunk: RIFF/${$.chunkID} of ${$.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+$.chunkID),await this.tokenizer.ignore($.chunkSize);break;default:debug$5(`Ignore chunk: RIFF/${$.chunkID} of ${$.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+$.chunkID),await this.tokenizer.ignore($.chunkSize)}this.header.chunkSize%2===1&&(debug$5("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(o){const $=await this.tokenizer.readToken(new Token$4.StringType(4,"binary"));switch(debug$5("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,$),$){case"INFO":return this.parseRiffInfoTags(o.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+$),debug$5("Ignoring chunkID=RIFF/WAVE/LIST/"+$),this.tokenizer.ignore(o.chunkSize-4).then()}}async parseRiffInfoTags(o){for(;o>=8;){const $=await this.tokenizer.readToken(riff.Header),j=new riff.ListInfoTagValue($),_e=await this.tokenizer.readToken(j);this.addTag($.chunkID,util.stripNulls(_e)),o-=8+j.len}if(o!==0)throw Error("Illegal remaining size: "+o)}addTag(o,$){this.metadata.addTag("exif",o,$)}}WaveParser$1.WaveParser=WaveParser;var WavPackParser$1={},WavPackToken={};Object.defineProperty(WavPackToken,"__esModule",{value:!0});WavPackToken.WavPack=void 0;const Token$3=lib$1,FourCC_1$3=FourCC,SampleRates=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class WavPack{static isBitSet(o,$){return WavPack.getBitAllignedNumber(o,$,1)===1}static getBitAllignedNumber(o,$,j){return o>>>$&4294967295>>>32-j}}WavPack.BlockHeaderToken={len:32,get:(a,o)=>{const $=Token$3.UINT32_LE.get(a,o+24),j={BlockID:FourCC_1$3.FourCcToken.get(a,o),blockSize:Token$3.UINT32_LE.get(a,o+4),version:Token$3.UINT16_LE.get(a,o+8),totalSamples:Token$3.UINT32_LE.get(a,o+12),blockIndex:Token$3.UINT32_LE.get(a,o+16),blockSamples:Token$3.UINT32_LE.get(a,o+20),flags:{bitsPerSample:(1+WavPack.getBitAllignedNumber($,0,2))*8,isMono:WavPack.isBitSet($,2),isHybrid:WavPack.isBitSet($,3),isJointStereo:WavPack.isBitSet($,4),crossChannel:WavPack.isBitSet($,5),hybridNoiseShaping:WavPack.isBitSet($,6),floatingPoint:WavPack.isBitSet($,7),samplingRate:SampleRates[WavPack.getBitAllignedNumber($,23,4)],isDSD:WavPack.isBitSet($,31)},crc:new Token$3.Uint8ArrayType(4).get(a,o+28)};return j.flags.isDSD&&(j.totalSamples*=8),j}};WavPack.MetadataIdToken={len:1,get:(a,o)=>({functionId:WavPack.getBitAllignedNumber(a[o],0,6),isOptional:WavPack.isBitSet(a[o],5),isOddSize:WavPack.isBitSet(a[o],6),largeBlock:WavPack.isBitSet(a[o],7)})};WavPackToken.WavPack=WavPack;Object.defineProperty(WavPackParser$1,"__esModule",{value:!0});WavPackParser$1.WavPackParser=void 0;const Token$2=lib$1,APEv2Parser_1$2=APEv2Parser$1,FourCC_1$2=FourCC,BasicParser_1$2=BasicParser$1,WavPackToken_1=WavPackToken,debug_1$4=browserExports,debug$4=(0,debug_1$4.default)("music-metadata:parser:WavPack");class WavPackParser extends BasicParser_1$2.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),APEv2Parser_1$2.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(FourCC_1$2.FourCcToken)!=="wvpk")break;const $=await this.tokenizer.readToken(WavPackToken_1.WavPack.BlockHeaderToken);if($.BlockID!=="wvpk")throw new Error("Invalid WavPack Block-ID");debug$4(`WavPack header blockIndex=${$.blockIndex}, len=${WavPackToken_1.WavPack.BlockHeaderToken.len}`),$.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!$.flags.isHybrid),this.metadata.setFormat("bitsPerSample",$.flags.bitsPerSample),$.flags.isDSD||(this.metadata.setFormat("sampleRate",$.flags.samplingRate),this.metadata.setFormat("duration",$.totalSamples/$.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",$.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",$.totalSamples),this.metadata.setFormat("codec",$.flags.isDSD?"DSD":"PCM"));const j=$.blockSize-(WavPackToken_1.WavPack.BlockHeaderToken.len-8);await($.blockIndex===0?this.parseMetadataSubBlock($,j):this.tokenizer.ignore(j)),$.blockSamples>0&&(this.audioDataSize+=$.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=WavPackToken_1.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(o,$){for(;$>WavPackToken_1.WavPack.MetadataIdToken.len;){const j=await this.tokenizer.readToken(WavPackToken_1.WavPack.MetadataIdToken),_e=await this.tokenizer.readNumber(j.largeBlock?Token$2.UINT24_LE:Token$2.UINT8),et=Buffer.alloc(_e*2-(j.isOddSize?1:0));switch(await this.tokenizer.readBuffer(et),debug$4(`Metadata Sub-Blocks functionId=0x${j.functionId.toString(16)}, id.largeBlock=${j.largeBlock},data-size=${et.length}`),j.functionId){case 0:break;case 14:debug$4("ID_DSD_BLOCK");const tt=1<<et.readUInt8(0),rt=o.flags.samplingRate*tt*8;if(!o.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",rt),this.metadata.setFormat("duration",o.totalSamples/rt);break;case 36:debug$4("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",et);break;case 47:debug$4(`ID_BLOCK_CHECKSUM: checksum=${et.toString("hex")}`);break;default:debug$4(`Ignore unsupported meta-sub-block-id functionId=0x${j.functionId.toString(16)}`);break}$-=WavPackToken_1.WavPack.MetadataIdToken.len+(j.largeBlock?Token$2.UINT24_LE.len:Token$2.UINT8.len)+_e*2,debug$4(`remainingLength=${$}`),j.isOddSize&&this.tokenizer.ignore(1)}if($!==0)throw new Error("metadata-sub-block should fit it remaining length")}}WavPackParser$1.WavPackParser=WavPackParser;var DsfParser$1={},DsfChunk={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatChunk=a.ChannelType=a.DsdChunk=a.ChunkHeader=void 0;const o=lib$1,$=FourCC;a.ChunkHeader={len:12,get:(j,_e)=>({id:$.FourCcToken.get(j,_e),size:o.UINT64_LE.get(j,_e+4)})},a.DsdChunk={len:16,get:(j,_e)=>({fileSize:o.INT64_LE.get(j,_e),metadataPointer:o.INT64_LE.get(j,_e+8)})},function(j){j[j.mono=1]="mono",j[j.stereo=2]="stereo",j[j.channels=3]="channels",j[j.quad=4]="quad",j[j["4 channels"]=5]="4 channels",j[j["5 channels"]=6]="5 channels",j[j["5.1 channels"]=7]="5.1 channels"}(a.ChannelType||(a.ChannelType={})),a.FormatChunk={len:40,get:(j,_e)=>({formatVersion:o.INT32_LE.get(j,_e),formatID:o.INT32_LE.get(j,_e+4),channelType:o.INT32_LE.get(j,_e+8),channelNum:o.INT32_LE.get(j,_e+12),samplingFrequency:o.INT32_LE.get(j,_e+16),bitsPerSample:o.INT32_LE.get(j,_e+20),sampleCount:o.INT64_LE.get(j,_e+24),blockSizePerChannel:o.INT32_LE.get(j,_e+32)})}})(DsfChunk);Object.defineProperty(DsfParser$1,"__esModule",{value:!0});DsfParser$1.DsfParser=void 0;const debug_1$3=browserExports,AbstractID3Parser_1=AbstractID3Parser$1,DsfChunk_1=DsfChunk,ID3v2Parser_1$1=ID3v2Parser$1,debug$3=(0,debug_1$3.default)("music-metadata:parser:DSF");class DsfParser extends AbstractID3Parser_1.AbstractID3Parser{async postId3v2Parse(){const o=this.tokenizer.position,$=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);if($.id!=="DSD ")throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const j=await this.tokenizer.readToken(DsfChunk_1.DsdChunk);if(j.metadataPointer===BigInt(0))debug$3("No ID3v2 tag present");else return debug$3(`expect ID3v2 at offset=${j.metadataPointer}`),await this.parseChunks(j.fileSize-$.size),await this.tokenizer.ignore(Number(j.metadataPointer)-this.tokenizer.position-o),new ID3v2Parser_1$1.ID3v2Parser().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(o){for(;o>=DsfChunk_1.ChunkHeader.len;){const $=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);switch(debug$3(`Parsing chunk name=${$.id} size=${$.size}`),$.id){case"fmt ":const j=await this.tokenizer.readToken(DsfChunk_1.FormatChunk);this.metadata.setFormat("numberOfChannels",j.channelNum),this.metadata.setFormat("sampleRate",j.samplingFrequency),this.metadata.setFormat("bitsPerSample",j.bitsPerSample),this.metadata.setFormat("numberOfSamples",j.sampleCount),this.metadata.setFormat("duration",Number(j.sampleCount)/j.samplingFrequency);const _e=j.bitsPerSample*j.samplingFrequency*j.channelNum;this.metadata.setFormat("bitrate",_e);return;default:this.tokenizer.ignore(Number($.size)-DsfChunk_1.ChunkHeader.len);break}o-=$.size}}}DsfParser$1.DsfParser=DsfParser;var DsdiffParser$1={},DsdiffToken={};Object.defineProperty(DsdiffToken,"__esModule",{value:!0});DsdiffToken.ChunkHeader64=void 0;const Token$1=lib$1,FourCC_1$1=FourCC;DsdiffToken.ChunkHeader64={len:12,get:(a,o)=>({chunkID:FourCC_1$1.FourCcToken.get(a,o),chunkSize:Token$1.INT64_BE.get(a,o+4)})};Object.defineProperty(DsdiffParser$1,"__esModule",{value:!0});DsdiffParser$1.DsdiffParser=void 0;const Token=lib$1,debug_1$2=browserExports,strtok3$1=core$1,FourCC_1=FourCC,BasicParser_1$1=BasicParser$1,ID3v2Parser_1=ID3v2Parser$1,DsdiffToken_1=DsdiffToken,debug$2=(0,debug_1$2.default)("music-metadata:parser:aiff");class DsdiffParser extends BasicParser_1$1.BasicParser{async parse(){const o=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);if(o.chunkID!=="FRM8")throw new Error("Unexpected chunk-ID");const $=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim();switch($){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${$}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(o.chunkSize-BigInt(FourCC_1.FourCcToken.len));default:throw Error(`Unsupported DSDIFF type: ${$}`)}}async readFmt8Chunks(o){for(;o>=DsdiffToken_1.ChunkHeader64.len;){const $=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Chunk id=${$.chunkID}`),await this.readData($),o-=BigInt(DsdiffToken_1.ChunkHeader64.len)+$.chunkSize}}async readData(o){debug$2(`Reading data of chunk[ID=${o.chunkID}, size=${o.chunkSize}]`);const $=this.tokenizer.position;switch(o.chunkID.trim()){case"FVER":const _e=await this.tokenizer.readToken(Token.UINT32_LE);debug$2(`DSDIFF version=${_e}`);break;case"PROP":if(await this.tokenizer.readToken(FourCC_1.FourCcToken)!=="SND ")throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(o.chunkSize-BigInt(FourCC_1.FourCcToken.len));break;case"ID3":const tt=await this.tokenizer.readToken(new Token.Uint8ArrayType(Number(o.chunkSize))),rt=strtok3$1.fromBuffer(tt);await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata,rt,this.options);break;default:debug$2(`Ignore chunk[ID=${o.chunkID}, size=${o.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(o.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const j=o.chunkSize-BigInt(this.tokenizer.position-$);j>0&&(debug$2(`After Parsing chunk, remaining ${j} bytes`),await this.tokenizer.ignore(Number(j)))}async handleSoundPropertyChunks(o){for(debug$2(`Parsing sound-property-chunks, remainingSize=${o}`);o>0;){const $=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Sound-property-chunk[ID=${$.chunkID}, size=${$.chunkSize}]`);const j=this.tokenizer.position;switch($.chunkID.trim()){case"FS":const et=await this.tokenizer.readToken(Token.UINT32_BE);this.metadata.setFormat("sampleRate",et);break;case"CHNL":const tt=await this.tokenizer.readToken(Token.UINT16_BE);this.metadata.setFormat("numberOfChannels",tt),await this.handleChannelChunks($.chunkSize-BigInt(Token.UINT16_BE.len));break;case"CMPR":const rt=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim(),ot=await this.tokenizer.readToken(Token.UINT8),st=await this.tokenizer.readToken(new Token.StringType(ot,"ascii"));rt==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${rt} (${st})`);break;case"ABSS":const at=await this.tokenizer.readToken(Token.UINT16_BE),ut=await this.tokenizer.readToken(Token.UINT8),ct=await this.tokenizer.readToken(Token.UINT8),vt=await this.tokenizer.readToken(Token.UINT32_BE);debug$2(`ABSS ${at}:${ut}:${ct}.${vt}`);break;case"LSCO":const ht=await this.tokenizer.readToken(Token.UINT16_BE);debug$2(`LSCO lsConfig=${ht}`);break;case"COMT":default:debug$2(`Unknown sound-property-chunk[ID=${$.chunkID}, size=${$.chunkSize}]`),await this.tokenizer.ignore(Number($.chunkSize))}const _e=$.chunkSize-BigInt(this.tokenizer.position-j);_e>0&&(debug$2(`After Parsing sound-property-chunk ${$.chunkSize}, remaining ${_e} bytes`),await this.tokenizer.ignore(Number(_e))),o-=BigInt(DsdiffToken_1.ChunkHeader64.len)+$.chunkSize,debug$2(`Parsing sound-property-chunks, remainingSize=${o}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const $=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",$)}}async handleChannelChunks(o){debug$2(`Parsing channel-chunks, remainingSize=${o}`);const $=[];for(;o>=FourCC_1.FourCcToken.len;){const j=await this.tokenizer.readToken(FourCC_1.FourCcToken);debug$2(`Channel[ID=${j}]`),$.push(j),o-=BigInt(FourCC_1.FourCcToken.len)}return debug$2(`Channels: ${$.join(", ")}`),$}}DsdiffParser$1.DsdiffParser=DsdiffParser;var MatroskaParser$1={},MatroskaDtd={};Object.defineProperty(MatroskaDtd,"__esModule",{value:!0});MatroskaDtd.elements=void 0;const types_1$1=types;MatroskaDtd.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:types_1$1.DataType.uint},17143:{name:"ebmlReadVersion",value:types_1$1.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:types_1$1.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:types_1$1.DataType.uint},17026:{name:"docType",value:types_1$1.DataType.string},17031:{name:"docTypeVersion",value:types_1$1.DataType.uint},17029:{name:"docTypeReadVersion",value:types_1$1.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:types_1$1.DataType.binary},21420:{name:"seekPosition",value:types_1$1.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:types_1$1.DataType.uid},29572:{name:"filename",value:types_1$1.DataType.string},3979555:{name:"prevUID",value:types_1$1.DataType.uid},3965867:{name:"prevFilename",value:types_1$1.DataType.string},4110627:{name:"nextUID",value:types_1$1.DataType.uid},4096955:{name:"nextFilename",value:types_1$1.DataType.string},2807729:{name:"timecodeScale",value:types_1$1.DataType.uint},17545:{name:"duration",value:types_1$1.DataType.float},17505:{name:"dateUTC",value:types_1$1.DataType.uint},31657:{name:"title",value:types_1$1.DataType.string},19840:{name:"muxingApp",value:types_1$1.DataType.string},22337:{name:"writingApp",value:types_1$1.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:types_1$1.DataType.uid},163:{name:"unknown",value:types_1$1.DataType.binary},167:{name:"position",value:types_1$1.DataType.uid},171:{name:"prevSize",value:types_1$1.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:types_1$1.DataType.uint},29637:{name:"uid",value:types_1$1.DataType.uid},131:{name:"trackType",value:types_1$1.DataType.uint},185:{name:"flagEnabled",value:types_1$1.DataType.bool},136:{name:"flagDefault",value:types_1$1.DataType.bool},21930:{name:"flagForced",value:types_1$1.DataType.bool},156:{name:"flagLacing",value:types_1$1.DataType.bool},28135:{name:"minCache",value:types_1$1.DataType.uint},28136:{name:"maxCache",value:types_1$1.DataType.uint},2352003:{name:"defaultDuration",value:types_1$1.DataType.uint},2306383:{name:"timecodeScale",value:types_1$1.DataType.float},21358:{name:"name",value:types_1$1.DataType.string},2274716:{name:"language",value:types_1$1.DataType.string},134:{name:"codecID",value:types_1$1.DataType.string},25506:{name:"codecPrivate",value:types_1$1.DataType.binary},2459272:{name:"codecName",value:types_1$1.DataType.string},3839639:{name:"codecSettings",value:types_1$1.DataType.string},3883072:{name:"codecInfoUrl",value:types_1$1.DataType.string},2536e3:{name:"codecDownloadUrl",value:types_1$1.DataType.string},170:{name:"codecDecodeAll",value:types_1$1.DataType.bool},28587:{name:"trackOverlay",value:types_1$1.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:types_1$1.DataType.bool},21432:{name:"stereoMode",value:types_1$1.DataType.uint},176:{name:"pixelWidth",value:types_1$1.DataType.uint},186:{name:"pixelHeight",value:types_1$1.DataType.uint},21680:{name:"displayWidth",value:types_1$1.DataType.uint},21690:{name:"displayHeight",value:types_1$1.DataType.uint},21683:{name:"aspectRatioType",value:types_1$1.DataType.uint},3061028:{name:"colourSpace",value:types_1$1.DataType.uint},3126563:{name:"gammaValue",value:types_1$1.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:types_1$1.DataType.float},30901:{name:"outputSamplingFrequency",value:types_1$1.DataType.float},159:{name:"channels",value:types_1$1.DataType.uint},148:{name:"channels",value:types_1$1.DataType.uint},32123:{name:"channelPositions",value:types_1$1.DataType.binary},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:types_1$1.DataType.uint},20530:{name:"scope",value:types_1$1.DataType.bool},20531:{name:"type",value:types_1$1.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:types_1$1.DataType.uint},16981:{name:"contentCompSettings",value:types_1$1.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:types_1$1.DataType.uint},18402:{name:"contentEncKeyID",value:types_1$1.DataType.binary},18403:{name:"contentSignature ",value:types_1$1.DataType.binary},18404:{name:"ContentSigKeyID  ",value:types_1$1.DataType.binary},18405:{name:"contentSigAlgo ",value:types_1$1.DataType.uint},18406:{name:"contentSigHashAlgo ",value:types_1$1.DataType.uint}}},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:types_1$1.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:types_1$1.DataType.uint},241:{name:"clusterPosition",value:types_1$1.DataType.uint},21368:{name:"blockNumber",value:types_1$1.DataType.uint},234:{name:"codecState",value:types_1$1.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:types_1$1.DataType.uint},151:{name:"cluster",value:types_1$1.DataType.uint},21343:{name:"number",value:types_1$1.DataType.uint},235:{name:"codecState",value:types_1$1.DataType.uint}}},240:{name:"relativePosition",value:types_1$1.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:types_1$1.DataType.string},18030:{name:"name",value:types_1$1.DataType.string},18016:{name:"mimeType",value:types_1$1.DataType.string},18012:{name:"data",value:types_1$1.DataType.binary},18094:{name:"uid",value:types_1$1.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:types_1$1.DataType.uid},145:{name:"timeStart",value:types_1$1.DataType.uint},146:{name:"timeEnd",value:types_1$1.DataType.uid},152:{name:"hidden",value:types_1$1.DataType.bool},17816:{name:"enabled",value:types_1$1.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:types_1$1.DataType.uid},128:{name:"display",container:{133:{name:"string",value:types_1$1.DataType.string},17276:{name:"language ",value:types_1$1.DataType.string},17278:{name:"country ",value:types_1$1.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:types_1$1.DataType.uid},25540:{name:"tagChapterUID",value:types_1$1.DataType.uint},25542:{name:"tagAttachmentUID",value:types_1$1.DataType.uid},25546:{name:"targetType",value:types_1$1.DataType.string},26826:{name:"targetTypeValue",value:types_1$1.DataType.uint},25545:{name:"tagEditionUID",value:types_1$1.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:types_1$1.DataType.string},17543:{name:"string",value:types_1$1.DataType.string},17541:{name:"binary",value:types_1$1.DataType.binary},17530:{name:"language",value:types_1$1.DataType.string},17531:{name:"languageIETF",value:types_1$1.DataType.string},17540:{name:"default",value:types_1$1.DataType.bool}}}}}}}}}};Object.defineProperty(MatroskaParser$1,"__esModule",{value:!0});MatroskaParser$1.MatroskaParser=void 0;const token_types_1=lib$1,debug_1$1=browserExports,BasicParser_1=BasicParser$1,types_1=types,matroskaDtd=MatroskaDtd,debug$1=(0,debug_1$1.default)("music-metadata:parser:matroska");class MatroskaParser extends BasicParser_1.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(types_1.DataType.uint,o=>this.readUint(o)),this.parserMap.set(types_1.DataType.string,o=>this.readString(o)),this.parserMap.set(types_1.DataType.binary,o=>this.readBuffer(o)),this.parserMap.set(types_1.DataType.uid,async o=>await this.readUint(o)===1),this.parserMap.set(types_1.DataType.bool,o=>this.readFlag(o)),this.parserMap.set(types_1.DataType.float,o=>this.readFloat(o))}init(o,$,j){return super.init(o,$,j),this}async parse(){const o=await this.parseContainer(matroskaDtd.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${o.ebml.docType}`),o.segment){const $=o.segment.info;if($){const _e=$.timecodeScale?$.timecodeScale:1e6;if(typeof $.duration=="number"){const et=$.duration*_e/1e9;this.addTag("segment:title",$.title),this.metadata.setFormat("duration",et)}}const j=o.segment.tracks;if(j&&j.entries){j.entries.forEach(et=>{const tt={codecName:et.codecID.replace("A_","").replace("V_",""),codecSettings:et.codecSettings,flagDefault:et.flagDefault,flagLacing:et.flagLacing,flagEnabled:et.flagEnabled,language:et.language,name:et.name,type:et.trackType,audio:et.audio,video:et.video};this.metadata.addStreamInfo(tt)});const _e=j.entries.filter(et=>et.trackType===types_1.TrackType.audio.valueOf()).reduce((et,tt)=>!et||!et.flagDefault&&tt.flagDefault||tt.trackNumber&&tt.trackNumber<et.trackNumber?tt:et,null);_e&&(this.metadata.setFormat("codec",_e.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",_e.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",_e.audio.channels)),o.segment.tags&&o.segment.tags.tag.forEach(et=>{const tt=et.target,rt=tt!=null&&tt.targetTypeValue?types_1.TargetType[tt.targetTypeValue]:tt!=null&&tt.targetType?tt.targetType:"track";et.simpleTags.forEach(ot=>{const st=ot.string?ot.string:ot.binary;this.addTag(`${rt}:${ot.name}`,st)})}),o.segment.attachments&&o.segment.attachments.attachedFiles.filter(et=>et.mimeType.startsWith("image/")).map(et=>({data:et.data,format:et.mimeType,description:et.description,name:et.name})).forEach(et=>{this.addTag("picture",et)})}}}async parseContainer(o,$,j){const _e={};for(;this.tokenizer.position<$;){let et;try{et=await this.readElement()}catch(rt){if(rt.message==="End-Of-Stream")break;throw rt}const tt=o[et.id];if(tt)if(debug$1(`Element: name=${tt.name}, container=${!!tt.container}`),tt.container){const rt=await this.parseContainer(tt.container,et.len>=0?this.tokenizer.position+et.len:-1,j.concat([tt.name]));tt.multiple?(_e[tt.name]||(_e[tt.name]=[]),_e[tt.name].push(rt)):_e[tt.name]=rt}else _e[tt.name]=await this.parserMap.get(tt.value)(et);else switch(et.id){case 236:this.padding+=et.len,await this.tokenizer.ignore(et.len);break;default:debug$1(`parseEbml: path=${j.join("/")}, unknown element: id=${et.id.toString(16)}`),this.padding+=et.len,await this.tokenizer.ignore(et.len)}}return _e}async readVintData(o){const $=await this.tokenizer.peekNumber(token_types_1.UINT8);let j=128,_e=1;for(;!($&j);){if(_e>o)throw new Error("VINT value exceeding maximum size");++_e,j>>=1}const et=Buffer.alloc(_e);return await this.tokenizer.readBuffer(et),et}async readElement(){const o=await this.readVintData(this.ebmlMaxIDLength),$=await this.readVintData(this.ebmlMaxSizeLength);$[0]^=128>>$.length-1;const j=Math.min(6,$.length);return{id:o.readUIntBE(0,o.length),len:$.readUIntBE($.length-j,j)}}isMaxValue(o){if(o.length===this.ebmlMaxSizeLength){for(let $=1;$<this.ebmlMaxSizeLength;++$)if(o[$]!==255)return!1;return!0}return!1}async readFloat(o){switch(o.len){case 0:return 0;case 4:return this.tokenizer.readNumber(token_types_1.Float32_BE);case 8:return this.tokenizer.readNumber(token_types_1.Float64_BE);case 10:return this.tokenizer.readNumber(token_types_1.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${o.len}`)}}async readFlag(o){return await this.readUint(o)===1}async readUint(o){const $=await this.readBuffer(o),j=Math.min(6,o.len);return $.readUIntBE(o.len-j,j)}async readString(o){return(await this.tokenizer.readToken(new token_types_1.StringType(o.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(o){const $=Buffer.alloc(o.len);return await this.tokenizer.readBuffer($),$}addTag(o,$){this.metadata.addTag("matroska",o,$)}}MatroskaParser$1.MatroskaParser=MatroskaParser;Object.defineProperty(ParserFactory$1,"__esModule",{value:!0});ParserFactory$1.ParserFactory=ParserFactory$1.parseHttpContentType=void 0;const FileType=core,ContentType=contentType,MimeType=mediaTyper,debug_1=browserExports,MetadataCollector_1=MetadataCollector$1,AiffParser_1=AiffParser,APEv2Parser_1$1=APEv2Parser$1,AsfParser_1=AsfParser$1,FlacParser_1=FlacParser$1,MP4Parser_1=MP4Parser$1,MpegParser_1=MpegParser$1,musepack_1=musepack,OggParser_1=OggParser$1,WaveParser_1=WaveParser$1,WavPackParser_1=WavPackParser$1,DsfParser_1=DsfParser$1,DsdiffParser_1=DsdiffParser$1,MatroskaParser_1=MatroskaParser$1,debug=(0,debug_1.default)("music-metadata:parser:factory");function parseHttpContentType(a){const o=ContentType.parse(a),$=MimeType.parse(o.type);return{type:$.type,subtype:$.subtype,suffix:$.suffix,parameters:o.parameters}}ParserFactory$1.parseHttpContentType=parseHttpContentType;async function parse(a,o,$={}){const j=await ParserFactory.loadParser(o),_e=new MetadataCollector_1.MetadataCollector($);return await j.init(_e,a,$).parse(),_e.toCommonMetadata()}class ParserFactory{static async parseOnContentType(o,$){const{mimeType:j,path:_e,url:et}=await o.fileInfo,tt=ParserFactory.getParserIdForMimeType(j)||ParserFactory.getParserIdForExtension(_e)||ParserFactory.getParserIdForExtension(et);return tt||debug("No parser found for MIME-type / extension: "+j),this.parse(o,tt,$)}static async parse(o,$,j){if(!$){debug("Guess parser on content...");const _e=Buffer.alloc(4100);if(await o.peekBuffer(_e,{mayBeLess:!0}),o.fileInfo.path&&($=this.getParserIdForExtension(o.fileInfo.path)),!$){const et=await FileType.fromBuffer(_e);if(!et)throw new Error("Failed to determine audio format");if(debug(`Guessed file type is mime=${et.mime}, extension=${et.ext}`),$=ParserFactory.getParserIdForMimeType(et.mime),!$)throw new Error("Guessed MIME-type not supported: "+et.mime)}}return parse(o,$,j)}static getParserIdForExtension(o){if(!o)return;switch(this.getExtension(o).toLocaleLowerCase()||o){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(o){switch(o){case"aiff":return new AiffParser_1.AIFFParser;case"adts":case"mpeg":return new MpegParser_1.MpegParser;case"apev2":return new APEv2Parser_1$1.APEv2Parser;case"asf":return new AsfParser_1.AsfParser;case"dsf":return new DsfParser_1.DsfParser;case"dsdiff":return new DsdiffParser_1.DsdiffParser;case"flac":return new FlacParser_1.FlacParser;case"mp4":return new MP4Parser_1.MP4Parser;case"musepack":return new musepack_1.default;case"ogg":return new OggParser_1.OggParser;case"riff":return new WaveParser_1.WaveParser;case"wavpack":return new WavPackParser_1.WavPackParser;case"matroska":return new MatroskaParser_1.MatroskaParser;default:throw new Error(`Unknown parser type: ${o}`)}}static getExtension(o){const $=o.lastIndexOf(".");return $===-1?"":o.slice($)}static getParserIdForMimeType(o){let $;try{$=parseHttpContentType(o)}catch{debug(`Invalid HTTP Content-Type header value: ${o}`);return}const j=$.subtype.indexOf("x-")===0?$.subtype.substring(2):$.subtype;switch($.type){case"audio":switch(j){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(j){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(j){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}}ParserFactory$1.ParserFactory=ParserFactory;var RandomUint8ArrayReader$1={};Object.defineProperty(RandomUint8ArrayReader$1,"__esModule",{value:!0});RandomUint8ArrayReader$1.RandomUint8ArrayReader=void 0;class RandomUint8ArrayReader{constructor(o){this.uint8Array=o,this.fileSize=o.length}async randomRead(o,$,j,_e){return o.set(this.uint8Array.subarray(_e,_e+j),$),j}}RandomUint8ArrayReader$1.RandomUint8ArrayReader=RandomUint8ArrayReader;var Lyrics3={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getLyricsHeaderLength=a.endTag2=void 0,a.endTag2="LYRICS200";async function o($){if($.fileSize>=143){const j=Buffer.alloc(15);await $.randomRead(j,0,j.length,$.fileSize-143);const _e=j.toString("binary");if(_e.substr(6)===a.endTag2)return parseInt(_e.substr(0,6),10)+15}return 0}a.getLyricsHeaderLength=o})(Lyrics3);Object.defineProperty(core$2,"__esModule",{value:!0});core$2.scanAppendingHeaders=core$2.selectCover=core$2.ratingToStars=core$2.orderTags=core$2.parseFromTokenizer=core$2.parseBuffer=core$2.parseStream=void 0;const strtok3=core$1,ParserFactory_1=ParserFactory$1,RandomUint8ArrayReader_1=RandomUint8ArrayReader$1,APEv2Parser_1=APEv2Parser$1,ID3v1Parser_1=ID3v1Parser,Lyrics3_1=Lyrics3;function parseStream(a,o,$={}){return parseFromTokenizer(strtok3.fromStream(a,typeof o=="string"?{mimeType:o}:o),$)}core$2.parseStream=parseStream;async function parseBuffer(a,o,$={}){const j=new RandomUint8ArrayReader_1.RandomUint8ArrayReader(a);await scanAppendingHeaders(j,$);const _e=strtok3.fromBuffer(a,typeof o=="string"?{mimeType:o}:o);return parseFromTokenizer(_e,$)}core$2.parseBuffer=parseBuffer;function parseFromTokenizer(a,o){return ParserFactory_1.ParserFactory.parseOnContentType(a,o)}core$2.parseFromTokenizer=parseFromTokenizer;function orderTags(a){const o={};for(const $ of a)(o[$.id]=o[$.id]||[]).push($.value);return o}core$2.orderTags=orderTags;function ratingToStars(a){return a===void 0?0:1+Math.round(a*4)}core$2.ratingToStars=ratingToStars;function selectCover(a){return a?a.reduce((o,$)=>$.name&&$.name.toLowerCase()in["front","cover","cover (front)"]?$:o):null}core$2.selectCover=selectCover;async function scanAppendingHeaders(a,o={}){let $=a.fileSize;if(await(0,ID3v1Parser_1.hasID3v1Header)(a)){$-=128;const j=await(0,Lyrics3_1.getLyricsHeaderLength)(a);$-=j}o.apeHeader=await APEv2Parser_1.APEv2Parser.findApeFooterOffset(a,$)}core$2.scanAppendingHeaders=scanAppendingHeaders;var lib={},readableBrowser={exports:{}},domain;function EventHandlers(){}EventHandlers.prototype=Object.create(null);function EventEmitter$1(){EventEmitter$1.init.call(this)}EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.usingDomains=!1;EventEmitter$1.prototype.domain=void 0;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._maxListeners=void 0;EventEmitter$1.defaultMaxListeners=10;EventEmitter$1.init=function(){this.domain=null,EventEmitter$1.usingDomains&&domain.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function a(o){if(typeof o!="number"||o<0||isNaN(o))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=o,this};function $getMaxListeners(a){return a._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:a._maxListeners}EventEmitter$1.prototype.getMaxListeners=function a(){return $getMaxListeners(this)};function emitNone(a,o,$){if(o)a.call($);else for(var j=a.length,_e=arrayClone(a,j),et=0;et<j;++et)_e[et].call($)}function emitOne(a,o,$,j){if(o)a.call($,j);else for(var _e=a.length,et=arrayClone(a,_e),tt=0;tt<_e;++tt)et[tt].call($,j)}function emitTwo(a,o,$,j,_e){if(o)a.call($,j,_e);else for(var et=a.length,tt=arrayClone(a,et),rt=0;rt<et;++rt)tt[rt].call($,j,_e)}function emitThree(a,o,$,j,_e,et){if(o)a.call($,j,_e,et);else for(var tt=a.length,rt=arrayClone(a,tt),ot=0;ot<tt;++ot)rt[ot].call($,j,_e,et)}function emitMany(a,o,$,j){if(o)a.apply($,j);else for(var _e=a.length,et=arrayClone(a,_e),tt=0;tt<_e;++tt)et[tt].apply($,j)}EventEmitter$1.prototype.emit=function a(o){var $,j,_e,et,tt,rt,ot,st=o==="error";if(rt=this._events,rt)st=st&&rt.error==null;else if(!st)return!1;if(ot=this.domain,st){if($=arguments[1],ot)$||($=new Error('Uncaught, unspecified "error" event')),$.domainEmitter=this,$.domain=ot,$.domainThrown=!1,ot.emit("error",$);else{if($ instanceof Error)throw $;var at=new Error('Uncaught, unspecified "error" event. ('+$+")");throw at.context=$,at}return!1}if(j=rt[o],!j)return!1;var ut=typeof j=="function";switch(_e=arguments.length,_e){case 1:emitNone(j,ut,this);break;case 2:emitOne(j,ut,this,arguments[1]);break;case 3:emitTwo(j,ut,this,arguments[1],arguments[2]);break;case 4:emitThree(j,ut,this,arguments[1],arguments[2],arguments[3]);break;default:for(et=new Array(_e-1),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];emitMany(j,ut,this,et)}return!0};function _addListener(a,o,$,j){var _e,et,tt;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(et=a._events,et?(et.newListener&&(a.emit("newListener",o,$.listener?$.listener:$),et=a._events),tt=et[o]):(et=a._events=new EventHandlers,a._eventsCount=0),!tt)tt=et[o]=$,++a._eventsCount;else if(typeof tt=="function"?tt=et[o]=j?[$,tt]:[tt,$]:j?tt.unshift($):tt.push($),!tt.warned&&(_e=$getMaxListeners(a),_e&&_e>0&&tt.length>_e)){tt.warned=!0;var rt=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+o+" listeners added. Use emitter.setMaxListeners() to increase limit");rt.name="MaxListenersExceededWarning",rt.emitter=a,rt.type=o,rt.count=tt.length,emitWarning(rt)}return a}function emitWarning(a){typeof console.warn=="function"?console.warn(a):console.log(a)}EventEmitter$1.prototype.addListener=function a(o,$){return _addListener(this,o,$,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function a(o,$){return _addListener(this,o,$,!0)};function _onceWrap(a,o,$){var j=!1;function _e(){a.removeListener(o,_e),j||(j=!0,$.apply(a,arguments))}return _e.listener=$,_e}EventEmitter$1.prototype.once=function a(o,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(o,_onceWrap(this,o,$)),this};EventEmitter$1.prototype.prependOnceListener=function a(o,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(o,_onceWrap(this,o,$)),this};EventEmitter$1.prototype.removeListener=function a(o,$){var j,_e,et,tt,rt;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(_e=this._events,!_e)return this;if(j=_e[o],!j)return this;if(j===$||j.listener&&j.listener===$)--this._eventsCount===0?this._events=new EventHandlers:(delete _e[o],_e.removeListener&&this.emit("removeListener",o,j.listener||$));else if(typeof j!="function"){for(et=-1,tt=j.length;tt-- >0;)if(j[tt]===$||j[tt].listener&&j[tt].listener===$){rt=j[tt].listener,et=tt;break}if(et<0)return this;if(j.length===1){if(j[0]=void 0,--this._eventsCount===0)return this._events=new EventHandlers,this;delete _e[o]}else spliceOne(j,et);_e.removeListener&&this.emit("removeListener",o,rt||$)}return this};EventEmitter$1.prototype.removeAllListeners=function a(o){var $,j;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=new EventHandlers,this._eventsCount=0):j[o]&&(--this._eventsCount===0?this._events=new EventHandlers:delete j[o]),this;if(arguments.length===0){for(var _e=Object.keys(j),et=0,tt;et<_e.length;++et)tt=_e[et],tt!=="removeListener"&&this.removeAllListeners(tt);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if($=j[o],typeof $=="function")this.removeListener(o,$);else if($)do this.removeListener(o,$[$.length-1]);while($[0]);return this};EventEmitter$1.prototype.listeners=function a(o){var $,j,_e=this._events;return _e?($=_e[o],$?typeof $=="function"?j=[$.listener||$]:j=unwrapListeners($):j=[]):j=[],j};EventEmitter$1.listenerCount=function(a,o){return typeof a.listenerCount=="function"?a.listenerCount(o):listenerCount.call(a,o)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(a){var o=this._events;if(o){var $=o[a];if(typeof $=="function")return 1;if($)return $.length}return 0}EventEmitter$1.prototype.eventNames=function a(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(a,o){for(var $=o,j=$+1,_e=a.length;j<_e;$+=1,j+=1)a[$]=a[j];a.pop()}function arrayClone(a,o){for(var $=new Array(o);o--;)$[o]=a[o];return $}function unwrapListeners(a){for(var o=new Array(a.length),$=0;$<o.length;++$)o[$]=a[$].listener||a[$];return o}const events=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:EventEmitter$1,default:EventEmitter$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(events);var streamBrowser=require$$0.EventEmitter,buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(a){var o=a.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=a.indexOf("=");$===-1&&($=o);var j=$===o?0:4-$%4;return[$,j]}function byteLength(a){var o=getLens(a),$=o[0],j=o[1];return($+j)*3/4-j}function _byteLength(a,o,$){return(o+$)*3/4-$}function toByteArray(a){var o,$=getLens(a),j=$[0],_e=$[1],et=new Arr(_byteLength(a,j,_e)),tt=0,rt=_e>0?j-4:j,ot;for(ot=0;ot<rt;ot+=4)o=revLookup[a.charCodeAt(ot)]<<18|revLookup[a.charCodeAt(ot+1)]<<12|revLookup[a.charCodeAt(ot+2)]<<6|revLookup[a.charCodeAt(ot+3)],et[tt++]=o>>16&255,et[tt++]=o>>8&255,et[tt++]=o&255;return _e===2&&(o=revLookup[a.charCodeAt(ot)]<<2|revLookup[a.charCodeAt(ot+1)]>>4,et[tt++]=o&255),_e===1&&(o=revLookup[a.charCodeAt(ot)]<<10|revLookup[a.charCodeAt(ot+1)]<<4|revLookup[a.charCodeAt(ot+2)]>>2,et[tt++]=o>>8&255,et[tt++]=o&255),et}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,o,$){for(var j,_e=[],et=o;et<$;et+=3)j=(a[et]<<16&16711680)+(a[et+1]<<8&65280)+(a[et+2]&255),_e.push(tripletToBase64(j));return _e.join("")}function fromByteArray(a){for(var o,$=a.length,j=$%3,_e=[],et=16383,tt=0,rt=$-j;tt<rt;tt+=et)_e.push(encodeChunk(a,tt,tt+et>rt?rt:tt+et));return j===1?(o=a[$-1],_e.push(lookup[o>>2]+lookup[o<<4&63]+"==")):j===2&&(o=(a[$-2]<<8)+a[$-1],_e.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),_e.join("")}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const o=base64Js,$=ieee754,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=rt,a.SlowBuffer=xt,a.INSPECT_MAX_BYTES=50;const _e=2147483647;a.kMaxLength=_e,rt.TYPED_ARRAY_SUPPORT=et(),!rt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function et(){try{const At=new Uint8Array(1),ft={foo:function(){return 42}};return Object.setPrototypeOf(ft,Uint8Array.prototype),Object.setPrototypeOf(At,ft),At.foo()===42}catch{return!1}}Object.defineProperty(rt.prototype,"parent",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.buffer}}),Object.defineProperty(rt.prototype,"offset",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.byteOffset}});function tt(At){if(At>_e)throw new RangeError('The value "'+At+'" is invalid for option "size"');const ft=new Uint8Array(At);return Object.setPrototypeOf(ft,rt.prototype),ft}function rt(At,ft,mt){if(typeof At=="number"){if(typeof ft=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ut(At)}return ot(At,ft,mt)}rt.poolSize=8192;function ot(At,ft,mt){if(typeof At=="string")return ct(At,ft);if(ArrayBuffer.isView(At))return ht(At);if(At==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof At);if(Gn(At,ArrayBuffer)||At&&Gn(At.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gn(At,SharedArrayBuffer)||At&&Gn(At.buffer,SharedArrayBuffer)))return yt(At,ft,mt);if(typeof At=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Nt=At.valueOf&&At.valueOf();if(Nt!=null&&Nt!==At)return rt.from(Nt,ft,mt);const Ft=bt(At);if(Ft)return Ft;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof At[Symbol.toPrimitive]=="function")return rt.from(At[Symbol.toPrimitive]("string"),ft,mt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof At)}rt.from=function(At,ft,mt){return ot(At,ft,mt)},Object.setPrototypeOf(rt.prototype,Uint8Array.prototype),Object.setPrototypeOf(rt,Uint8Array);function st(At){if(typeof At!="number")throw new TypeError('"size" argument must be of type number');if(At<0)throw new RangeError('The value "'+At+'" is invalid for option "size"')}function at(At,ft,mt){return st(At),At<=0?tt(At):ft!==void 0?typeof mt=="string"?tt(At).fill(ft,mt):tt(At).fill(ft):tt(At)}rt.alloc=function(At,ft,mt){return at(At,ft,mt)};function ut(At){return st(At),tt(At<0?0:dt(At)|0)}rt.allocUnsafe=function(At){return ut(At)},rt.allocUnsafeSlow=function(At){return ut(At)};function ct(At,ft){if((typeof ft!="string"||ft==="")&&(ft="utf8"),!rt.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft);const mt=Tt(At,ft)|0;let Nt=tt(mt);const Ft=Nt.write(At,ft);return Ft!==mt&&(Nt=Nt.slice(0,Ft)),Nt}function vt(At){const ft=At.length<0?0:dt(At.length)|0,mt=tt(ft);for(let Nt=0;Nt<ft;Nt+=1)mt[Nt]=At[Nt]&255;return mt}function ht(At){if(Gn(At,Uint8Array)){const ft=new Uint8Array(At);return yt(ft.buffer,ft.byteOffset,ft.byteLength)}return vt(At)}function yt(At,ft,mt){if(ft<0||At.byteLength<ft)throw new RangeError('"offset" is outside of buffer bounds');if(At.byteLength<ft+(mt||0))throw new RangeError('"length" is outside of buffer bounds');let Nt;return ft===void 0&&mt===void 0?Nt=new Uint8Array(At):mt===void 0?Nt=new Uint8Array(At,ft):Nt=new Uint8Array(At,ft,mt),Object.setPrototypeOf(Nt,rt.prototype),Nt}function bt(At){if(rt.isBuffer(At)){const ft=dt(At.length)|0,mt=tt(ft);return mt.length===0||At.copy(mt,0,0,ft),mt}if(At.length!==void 0)return typeof At.length!="number"||Jn(At.length)?tt(0):vt(At);if(At.type==="Buffer"&&Array.isArray(At.data))return vt(At.data)}function dt(At){if(At>=_e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_e.toString(16)+" bytes");return At|0}function xt(At){return+At!=At&&(At=0),rt.alloc(+At)}rt.isBuffer=function(ft){return ft!=null&&ft._isBuffer===!0&&ft!==rt.prototype},rt.compare=function(ft,mt){if(Gn(ft,Uint8Array)&&(ft=rt.from(ft,ft.offset,ft.byteLength)),Gn(mt,Uint8Array)&&(mt=rt.from(mt,mt.offset,mt.byteLength)),!rt.isBuffer(ft)||!rt.isBuffer(mt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ft===mt)return 0;let Nt=ft.length,Ft=mt.length;for(let zt=0,Zt=Math.min(Nt,Ft);zt<Zt;++zt)if(ft[zt]!==mt[zt]){Nt=ft[zt],Ft=mt[zt];break}return Nt<Ft?-1:Ft<Nt?1:0},rt.isEncoding=function(ft){switch(String(ft).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},rt.concat=function(ft,mt){if(!Array.isArray(ft))throw new TypeError('"list" argument must be an Array of Buffers');if(ft.length===0)return rt.alloc(0);let Nt;if(mt===void 0)for(mt=0,Nt=0;Nt<ft.length;++Nt)mt+=ft[Nt].length;const Ft=rt.allocUnsafe(mt);let zt=0;for(Nt=0;Nt<ft.length;++Nt){let Zt=ft[Nt];if(Gn(Zt,Uint8Array))zt+Zt.length>Ft.length?(rt.isBuffer(Zt)||(Zt=rt.from(Zt)),Zt.copy(Ft,zt)):Uint8Array.prototype.set.call(Ft,Zt,zt);else if(rt.isBuffer(Zt))Zt.copy(Ft,zt);else throw new TypeError('"list" argument must be an Array of Buffers');zt+=Zt.length}return Ft};function Tt(At,ft){if(rt.isBuffer(At))return At.length;if(ArrayBuffer.isView(At)||Gn(At,ArrayBuffer))return At.byteLength;if(typeof At!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof At);const mt=At.length,Nt=arguments.length>2&&arguments[2]===!0;if(!Nt&&mt===0)return 0;let Ft=!1;for(;;)switch(ft){case"ascii":case"latin1":case"binary":return mt;case"utf8":case"utf-8":return gn(At).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt*2;case"hex":return mt>>>1;case"base64":return bn(At).length;default:if(Ft)return Nt?-1:gn(At).length;ft=(""+ft).toLowerCase(),Ft=!0}}rt.byteLength=Tt;function Ct(At,ft,mt){let Nt=!1;if((ft===void 0||ft<0)&&(ft=0),ft>this.length||((mt===void 0||mt>this.length)&&(mt=this.length),mt<=0)||(mt>>>=0,ft>>>=0,mt<=ft))return"";for(At||(At="utf8");;)switch(At){case"hex":return Qt(this,ft,mt);case"utf8":case"utf-8":return qt(this,ft,mt);case"ascii":return pn(this,ft,mt);case"latin1":case"binary":return Kt(this,ft,mt);case"base64":return Jt(this,ft,mt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fn(this,ft,mt);default:if(Nt)throw new TypeError("Unknown encoding: "+At);At=(At+"").toLowerCase(),Nt=!0}}rt.prototype._isBuffer=!0;function Et(At,ft,mt){const Nt=At[ft];At[ft]=At[mt],At[mt]=Nt}rt.prototype.swap16=function(){const ft=this.length;if(ft%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let mt=0;mt<ft;mt+=2)Et(this,mt,mt+1);return this},rt.prototype.swap32=function(){const ft=this.length;if(ft%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let mt=0;mt<ft;mt+=4)Et(this,mt,mt+3),Et(this,mt+1,mt+2);return this},rt.prototype.swap64=function(){const ft=this.length;if(ft%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let mt=0;mt<ft;mt+=8)Et(this,mt,mt+7),Et(this,mt+1,mt+6),Et(this,mt+2,mt+5),Et(this,mt+3,mt+4);return this},rt.prototype.toString=function(){const ft=this.length;return ft===0?"":arguments.length===0?qt(this,0,ft):Ct.apply(this,arguments)},rt.prototype.toLocaleString=rt.prototype.toString,rt.prototype.equals=function(ft){if(!rt.isBuffer(ft))throw new TypeError("Argument must be a Buffer");return this===ft?!0:rt.compare(this,ft)===0},rt.prototype.inspect=function(){let ft="";const mt=a.INSPECT_MAX_BYTES;return ft=this.toString("hex",0,mt).replace(/(.{2})/g,"$1 ").trim(),this.length>mt&&(ft+=" ... "),"<Buffer "+ft+">"},j&&(rt.prototype[j]=rt.prototype.inspect),rt.prototype.compare=function(ft,mt,Nt,Ft,zt){if(Gn(ft,Uint8Array)&&(ft=rt.from(ft,ft.offset,ft.byteLength)),!rt.isBuffer(ft))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ft);if(mt===void 0&&(mt=0),Nt===void 0&&(Nt=ft?ft.length:0),Ft===void 0&&(Ft=0),zt===void 0&&(zt=this.length),mt<0||Nt>ft.length||Ft<0||zt>this.length)throw new RangeError("out of range index");if(Ft>=zt&&mt>=Nt)return 0;if(Ft>=zt)return-1;if(mt>=Nt)return 1;if(mt>>>=0,Nt>>>=0,Ft>>>=0,zt>>>=0,this===ft)return 0;let Zt=zt-Ft,An=Nt-mt;const Dn=Math.min(Zt,An),jn=this.slice(Ft,zt),qn=ft.slice(mt,Nt);for(let Wn=0;Wn<Dn;++Wn)if(jn[Wn]!==qn[Wn]){Zt=jn[Wn],An=qn[Wn];break}return Zt<An?-1:An<Zt?1:0};function St(At,ft,mt,Nt,Ft){if(At.length===0)return-1;if(typeof mt=="string"?(Nt=mt,mt=0):mt>2147483647?mt=2147483647:mt<-2147483648&&(mt=-2147483648),mt=+mt,Jn(mt)&&(mt=Ft?0:At.length-1),mt<0&&(mt=At.length+mt),mt>=At.length){if(Ft)return-1;mt=At.length-1}else if(mt<0)if(Ft)mt=0;else return-1;if(typeof ft=="string"&&(ft=rt.from(ft,Nt)),rt.isBuffer(ft))return ft.length===0?-1:gt(At,ft,mt,Nt,Ft);if(typeof ft=="number")return ft=ft&255,typeof Uint8Array.prototype.indexOf=="function"?Ft?Uint8Array.prototype.indexOf.call(At,ft,mt):Uint8Array.prototype.lastIndexOf.call(At,ft,mt):gt(At,[ft],mt,Nt,Ft);throw new TypeError("val must be string, number or Buffer")}function gt(At,ft,mt,Nt,Ft){let zt=1,Zt=At.length,An=ft.length;if(Nt!==void 0&&(Nt=String(Nt).toLowerCase(),Nt==="ucs2"||Nt==="ucs-2"||Nt==="utf16le"||Nt==="utf-16le")){if(At.length<2||ft.length<2)return-1;zt=2,Zt/=2,An/=2,mt/=2}function Dn(qn,Wn){return zt===1?qn[Wn]:qn.readUInt16BE(Wn*zt)}let jn;if(Ft){let qn=-1;for(jn=mt;jn<Zt;jn++)if(Dn(At,jn)===Dn(ft,qn===-1?0:jn-qn)){if(qn===-1&&(qn=jn),jn-qn+1===An)return qn*zt}else qn!==-1&&(jn-=jn-qn),qn=-1}else for(mt+An>Zt&&(mt=Zt-An),jn=mt;jn>=0;jn--){let qn=!0;for(let Wn=0;Wn<An;Wn++)if(Dn(At,jn+Wn)!==Dn(ft,Wn)){qn=!1;break}if(qn)return jn}return-1}rt.prototype.includes=function(ft,mt,Nt){return this.indexOf(ft,mt,Nt)!==-1},rt.prototype.indexOf=function(ft,mt,Nt){return St(this,ft,mt,Nt,!0)},rt.prototype.lastIndexOf=function(ft,mt,Nt){return St(this,ft,mt,Nt,!1)};function wt(At,ft,mt,Nt){mt=Number(mt)||0;const Ft=At.length-mt;Nt?(Nt=Number(Nt),Nt>Ft&&(Nt=Ft)):Nt=Ft;const zt=ft.length;Nt>zt/2&&(Nt=zt/2);let Zt;for(Zt=0;Zt<Nt;++Zt){const An=parseInt(ft.substr(Zt*2,2),16);if(Jn(An))return Zt;At[mt+Zt]=An}return Zt}function Mt(At,ft,mt,Nt){return On(gn(ft,At.length-mt),At,mt,Nt)}function Ot(At,ft,mt,Nt){return On(Rn(ft),At,mt,Nt)}function Lt(At,ft,mt,Nt){return On(bn(ft),At,mt,Nt)}function jt(At,ft,mt,Nt){return On(In(ft,At.length-mt),At,mt,Nt)}rt.prototype.write=function(ft,mt,Nt,Ft){if(mt===void 0)Ft="utf8",Nt=this.length,mt=0;else if(Nt===void 0&&typeof mt=="string")Ft=mt,Nt=this.length,mt=0;else if(isFinite(mt))mt=mt>>>0,isFinite(Nt)?(Nt=Nt>>>0,Ft===void 0&&(Ft="utf8")):(Ft=Nt,Nt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const zt=this.length-mt;if((Nt===void 0||Nt>zt)&&(Nt=zt),ft.length>0&&(Nt<0||mt<0)||mt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ft||(Ft="utf8");let Zt=!1;for(;;)switch(Ft){case"hex":return wt(this,ft,mt,Nt);case"utf8":case"utf-8":return Mt(this,ft,mt,Nt);case"ascii":case"latin1":case"binary":return Ot(this,ft,mt,Nt);case"base64":return Lt(this,ft,mt,Nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,ft,mt,Nt);default:if(Zt)throw new TypeError("Unknown encoding: "+Ft);Ft=(""+Ft).toLowerCase(),Zt=!0}},rt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Jt(At,ft,mt){return ft===0&&mt===At.length?o.fromByteArray(At):o.fromByteArray(At.slice(ft,mt))}function qt(At,ft,mt){mt=Math.min(At.length,mt);const Nt=[];let Ft=ft;for(;Ft<mt;){const zt=At[Ft];let Zt=null,An=zt>239?4:zt>223?3:zt>191?2:1;if(Ft+An<=mt){let Dn,jn,qn,Wn;switch(An){case 1:zt<128&&(Zt=zt);break;case 2:Dn=At[Ft+1],(Dn&192)===128&&(Wn=(zt&31)<<6|Dn&63,Wn>127&&(Zt=Wn));break;case 3:Dn=At[Ft+1],jn=At[Ft+2],(Dn&192)===128&&(jn&192)===128&&(Wn=(zt&15)<<12|(Dn&63)<<6|jn&63,Wn>2047&&(Wn<55296||Wn>57343)&&(Zt=Wn));break;case 4:Dn=At[Ft+1],jn=At[Ft+2],qn=At[Ft+3],(Dn&192)===128&&(jn&192)===128&&(qn&192)===128&&(Wn=(zt&15)<<18|(Dn&63)<<12|(jn&63)<<6|qn&63,Wn>65535&&Wn<1114112&&(Zt=Wn))}}Zt===null?(Zt=65533,An=1):Zt>65535&&(Zt-=65536,Nt.push(Zt>>>10&1023|55296),Zt=56320|Zt&1023),Nt.push(Zt),Ft+=An}return an(Nt)}const rn=4096;function an(At){const ft=At.length;if(ft<=rn)return String.fromCharCode.apply(String,At);let mt="",Nt=0;for(;Nt<ft;)mt+=String.fromCharCode.apply(String,At.slice(Nt,Nt+=rn));return mt}function pn(At,ft,mt){let Nt="";mt=Math.min(At.length,mt);for(let Ft=ft;Ft<mt;++Ft)Nt+=String.fromCharCode(At[Ft]&127);return Nt}function Kt(At,ft,mt){let Nt="";mt=Math.min(At.length,mt);for(let Ft=ft;Ft<mt;++Ft)Nt+=String.fromCharCode(At[Ft]);return Nt}function Qt(At,ft,mt){const Nt=At.length;(!ft||ft<0)&&(ft=0),(!mt||mt<0||mt>Nt)&&(mt=Nt);let Ft="";for(let zt=ft;zt<mt;++zt)Ft+=Xt[At[zt]];return Ft}function fn(At,ft,mt){const Nt=At.slice(ft,mt);let Ft="";for(let zt=0;zt<Nt.length-1;zt+=2)Ft+=String.fromCharCode(Nt[zt]+Nt[zt+1]*256);return Ft}rt.prototype.slice=function(ft,mt){const Nt=this.length;ft=~~ft,mt=mt===void 0?Nt:~~mt,ft<0?(ft+=Nt,ft<0&&(ft=0)):ft>Nt&&(ft=Nt),mt<0?(mt+=Nt,mt<0&&(mt=0)):mt>Nt&&(mt=Nt),mt<ft&&(mt=ft);const Ft=this.subarray(ft,mt);return Object.setPrototypeOf(Ft,rt.prototype),Ft};function ln(At,ft,mt){if(At%1!==0||At<0)throw new RangeError("offset is not uint");if(At+ft>mt)throw new RangeError("Trying to access beyond buffer length")}rt.prototype.readUintLE=rt.prototype.readUIntLE=function(ft,mt,Nt){ft=ft>>>0,mt=mt>>>0,Nt||ln(ft,mt,this.length);let Ft=this[ft],zt=1,Zt=0;for(;++Zt<mt&&(zt*=256);)Ft+=this[ft+Zt]*zt;return Ft},rt.prototype.readUintBE=rt.prototype.readUIntBE=function(ft,mt,Nt){ft=ft>>>0,mt=mt>>>0,Nt||ln(ft,mt,this.length);let Ft=this[ft+--mt],zt=1;for(;mt>0&&(zt*=256);)Ft+=this[ft+--mt]*zt;return Ft},rt.prototype.readUint8=rt.prototype.readUInt8=function(ft,mt){return ft=ft>>>0,mt||ln(ft,1,this.length),this[ft]},rt.prototype.readUint16LE=rt.prototype.readUInt16LE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,2,this.length),this[ft]|this[ft+1]<<8},rt.prototype.readUint16BE=rt.prototype.readUInt16BE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,2,this.length),this[ft]<<8|this[ft+1]},rt.prototype.readUint32LE=rt.prototype.readUInt32LE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),(this[ft]|this[ft+1]<<8|this[ft+2]<<16)+this[ft+3]*16777216},rt.prototype.readUint32BE=rt.prototype.readUInt32BE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),this[ft]*16777216+(this[ft+1]<<16|this[ft+2]<<8|this[ft+3])},rt.prototype.readBigUInt64LE=nn(function(ft){ft=ft>>>0,tn(ft,"offset");const mt=this[ft],Nt=this[ft+7];(mt===void 0||Nt===void 0)&&dn(ft,this.length-8);const Ft=mt+this[++ft]*2**8+this[++ft]*2**16+this[++ft]*2**24,zt=this[++ft]+this[++ft]*2**8+this[++ft]*2**16+Nt*2**24;return BigInt(Ft)+(BigInt(zt)<<BigInt(32))}),rt.prototype.readBigUInt64BE=nn(function(ft){ft=ft>>>0,tn(ft,"offset");const mt=this[ft],Nt=this[ft+7];(mt===void 0||Nt===void 0)&&dn(ft,this.length-8);const Ft=mt*2**24+this[++ft]*2**16+this[++ft]*2**8+this[++ft],zt=this[++ft]*2**24+this[++ft]*2**16+this[++ft]*2**8+Nt;return(BigInt(Ft)<<BigInt(32))+BigInt(zt)}),rt.prototype.readIntLE=function(ft,mt,Nt){ft=ft>>>0,mt=mt>>>0,Nt||ln(ft,mt,this.length);let Ft=this[ft],zt=1,Zt=0;for(;++Zt<mt&&(zt*=256);)Ft+=this[ft+Zt]*zt;return zt*=128,Ft>=zt&&(Ft-=Math.pow(2,8*mt)),Ft},rt.prototype.readIntBE=function(ft,mt,Nt){ft=ft>>>0,mt=mt>>>0,Nt||ln(ft,mt,this.length);let Ft=mt,zt=1,Zt=this[ft+--Ft];for(;Ft>0&&(zt*=256);)Zt+=this[ft+--Ft]*zt;return zt*=128,Zt>=zt&&(Zt-=Math.pow(2,8*mt)),Zt},rt.prototype.readInt8=function(ft,mt){return ft=ft>>>0,mt||ln(ft,1,this.length),this[ft]&128?(255-this[ft]+1)*-1:this[ft]},rt.prototype.readInt16LE=function(ft,mt){ft=ft>>>0,mt||ln(ft,2,this.length);const Nt=this[ft]|this[ft+1]<<8;return Nt&32768?Nt|4294901760:Nt},rt.prototype.readInt16BE=function(ft,mt){ft=ft>>>0,mt||ln(ft,2,this.length);const Nt=this[ft+1]|this[ft]<<8;return Nt&32768?Nt|4294901760:Nt},rt.prototype.readInt32LE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),this[ft]|this[ft+1]<<8|this[ft+2]<<16|this[ft+3]<<24},rt.prototype.readInt32BE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),this[ft]<<24|this[ft+1]<<16|this[ft+2]<<8|this[ft+3]},rt.prototype.readBigInt64LE=nn(function(ft){ft=ft>>>0,tn(ft,"offset");const mt=this[ft],Nt=this[ft+7];(mt===void 0||Nt===void 0)&&dn(ft,this.length-8);const Ft=this[ft+4]+this[ft+5]*2**8+this[ft+6]*2**16+(Nt<<24);return(BigInt(Ft)<<BigInt(32))+BigInt(mt+this[++ft]*2**8+this[++ft]*2**16+this[++ft]*2**24)}),rt.prototype.readBigInt64BE=nn(function(ft){ft=ft>>>0,tn(ft,"offset");const mt=this[ft],Nt=this[ft+7];(mt===void 0||Nt===void 0)&&dn(ft,this.length-8);const Ft=(mt<<24)+this[++ft]*2**16+this[++ft]*2**8+this[++ft];return(BigInt(Ft)<<BigInt(32))+BigInt(this[++ft]*2**24+this[++ft]*2**16+this[++ft]*2**8+Nt)}),rt.prototype.readFloatLE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),$.read(this,ft,!0,23,4)},rt.prototype.readFloatBE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,4,this.length),$.read(this,ft,!1,23,4)},rt.prototype.readDoubleLE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,8,this.length),$.read(this,ft,!0,52,8)},rt.prototype.readDoubleBE=function(ft,mt){return ft=ft>>>0,mt||ln(ft,8,this.length),$.read(this,ft,!1,52,8)};function vn(At,ft,mt,Nt,Ft,zt){if(!rt.isBuffer(At))throw new TypeError('"buffer" argument must be a Buffer instance');if(ft>Ft||ft<zt)throw new RangeError('"value" argument is out of bounds');if(mt+Nt>At.length)throw new RangeError("Index out of range")}rt.prototype.writeUintLE=rt.prototype.writeUIntLE=function(ft,mt,Nt,Ft){if(ft=+ft,mt=mt>>>0,Nt=Nt>>>0,!Ft){const An=Math.pow(2,8*Nt)-1;vn(this,ft,mt,Nt,An,0)}let zt=1,Zt=0;for(this[mt]=ft&255;++Zt<Nt&&(zt*=256);)this[mt+Zt]=ft/zt&255;return mt+Nt},rt.prototype.writeUintBE=rt.prototype.writeUIntBE=function(ft,mt,Nt,Ft){if(ft=+ft,mt=mt>>>0,Nt=Nt>>>0,!Ft){const An=Math.pow(2,8*Nt)-1;vn(this,ft,mt,Nt,An,0)}let zt=Nt-1,Zt=1;for(this[mt+zt]=ft&255;--zt>=0&&(Zt*=256);)this[mt+zt]=ft/Zt&255;return mt+Nt},rt.prototype.writeUint8=rt.prototype.writeUInt8=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,1,255,0),this[mt]=ft&255,mt+1},rt.prototype.writeUint16LE=rt.prototype.writeUInt16LE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,2,65535,0),this[mt]=ft&255,this[mt+1]=ft>>>8,mt+2},rt.prototype.writeUint16BE=rt.prototype.writeUInt16BE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,2,65535,0),this[mt]=ft>>>8,this[mt+1]=ft&255,mt+2},rt.prototype.writeUint32LE=rt.prototype.writeUInt32LE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,4,4294967295,0),this[mt+3]=ft>>>24,this[mt+2]=ft>>>16,this[mt+1]=ft>>>8,this[mt]=ft&255,mt+4},rt.prototype.writeUint32BE=rt.prototype.writeUInt32BE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,4,4294967295,0),this[mt]=ft>>>24,this[mt+1]=ft>>>16,this[mt+2]=ft>>>8,this[mt+3]=ft&255,mt+4};function Cn(At,ft,mt,Nt,Ft){$t(ft,Nt,Ft,At,mt,7);let zt=Number(ft&BigInt(4294967295));At[mt++]=zt,zt=zt>>8,At[mt++]=zt,zt=zt>>8,At[mt++]=zt,zt=zt>>8,At[mt++]=zt;let Zt=Number(ft>>BigInt(32)&BigInt(4294967295));return At[mt++]=Zt,Zt=Zt>>8,At[mt++]=Zt,Zt=Zt>>8,At[mt++]=Zt,Zt=Zt>>8,At[mt++]=Zt,mt}function kn(At,ft,mt,Nt,Ft){$t(ft,Nt,Ft,At,mt,7);let zt=Number(ft&BigInt(4294967295));At[mt+7]=zt,zt=zt>>8,At[mt+6]=zt,zt=zt>>8,At[mt+5]=zt,zt=zt>>8,At[mt+4]=zt;let Zt=Number(ft>>BigInt(32)&BigInt(4294967295));return At[mt+3]=Zt,Zt=Zt>>8,At[mt+2]=Zt,Zt=Zt>>8,At[mt+1]=Zt,Zt=Zt>>8,At[mt]=Zt,mt+8}rt.prototype.writeBigUInt64LE=nn(function(ft,mt=0){return Cn(this,ft,mt,BigInt(0),BigInt("0xffffffffffffffff"))}),rt.prototype.writeBigUInt64BE=nn(function(ft,mt=0){return kn(this,ft,mt,BigInt(0),BigInt("0xffffffffffffffff"))}),rt.prototype.writeIntLE=function(ft,mt,Nt,Ft){if(ft=+ft,mt=mt>>>0,!Ft){const Dn=Math.pow(2,8*Nt-1);vn(this,ft,mt,Nt,Dn-1,-Dn)}let zt=0,Zt=1,An=0;for(this[mt]=ft&255;++zt<Nt&&(Zt*=256);)ft<0&&An===0&&this[mt+zt-1]!==0&&(An=1),this[mt+zt]=(ft/Zt>>0)-An&255;return mt+Nt},rt.prototype.writeIntBE=function(ft,mt,Nt,Ft){if(ft=+ft,mt=mt>>>0,!Ft){const Dn=Math.pow(2,8*Nt-1);vn(this,ft,mt,Nt,Dn-1,-Dn)}let zt=Nt-1,Zt=1,An=0;for(this[mt+zt]=ft&255;--zt>=0&&(Zt*=256);)ft<0&&An===0&&this[mt+zt+1]!==0&&(An=1),this[mt+zt]=(ft/Zt>>0)-An&255;return mt+Nt},rt.prototype.writeInt8=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,1,127,-128),ft<0&&(ft=255+ft+1),this[mt]=ft&255,mt+1},rt.prototype.writeInt16LE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,2,32767,-32768),this[mt]=ft&255,this[mt+1]=ft>>>8,mt+2},rt.prototype.writeInt16BE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,2,32767,-32768),this[mt]=ft>>>8,this[mt+1]=ft&255,mt+2},rt.prototype.writeInt32LE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,4,2147483647,-2147483648),this[mt]=ft&255,this[mt+1]=ft>>>8,this[mt+2]=ft>>>16,this[mt+3]=ft>>>24,mt+4},rt.prototype.writeInt32BE=function(ft,mt,Nt){return ft=+ft,mt=mt>>>0,Nt||vn(this,ft,mt,4,2147483647,-2147483648),ft<0&&(ft=4294967295+ft+1),this[mt]=ft>>>24,this[mt+1]=ft>>>16,this[mt+2]=ft>>>8,this[mt+3]=ft&255,mt+4},rt.prototype.writeBigInt64LE=nn(function(ft,mt=0){return Cn(this,ft,mt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),rt.prototype.writeBigInt64BE=nn(function(ft,mt=0){return kn(this,ft,mt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _n(At,ft,mt,Nt,Ft,zt){if(mt+Nt>At.length)throw new RangeError("Index out of range");if(mt<0)throw new RangeError("Index out of range")}function Ut(At,ft,mt,Nt,Ft){return ft=+ft,mt=mt>>>0,Ft||_n(At,ft,mt,4),$.write(At,ft,mt,Nt,23,4),mt+4}rt.prototype.writeFloatLE=function(ft,mt,Nt){return Ut(this,ft,mt,!0,Nt)},rt.prototype.writeFloatBE=function(ft,mt,Nt){return Ut(this,ft,mt,!1,Nt)};function Vt(At,ft,mt,Nt,Ft){return ft=+ft,mt=mt>>>0,Ft||_n(At,ft,mt,8),$.write(At,ft,mt,Nt,52,8),mt+8}rt.prototype.writeDoubleLE=function(ft,mt,Nt){return Vt(this,ft,mt,!0,Nt)},rt.prototype.writeDoubleBE=function(ft,mt,Nt){return Vt(this,ft,mt,!1,Nt)},rt.prototype.copy=function(ft,mt,Nt,Ft){if(!rt.isBuffer(ft))throw new TypeError("argument should be a Buffer");if(Nt||(Nt=0),!Ft&&Ft!==0&&(Ft=this.length),mt>=ft.length&&(mt=ft.length),mt||(mt=0),Ft>0&&Ft<Nt&&(Ft=Nt),Ft===Nt||ft.length===0||this.length===0)return 0;if(mt<0)throw new RangeError("targetStart out of bounds");if(Nt<0||Nt>=this.length)throw new RangeError("Index out of range");if(Ft<0)throw new RangeError("sourceEnd out of bounds");Ft>this.length&&(Ft=this.length),ft.length-mt<Ft-Nt&&(Ft=ft.length-mt+Nt);const zt=Ft-Nt;return this===ft&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(mt,Nt,Ft):Uint8Array.prototype.set.call(ft,this.subarray(Nt,Ft),mt),zt},rt.prototype.fill=function(ft,mt,Nt,Ft){if(typeof ft=="string"){if(typeof mt=="string"?(Ft=mt,mt=0,Nt=this.length):typeof Nt=="string"&&(Ft=Nt,Nt=this.length),Ft!==void 0&&typeof Ft!="string")throw new TypeError("encoding must be a string");if(typeof Ft=="string"&&!rt.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);if(ft.length===1){const Zt=ft.charCodeAt(0);(Ft==="utf8"&&Zt<128||Ft==="latin1")&&(ft=Zt)}}else typeof ft=="number"?ft=ft&255:typeof ft=="boolean"&&(ft=Number(ft));if(mt<0||this.length<mt||this.length<Nt)throw new RangeError("Out of range index");if(Nt<=mt)return this;mt=mt>>>0,Nt=Nt===void 0?this.length:Nt>>>0,ft||(ft=0);let zt;if(typeof ft=="number")for(zt=mt;zt<Nt;++zt)this[zt]=ft;else{const Zt=rt.isBuffer(ft)?ft:rt.from(ft,Ft),An=Zt.length;if(An===0)throw new TypeError('The value "'+ft+'" is invalid for argument "value"');for(zt=0;zt<Nt-mt;++zt)this[zt+mt]=Zt[zt%An]}return this};const Ht={};function yn(At,ft,mt){Ht[At]=class extends mt{constructor(){super(),Object.defineProperty(this,"message",{value:ft.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${At}]`,this.stack,delete this.name}get code(){return At}set code(Ft){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ft,writable:!0})}toString(){return`${this.name} [${At}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(At){return At?`${At} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(At,ft){return`The "${At}" argument must be of type number. Received type ${typeof ft}`},TypeError),yn("ERR_OUT_OF_RANGE",function(At,ft,mt){let Nt=`The value of "${At}" is out of range.`,Ft=mt;return Number.isInteger(mt)&&Math.abs(mt)>2**32?Ft=En(String(mt)):typeof mt=="bigint"&&(Ft=String(mt),(mt>BigInt(2)**BigInt(32)||mt<-(BigInt(2)**BigInt(32)))&&(Ft=En(Ft)),Ft+="n"),Nt+=` It must be ${ft}. Received ${Ft}`,Nt},RangeError);function En(At){let ft="",mt=At.length;const Nt=At[0]==="-"?1:0;for(;mt>=Nt+4;mt-=3)ft=`_${At.slice(mt-3,mt)}${ft}`;return`${At.slice(0,mt)}${ft}`}function Rt(At,ft,mt){tn(ft,"offset"),(At[ft]===void 0||At[ft+mt]===void 0)&&dn(ft,At.length-(mt+1))}function $t(At,ft,mt,Nt,Ft,zt){if(At>mt||At<ft){const Zt=typeof ft=="bigint"?"n":"";let An;throw zt>3?ft===0||ft===BigInt(0)?An=`>= 0${Zt} and < 2${Zt} ** ${(zt+1)*8}${Zt}`:An=`>= -(2${Zt} ** ${(zt+1)*8-1}${Zt}) and < 2 ** ${(zt+1)*8-1}${Zt}`:An=`>= ${ft}${Zt} and <= ${mt}${Zt}`,new Ht.ERR_OUT_OF_RANGE("value",An,At)}Rt(Nt,Ft,zt)}function tn(At,ft){if(typeof At!="number")throw new Ht.ERR_INVALID_ARG_TYPE(ft,"number",At)}function dn(At,ft,mt){throw Math.floor(At)!==At?(tn(At,mt),new Ht.ERR_OUT_OF_RANGE(mt||"offset","an integer",At)):ft<0?new Ht.ERR_BUFFER_OUT_OF_BOUNDS:new Ht.ERR_OUT_OF_RANGE(mt||"offset",`>= ${mt?1:0} and <= ${ft}`,At)}const en=/[^+/0-9A-Za-z-_]/g;function mn(At){if(At=At.split("=")[0],At=At.trim().replace(en,""),At.length<2)return"";for(;At.length%4!==0;)At=At+"=";return At}function gn(At,ft){ft=ft||1/0;let mt;const Nt=At.length;let Ft=null;const zt=[];for(let Zt=0;Zt<Nt;++Zt){if(mt=At.charCodeAt(Zt),mt>55295&&mt<57344){if(!Ft){if(mt>56319){(ft-=3)>-1&&zt.push(239,191,189);continue}else if(Zt+1===Nt){(ft-=3)>-1&&zt.push(239,191,189);continue}Ft=mt;continue}if(mt<56320){(ft-=3)>-1&&zt.push(239,191,189),Ft=mt;continue}mt=(Ft-55296<<10|mt-56320)+65536}else Ft&&(ft-=3)>-1&&zt.push(239,191,189);if(Ft=null,mt<128){if((ft-=1)<0)break;zt.push(mt)}else if(mt<2048){if((ft-=2)<0)break;zt.push(mt>>6|192,mt&63|128)}else if(mt<65536){if((ft-=3)<0)break;zt.push(mt>>12|224,mt>>6&63|128,mt&63|128)}else if(mt<1114112){if((ft-=4)<0)break;zt.push(mt>>18|240,mt>>12&63|128,mt>>6&63|128,mt&63|128)}else throw new Error("Invalid code point")}return zt}function Rn(At){const ft=[];for(let mt=0;mt<At.length;++mt)ft.push(At.charCodeAt(mt)&255);return ft}function In(At,ft){let mt,Nt,Ft;const zt=[];for(let Zt=0;Zt<At.length&&!((ft-=2)<0);++Zt)mt=At.charCodeAt(Zt),Nt=mt>>8,Ft=mt%256,zt.push(Ft),zt.push(Nt);return zt}function bn(At){return o.toByteArray(mn(At))}function On(At,ft,mt,Nt){let Ft;for(Ft=0;Ft<Nt&&!(Ft+mt>=ft.length||Ft>=At.length);++Ft)ft[Ft+mt]=At[Ft];return Ft}function Gn(At,ft){return At instanceof ft||At!=null&&At.constructor!=null&&At.constructor.name!=null&&At.constructor.name===ft.name}function Jn(At){return At!==At}const Xt=function(){const At="0123456789abcdef",ft=new Array(256);for(let mt=0;mt<16;++mt){const Nt=mt*16;for(let Ft=0;Ft<16;++Ft)ft[Nt+Ft]=At[mt]+At[Ft]}return ft}();function nn(At){return typeof BigInt>"u"?Tn:At}function Tn(){throw new Error("BigInt not supported")}})(buffer);const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(ht,yt){var bt=Object.keys(ht);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(ht);yt&&(dt=dt.filter(function(xt){return Object.getOwnPropertyDescriptor(ht,xt).enumerable})),bt.push.apply(bt,dt)}return bt}function o(ht){for(var yt=1;yt<arguments.length;yt++){var bt=arguments[yt]!=null?arguments[yt]:{};yt%2?a(Object(bt),!0).forEach(function(dt){$(ht,dt,bt[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(bt)):a(Object(bt)).forEach(function(dt){Object.defineProperty(ht,dt,Object.getOwnPropertyDescriptor(bt,dt))})}return ht}function $(ht,yt,bt){return yt=tt(yt),yt in ht?Object.defineProperty(ht,yt,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ht[yt]=bt,ht}function j(ht,yt){if(!(ht instanceof yt))throw new TypeError("Cannot call a class as a function")}function _e(ht,yt){for(var bt=0;bt<yt.length;bt++){var dt=yt[bt];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ht,tt(dt.key),dt)}}function et(ht,yt,bt){return yt&&_e(ht.prototype,yt),bt&&_e(ht,bt),Object.defineProperty(ht,"prototype",{writable:!1}),ht}function tt(ht){var yt=rt(ht,"string");return typeof yt=="symbol"?yt:String(yt)}function rt(ht,yt){if(typeof ht!="object"||ht===null)return ht;var bt=ht[Symbol.toPrimitive];if(bt!==void 0){var dt=bt.call(ht,yt||"default");if(typeof dt!="object")return dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(yt==="string"?String:Number)(ht)}var ot=buffer,st=ot.Buffer,at=require$$3,ut=at.inspect,ct=ut&&ut.custom||"inspect";function vt(ht,yt,bt){st.prototype.copy.call(ht,yt,bt)}return buffer_list=function(){function ht(){j(this,ht),this.head=null,this.tail=null,this.length=0}return et(ht,[{key:"push",value:function(bt){var dt={data:bt,next:null};this.length>0?this.tail.next=dt:this.head=dt,this.tail=dt,++this.length}},{key:"unshift",value:function(bt){var dt={data:bt,next:this.head};this.length===0&&(this.tail=dt),this.head=dt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var bt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,bt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(bt){if(this.length===0)return"";for(var dt=this.head,xt=""+dt.data;dt=dt.next;)xt+=bt+dt.data;return xt}},{key:"concat",value:function(bt){if(this.length===0)return st.alloc(0);for(var dt=st.allocUnsafe(bt>>>0),xt=this.head,Tt=0;xt;)vt(xt.data,dt,Tt),Tt+=xt.data.length,xt=xt.next;return dt}},{key:"consume",value:function(bt,dt){var xt;return bt<this.head.data.length?(xt=this.head.data.slice(0,bt),this.head.data=this.head.data.slice(bt)):bt===this.head.data.length?xt=this.shift():xt=dt?this._getString(bt):this._getBuffer(bt),xt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(bt){var dt=this.head,xt=1,Tt=dt.data;for(bt-=Tt.length;dt=dt.next;){var Ct=dt.data,Et=bt>Ct.length?Ct.length:bt;if(Et===Ct.length?Tt+=Ct:Tt+=Ct.slice(0,bt),bt-=Et,bt===0){Et===Ct.length?(++xt,dt.next?this.head=dt.next:this.head=this.tail=null):(this.head=dt,dt.data=Ct.slice(Et));break}++xt}return this.length-=xt,Tt}},{key:"_getBuffer",value:function(bt){var dt=st.allocUnsafe(bt),xt=this.head,Tt=1;for(xt.data.copy(dt),bt-=xt.data.length;xt=xt.next;){var Ct=xt.data,Et=bt>Ct.length?Ct.length:bt;if(Ct.copy(dt,dt.length-bt,0,Et),bt-=Et,bt===0){Et===Ct.length?(++Tt,xt.next?this.head=xt.next:this.head=this.tail=null):(this.head=xt,xt.data=Ct.slice(Et));break}++Tt}return this.length-=Tt,dt}},{key:ct,value:function(bt,dt){return ut(this,o(o({},dt),{},{depth:0,customInspect:!1}))}}]),ht}(),buffer_list}function destroy(a,o){var $=this,j=this._readableState&&this._readableState.destroyed,_e=this._writableState&&this._writableState.destroyed;return j||_e?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorNT,this,a)):browser$1$1.nextTick(emitErrorNT,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(et){!o&&et?$._writableState?$._writableState.errorEmitted?browser$1$1.nextTick(emitCloseNT,$):($._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorAndCloseNT,$,et)):browser$1$1.nextTick(emitErrorAndCloseNT,$,et):o?(browser$1$1.nextTick(emitCloseNT,$),o(et)):browser$1$1.nextTick(emitCloseNT,$)}),this)}function emitErrorAndCloseNT(a,o){emitErrorNT(a,o),emitCloseNT(a)}function emitCloseNT(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(a,o){a.emit("error",o)}function errorOrDestroy(a,o){var $=a._readableState,j=a._writableState;$&&$.autoDestroy||j&&j.autoDestroy?a.destroy(o):a.emit("error",o)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o}var codes={};function createErrorType(a,o,$){$||($=Error);function j(et,tt,rt){return typeof o=="string"?o:o(et,tt,rt)}var _e=function(et){_inheritsLoose(tt,et);function tt(rt,ot,st){return et.call(this,j(rt,ot,st))||this}return tt}($);_e.prototype.name=$.name,_e.prototype.code=a,codes[a]=_e}function oneOf(a,o){if(Array.isArray(a)){var $=a.length;return a=a.map(function(j){return String(j)}),$>2?"one of ".concat(o," ").concat(a.slice(0,$-1).join(", "),", or ")+a[$-1]:$===2?"one of ".concat(o," ").concat(a[0]," or ").concat(a[1]):"of ".concat(o," ").concat(a[0])}else return"of ".concat(o," ").concat(String(a))}function startsWith(a,o,$){return a.substr(!$||$<0?0:+$,o.length)===o}function endsWith(a,o,$){return($===void 0||$>a.length)&&($=a.length),a.substring($-o.length,$)===o}function includes(a,o,$){return typeof $!="number"&&($=0),$+o.length>a.length?!1:a.indexOf(o,$)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(a,o){return'The value "'+o+'" is invalid for option "'+a+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(a,o,$){var j;typeof o=="string"&&startsWith(o,"not ")?(j="must not be",o=o.replace(/^not /,"")):j="must be";var _e;if(endsWith(a," argument"))_e="The ".concat(a," ").concat(j," ").concat(oneOf(o,"type"));else{var et=includes(a,".")?"property":"argument";_e='The "'.concat(a,'" ').concat(et," ").concat(j," ").concat(oneOf(o,"type"))}return _e+=". Received type ".concat(typeof $),_e},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(a,o,$){return a.highWaterMark!=null?a.highWaterMark:o?a[$]:null}function getHighWaterMark(a,o,$,j){var _e=highWaterMarkFrom(o,j,$);if(_e!=null){if(!(isFinite(_e)&&Math.floor(_e)===_e)||_e<0){var et=j?$:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(et,_e)}return Math.floor(_e)}return a.objectMode?16:16*1024}var state={getHighWaterMark},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(o,$){$&&(o.super_=$,o.prototype=Object.create($.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(o,$){if($){o.super_=$;var j=function(){};j.prototype=$.prototype,o.prototype=new j,o.prototype.constructor=o}};var inherits_browserExports=inherits_browser.exports,browser=deprecate;function deprecate(a,o){if(config("noDeprecation"))return a;var $=!1;function j(){if(!$){if(config("throwDeprecation"))throw new Error(o);config("traceDeprecation")?console.trace(o):console.warn(o),$=!0}return a.apply(this,arguments)}return j}function config(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var o=commonjsGlobal.localStorage[a];return o==null?!1:String(o).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=wt;function a(Ut){var Vt=this;this.next=null,this.entry=null,this.finish=function(){_n(Vt,Ut)}}var o;wt.WritableState=St;var $={deprecate:browser},j=streamBrowser,_e=buffer.Buffer,et=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tt(Ut){return _e.from(Ut)}function rt(Ut){return _e.isBuffer(Ut)||Ut instanceof et}var ot=destroy_1,st=state,at=st.getHighWaterMark,ut=errorsBrowser.codes,ct=ut.ERR_INVALID_ARG_TYPE,vt=ut.ERR_METHOD_NOT_IMPLEMENTED,ht=ut.ERR_MULTIPLE_CALLBACK,yt=ut.ERR_STREAM_CANNOT_PIPE,bt=ut.ERR_STREAM_DESTROYED,dt=ut.ERR_STREAM_NULL_VALUES,xt=ut.ERR_STREAM_WRITE_AFTER_END,Tt=ut.ERR_UNKNOWN_ENCODING,Ct=ot.errorOrDestroy;inherits_browserExports(wt,j);function Et(){}function St(Ut,Vt,Ht){o=o||require_stream_duplex(),Ut=Ut||{},typeof Ht!="boolean"&&(Ht=Vt instanceof o),this.objectMode=!!Ut.objectMode,Ht&&(this.objectMode=this.objectMode||!!Ut.writableObjectMode),this.highWaterMark=at(this,Ut,"writableHighWaterMark",Ht),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var yn=Ut.decodeStrings===!1;this.decodeStrings=!yn,this.defaultEncoding=Ut.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(En){an(Vt,En)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ut.emitClose!==!1,this.autoDestroy=!!Ut.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}St.prototype.getBuffer=function(){for(var Vt=this.bufferedRequest,Ht=[];Vt;)Ht.push(Vt),Vt=Vt.next;return Ht},function(){try{Object.defineProperty(St.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var gt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(Vt){return gt.call(this,Vt)?!0:this!==wt?!1:Vt&&Vt._writableState instanceof St}})):gt=function(Vt){return Vt instanceof this};function wt(Ut){o=o||require_stream_duplex();var Vt=this instanceof o;if(!Vt&&!gt.call(wt,this))return new wt(Ut);this._writableState=new St(Ut,this,Vt),this.writable=!0,Ut&&(typeof Ut.write=="function"&&(this._write=Ut.write),typeof Ut.writev=="function"&&(this._writev=Ut.writev),typeof Ut.destroy=="function"&&(this._destroy=Ut.destroy),typeof Ut.final=="function"&&(this._final=Ut.final)),j.call(this)}wt.prototype.pipe=function(){Ct(this,new yt)};function Mt(Ut,Vt){var Ht=new xt;Ct(Ut,Ht),browser$1$1.nextTick(Vt,Ht)}function Ot(Ut,Vt,Ht,yn){var En;return Ht===null?En=new dt:typeof Ht!="string"&&!Vt.objectMode&&(En=new ct("chunk",["string","Buffer"],Ht)),En?(Ct(Ut,En),browser$1$1.nextTick(yn,En),!1):!0}wt.prototype.write=function(Ut,Vt,Ht){var yn=this._writableState,En=!1,Rt=!yn.objectMode&&rt(Ut);return Rt&&!_e.isBuffer(Ut)&&(Ut=tt(Ut)),typeof Vt=="function"&&(Ht=Vt,Vt=null),Rt?Vt="buffer":Vt||(Vt=yn.defaultEncoding),typeof Ht!="function"&&(Ht=Et),yn.ending?Mt(this,Ht):(Rt||Ot(this,yn,Ut,Ht))&&(yn.pendingcb++,En=jt(this,yn,Rt,Ut,Vt,Ht)),En},wt.prototype.cork=function(){this._writableState.corked++},wt.prototype.uncork=function(){var Ut=this._writableState;Ut.corked&&(Ut.corked--,!Ut.writing&&!Ut.corked&&!Ut.bufferProcessing&&Ut.bufferedRequest&&Qt(this,Ut))},wt.prototype.setDefaultEncoding=function(Vt){if(typeof Vt=="string"&&(Vt=Vt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Vt+"").toLowerCase())>-1))throw new Tt(Vt);return this._writableState.defaultEncoding=Vt,this},Object.defineProperty(wt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Lt(Ut,Vt,Ht){return!Ut.objectMode&&Ut.decodeStrings!==!1&&typeof Vt=="string"&&(Vt=_e.from(Vt,Ht)),Vt}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function jt(Ut,Vt,Ht,yn,En,Rt){if(!Ht){var $t=Lt(Vt,yn,En);yn!==$t&&(Ht=!0,En="buffer",yn=$t)}var tn=Vt.objectMode?1:yn.length;Vt.length+=tn;var dn=Vt.length<Vt.highWaterMark;if(dn||(Vt.needDrain=!0),Vt.writing||Vt.corked){var en=Vt.lastBufferedRequest;Vt.lastBufferedRequest={chunk:yn,encoding:En,isBuf:Ht,callback:Rt,next:null},en?en.next=Vt.lastBufferedRequest:Vt.bufferedRequest=Vt.lastBufferedRequest,Vt.bufferedRequestCount+=1}else Jt(Ut,Vt,!1,tn,yn,En,Rt);return dn}function Jt(Ut,Vt,Ht,yn,En,Rt,$t){Vt.writelen=yn,Vt.writecb=$t,Vt.writing=!0,Vt.sync=!0,Vt.destroyed?Vt.onwrite(new bt("write")):Ht?Ut._writev(En,Vt.onwrite):Ut._write(En,Rt,Vt.onwrite),Vt.sync=!1}function qt(Ut,Vt,Ht,yn,En){--Vt.pendingcb,Ht?(browser$1$1.nextTick(En,yn),browser$1$1.nextTick(Cn,Ut,Vt),Ut._writableState.errorEmitted=!0,Ct(Ut,yn)):(En(yn),Ut._writableState.errorEmitted=!0,Ct(Ut,yn),Cn(Ut,Vt))}function rn(Ut){Ut.writing=!1,Ut.writecb=null,Ut.length-=Ut.writelen,Ut.writelen=0}function an(Ut,Vt){var Ht=Ut._writableState,yn=Ht.sync,En=Ht.writecb;if(typeof En!="function")throw new ht;if(rn(Ht),Vt)qt(Ut,Ht,yn,Vt,En);else{var Rt=fn(Ht)||Ut.destroyed;!Rt&&!Ht.corked&&!Ht.bufferProcessing&&Ht.bufferedRequest&&Qt(Ut,Ht),yn?browser$1$1.nextTick(pn,Ut,Ht,Rt,En):pn(Ut,Ht,Rt,En)}}function pn(Ut,Vt,Ht,yn){Ht||Kt(Ut,Vt),Vt.pendingcb--,yn(),Cn(Ut,Vt)}function Kt(Ut,Vt){Vt.length===0&&Vt.needDrain&&(Vt.needDrain=!1,Ut.emit("drain"))}function Qt(Ut,Vt){Vt.bufferProcessing=!0;var Ht=Vt.bufferedRequest;if(Ut._writev&&Ht&&Ht.next){var yn=Vt.bufferedRequestCount,En=new Array(yn),Rt=Vt.corkedRequestsFree;Rt.entry=Ht;for(var $t=0,tn=!0;Ht;)En[$t]=Ht,Ht.isBuf||(tn=!1),Ht=Ht.next,$t+=1;En.allBuffers=tn,Jt(Ut,Vt,!0,Vt.length,En,"",Rt.finish),Vt.pendingcb++,Vt.lastBufferedRequest=null,Rt.next?(Vt.corkedRequestsFree=Rt.next,Rt.next=null):Vt.corkedRequestsFree=new a(Vt),Vt.bufferedRequestCount=0}else{for(;Ht;){var dn=Ht.chunk,en=Ht.encoding,mn=Ht.callback,gn=Vt.objectMode?1:dn.length;if(Jt(Ut,Vt,!1,gn,dn,en,mn),Ht=Ht.next,Vt.bufferedRequestCount--,Vt.writing)break}Ht===null&&(Vt.lastBufferedRequest=null)}Vt.bufferedRequest=Ht,Vt.bufferProcessing=!1}wt.prototype._write=function(Ut,Vt,Ht){Ht(new vt("_write()"))},wt.prototype._writev=null,wt.prototype.end=function(Ut,Vt,Ht){var yn=this._writableState;return typeof Ut=="function"?(Ht=Ut,Ut=null,Vt=null):typeof Vt=="function"&&(Ht=Vt,Vt=null),Ut!=null&&this.write(Ut,Vt),yn.corked&&(yn.corked=1,this.uncork()),yn.ending||kn(this,yn,Ht),this},Object.defineProperty(wt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fn(Ut){return Ut.ending&&Ut.length===0&&Ut.bufferedRequest===null&&!Ut.finished&&!Ut.writing}function ln(Ut,Vt){Ut._final(function(Ht){Vt.pendingcb--,Ht&&Ct(Ut,Ht),Vt.prefinished=!0,Ut.emit("prefinish"),Cn(Ut,Vt)})}function vn(Ut,Vt){!Vt.prefinished&&!Vt.finalCalled&&(typeof Ut._final=="function"&&!Vt.destroyed?(Vt.pendingcb++,Vt.finalCalled=!0,browser$1$1.nextTick(ln,Ut,Vt)):(Vt.prefinished=!0,Ut.emit("prefinish")))}function Cn(Ut,Vt){var Ht=fn(Vt);if(Ht&&(vn(Ut,Vt),Vt.pendingcb===0&&(Vt.finished=!0,Ut.emit("finish"),Vt.autoDestroy))){var yn=Ut._readableState;(!yn||yn.autoDestroy&&yn.endEmitted)&&Ut.destroy()}return Ht}function kn(Ut,Vt,Ht){Vt.ending=!0,Cn(Ut,Vt),Ht&&(Vt.finished?browser$1$1.nextTick(Ht):Ut.once("finish",Ht)),Vt.ended=!0,Ut.writable=!1}function _n(Ut,Vt,Ht){var yn=Ut.entry;for(Ut.entry=null;yn;){var En=yn.callback;Vt.pendingcb--,En(Ht),yn=yn.next}Vt.corkedRequestsFree.next=Ut}return Object.defineProperty(wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Vt){this._writableState&&(this._writableState.destroyed=Vt)}}),wt.prototype.destroy=ot.destroy,wt.prototype._undestroy=ot.undestroy,wt.prototype._destroy=function(Ut,Vt){Vt(Ut)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=Object.keys||function(st){var at=[];for(var ut in st)at.push(ut);return at};_stream_duplex=tt;var o=require_stream_readable(),$=require_stream_writable();inherits_browserExports(tt,o);for(var j=a($.prototype),_e=0;_e<j.length;_e++){var et=j[_e];tt.prototype[et]||(tt.prototype[et]=$.prototype[et])}function tt(st){if(!(this instanceof tt))return new tt(st);o.call(this,st),$.call(this,st),this.allowHalfOpen=!0,st&&(st.readable===!1&&(this.readable=!1),st.writable===!1&&(this.writable=!1),st.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",rt)))}Object.defineProperty(tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rt(){this._writableState.ended||browser$1$1.nextTick(ot,this)}function ot(st){st.end()}return Object.defineProperty(tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(at){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=at,this._writableState.destroyed=at)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(a,o){var $=buffer,j=$.Buffer;function _e(tt,rt){for(var ot in tt)rt[ot]=tt[ot]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?a.exports=$:(_e($,o),o.Buffer=et);function et(tt,rt,ot){return j(tt,rt,ot)}et.prototype=Object.create(j.prototype),_e(j,et),et.from=function(tt,rt,ot){if(typeof tt=="number")throw new TypeError("Argument must not be a number");return j(tt,rt,ot)},et.alloc=function(tt,rt,ot){if(typeof tt!="number")throw new TypeError("Argument must be a number");var st=j(tt);return rt!==void 0?typeof ot=="string"?st.fill(rt,ot):st.fill(rt):st.fill(0),st},et.allocUnsafe=function(tt){if(typeof tt!="number")throw new TypeError("Argument must be a number");return j(tt)},et.allocUnsafeSlow=function(tt){if(typeof tt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(tt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=requireSafeBuffer().Buffer,o=a.isEncoding||function(dt){switch(dt=""+dt,dt&&dt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $(dt){if(!dt)return"utf8";for(var xt;;)switch(dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return dt;default:if(xt)return;dt=(""+dt).toLowerCase(),xt=!0}}function j(dt){var xt=$(dt);if(typeof xt!="string"&&(a.isEncoding===o||!o(dt)))throw new Error("Unknown encoding: "+dt);return xt||dt}string_decoder.StringDecoder=_e;function _e(dt){this.encoding=j(dt);var xt;switch(this.encoding){case"utf16le":this.text=ut,this.end=ct,xt=4;break;case"utf8":this.fillLast=ot,xt=4;break;case"base64":this.text=vt,this.end=ht,xt=3;break;default:this.write=yt,this.end=bt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(xt)}_e.prototype.write=function(dt){if(dt.length===0)return"";var xt,Tt;if(this.lastNeed){if(xt=this.fillLast(dt),xt===void 0)return"";Tt=this.lastNeed,this.lastNeed=0}else Tt=0;return Tt<dt.length?xt?xt+this.text(dt,Tt):this.text(dt,Tt):xt||""},_e.prototype.end=at,_e.prototype.text=st,_e.prototype.fillLast=function(dt){if(this.lastNeed<=dt.length)return dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,dt.length),this.lastNeed-=dt.length};function et(dt){return dt<=127?0:dt>>5===6?2:dt>>4===14?3:dt>>3===30?4:dt>>6===2?-1:-2}function tt(dt,xt,Tt){var Ct=xt.length-1;if(Ct<Tt)return 0;var Et=et(xt[Ct]);return Et>=0?(Et>0&&(dt.lastNeed=Et-1),Et):--Ct<Tt||Et===-2?0:(Et=et(xt[Ct]),Et>=0?(Et>0&&(dt.lastNeed=Et-2),Et):--Ct<Tt||Et===-2?0:(Et=et(xt[Ct]),Et>=0?(Et>0&&(Et===2?Et=0:dt.lastNeed=Et-3),Et):0))}function rt(dt,xt,Tt){if((xt[0]&192)!==128)return dt.lastNeed=0,"�";if(dt.lastNeed>1&&xt.length>1){if((xt[1]&192)!==128)return dt.lastNeed=1,"�";if(dt.lastNeed>2&&xt.length>2&&(xt[2]&192)!==128)return dt.lastNeed=2,"�"}}function ot(dt){var xt=this.lastTotal-this.lastNeed,Tt=rt(this,dt);if(Tt!==void 0)return Tt;if(this.lastNeed<=dt.length)return dt.copy(this.lastChar,xt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);dt.copy(this.lastChar,xt,0,dt.length),this.lastNeed-=dt.length}function st(dt,xt){var Tt=tt(this,dt,xt);if(!this.lastNeed)return dt.toString("utf8",xt);this.lastTotal=Tt;var Ct=dt.length-(Tt-this.lastNeed);return dt.copy(this.lastChar,0,Ct),dt.toString("utf8",xt,Ct)}function at(dt){var xt=dt&&dt.length?this.write(dt):"";return this.lastNeed?xt+"�":xt}function ut(dt,xt){if((dt.length-xt)%2===0){var Tt=dt.toString("utf16le",xt);if(Tt){var Ct=Tt.charCodeAt(Tt.length-1);if(Ct>=55296&&Ct<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=dt[dt.length-2],this.lastChar[1]=dt[dt.length-1],Tt.slice(0,-1)}return Tt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=dt[dt.length-1],dt.toString("utf16le",xt,dt.length-1)}function ct(dt){var xt=dt&&dt.length?this.write(dt):"";if(this.lastNeed){var Tt=this.lastTotal-this.lastNeed;return xt+this.lastChar.toString("utf16le",0,Tt)}return xt}function vt(dt,xt){var Tt=(dt.length-xt)%3;return Tt===0?dt.toString("base64",xt):(this.lastNeed=3-Tt,this.lastTotal=3,Tt===1?this.lastChar[0]=dt[dt.length-1]:(this.lastChar[0]=dt[dt.length-2],this.lastChar[1]=dt[dt.length-1]),dt.toString("base64",xt,dt.length-Tt))}function ht(dt){var xt=dt&&dt.length?this.write(dt):"";return this.lastNeed?xt+this.lastChar.toString("base64",0,3-this.lastNeed):xt}function yt(dt){return dt.toString(this.encoding)}function bt(dt){return dt&&dt.length?this.write(dt):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(a){var o=!1;return function(){if(!o){o=!0;for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];a.apply(this,j)}}}function noop$1(){}function isRequest$1(a){return a.setHeader&&typeof a.abort=="function"}function eos$1(a,o,$){if(typeof o=="function")return eos$1(a,null,o);o||(o={}),$=once$1($||noop$1);var j=o.readable||o.readable!==!1&&a.readable,_e=o.writable||o.writable!==!1&&a.writable,et=function(){a.writable||rt()},tt=a._writableState&&a._writableState.finished,rt=function(){_e=!1,tt=!0,j||$.call(a)},ot=a._readableState&&a._readableState.endEmitted,st=function(){j=!1,ot=!0,_e||$.call(a)},at=function(ht){$.call(a,ht)},ut=function(){var ht;if(j&&!ot)return(!a._readableState||!a._readableState.ended)&&(ht=new ERR_STREAM_PREMATURE_CLOSE),$.call(a,ht);if(_e&&!tt)return(!a._writableState||!a._writableState.ended)&&(ht=new ERR_STREAM_PREMATURE_CLOSE),$.call(a,ht)},ct=function(){a.req.on("finish",rt)};return isRequest$1(a)?(a.on("complete",rt),a.on("abort",ut),a.req?ct():a.on("request",ct)):_e&&!a._writableState&&(a.on("end",et),a.on("close",et)),a.on("end",st),a.on("finish",rt),o.error!==!1&&a.on("error",at),a.on("close",ut),function(){a.removeListener("complete",rt),a.removeListener("abort",ut),a.removeListener("request",ct),a.req&&a.req.removeListener("finish",rt),a.removeListener("end",et),a.removeListener("close",et),a.removeListener("finish",rt),a.removeListener("end",st),a.removeListener("error",at),a.removeListener("close",ut)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function o(Tt,Ct,Et){return Ct=$(Ct),Ct in Tt?Object.defineProperty(Tt,Ct,{value:Et,enumerable:!0,configurable:!0,writable:!0}):Tt[Ct]=Et,Tt}function $(Tt){var Ct=j(Tt,"string");return typeof Ct=="symbol"?Ct:String(Ct)}function j(Tt,Ct){if(typeof Tt!="object"||Tt===null)return Tt;var Et=Tt[Symbol.toPrimitive];if(Et!==void 0){var St=Et.call(Tt,Ct||"default");if(typeof St!="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ct==="string"?String:Number)(Tt)}var _e=endOfStream,et=Symbol("lastResolve"),tt=Symbol("lastReject"),rt=Symbol("error"),ot=Symbol("ended"),st=Symbol("lastPromise"),at=Symbol("handlePromise"),ut=Symbol("stream");function ct(Tt,Ct){return{value:Tt,done:Ct}}function vt(Tt){var Ct=Tt[et];if(Ct!==null){var Et=Tt[ut].read();Et!==null&&(Tt[st]=null,Tt[et]=null,Tt[tt]=null,Ct(ct(Et,!1)))}}function ht(Tt){browser$1$1.nextTick(vt,Tt)}function yt(Tt,Ct){return function(Et,St){Tt.then(function(){if(Ct[ot]){Et(ct(void 0,!0));return}Ct[at](Et,St)},St)}}var bt=Object.getPrototypeOf(function(){}),dt=Object.setPrototypeOf((a={get stream(){return this[ut]},next:function(){var Ct=this,Et=this[rt];if(Et!==null)return Promise.reject(Et);if(this[ot])return Promise.resolve(ct(void 0,!0));if(this[ut].destroyed)return new Promise(function(Mt,Ot){browser$1$1.nextTick(function(){Ct[rt]?Ot(Ct[rt]):Mt(ct(void 0,!0))})});var St=this[st],gt;if(St)gt=new Promise(yt(St,this));else{var wt=this[ut].read();if(wt!==null)return Promise.resolve(ct(wt,!1));gt=new Promise(this[at])}return this[st]=gt,gt}},o(a,Symbol.asyncIterator,function(){return this}),o(a,"return",function(){var Ct=this;return new Promise(function(Et,St){Ct[ut].destroy(null,function(gt){if(gt){St(gt);return}Et(ct(void 0,!0))})})}),a),bt),xt=function(Ct){var Et,St=Object.create(dt,(Et={},o(Et,ut,{value:Ct,writable:!0}),o(Et,et,{value:null,writable:!0}),o(Et,tt,{value:null,writable:!0}),o(Et,rt,{value:null,writable:!0}),o(Et,ot,{value:Ct._readableState.endEmitted,writable:!0}),o(Et,at,{value:function(wt,Mt){var Ot=St[ut].read();Ot?(St[st]=null,St[et]=null,St[tt]=null,wt(ct(Ot,!1))):(St[et]=wt,St[tt]=Mt)},writable:!0}),Et));return St[st]=null,_e(Ct,function(gt){if(gt&&gt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wt=St[tt];wt!==null&&(St[st]=null,St[et]=null,St[tt]=null,wt(gt)),St[rt]=gt;return}var Mt=St[et];Mt!==null&&(St[st]=null,St[et]=null,St[tt]=null,Mt(ct(void 0,!0))),St[ot]=!0}),Ct.on("readable",ht.bind(null,St)),St};return async_iterator=xt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Mt;var a;Mt.ReadableState=wt,require$$0.EventEmitter;var o=function($t,tn){return $t.listeners(tn).length},$=streamBrowser,j=buffer.Buffer,_e=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function et(Rt){return j.from(Rt)}function tt(Rt){return j.isBuffer(Rt)||Rt instanceof _e}var rt=require$$3,ot;rt&&rt.debuglog?ot=rt.debuglog("stream"):ot=function(){};var st=requireBuffer_list(),at=destroy_1,ut=state,ct=ut.getHighWaterMark,vt=errorsBrowser.codes,ht=vt.ERR_INVALID_ARG_TYPE,yt=vt.ERR_STREAM_PUSH_AFTER_EOF,bt=vt.ERR_METHOD_NOT_IMPLEMENTED,dt=vt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,xt,Tt,Ct;inherits_browserExports(Mt,$);var Et=at.errorOrDestroy,St=["error","close","destroy","pause","resume"];function gt(Rt,$t,tn){if(typeof Rt.prependListener=="function")return Rt.prependListener($t,tn);!Rt._events||!Rt._events[$t]?Rt.on($t,tn):Array.isArray(Rt._events[$t])?Rt._events[$t].unshift(tn):Rt._events[$t]=[tn,Rt._events[$t]]}function wt(Rt,$t,tn){a=a||require_stream_duplex(),Rt=Rt||{},typeof tn!="boolean"&&(tn=$t instanceof a),this.objectMode=!!Rt.objectMode,tn&&(this.objectMode=this.objectMode||!!Rt.readableObjectMode),this.highWaterMark=ct(this,Rt,"readableHighWaterMark",tn),this.buffer=new st,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Rt.emitClose!==!1,this.autoDestroy=!!Rt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Rt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Rt.encoding&&(xt||(xt=requireString_decoder().StringDecoder),this.decoder=new xt(Rt.encoding),this.encoding=Rt.encoding)}function Mt(Rt){if(a=a||require_stream_duplex(),!(this instanceof Mt))return new Mt(Rt);var $t=this instanceof a;this._readableState=new wt(Rt,this,$t),this.readable=!0,Rt&&(typeof Rt.read=="function"&&(this._read=Rt.read),typeof Rt.destroy=="function"&&(this._destroy=Rt.destroy)),$.call(this)}Object.defineProperty(Mt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($t){this._readableState&&(this._readableState.destroyed=$t)}}),Mt.prototype.destroy=at.destroy,Mt.prototype._undestroy=at.undestroy,Mt.prototype._destroy=function(Rt,$t){$t(Rt)},Mt.prototype.push=function(Rt,$t){var tn=this._readableState,dn;return tn.objectMode?dn=!0:typeof Rt=="string"&&($t=$t||tn.defaultEncoding,$t!==tn.encoding&&(Rt=j.from(Rt,$t),$t=""),dn=!0),Ot(this,Rt,$t,!1,dn)},Mt.prototype.unshift=function(Rt){return Ot(this,Rt,null,!0,!1)};function Ot(Rt,$t,tn,dn,en){ot("readableAddChunk",$t);var mn=Rt._readableState;if($t===null)mn.reading=!1,an(Rt,mn);else{var gn;if(en||(gn=jt(mn,$t)),gn)Et(Rt,gn);else if(mn.objectMode||$t&&$t.length>0)if(typeof $t!="string"&&!mn.objectMode&&Object.getPrototypeOf($t)!==j.prototype&&($t=et($t)),dn)mn.endEmitted?Et(Rt,new dt):Lt(Rt,mn,$t,!0);else if(mn.ended)Et(Rt,new yt);else{if(mn.destroyed)return!1;mn.reading=!1,mn.decoder&&!tn?($t=mn.decoder.write($t),mn.objectMode||$t.length!==0?Lt(Rt,mn,$t,!1):Qt(Rt,mn)):Lt(Rt,mn,$t,!1)}else dn||(mn.reading=!1,Qt(Rt,mn))}return!mn.ended&&(mn.length<mn.highWaterMark||mn.length===0)}function Lt(Rt,$t,tn,dn){$t.flowing&&$t.length===0&&!$t.sync?($t.awaitDrain=0,Rt.emit("data",tn)):($t.length+=$t.objectMode?1:tn.length,dn?$t.buffer.unshift(tn):$t.buffer.push(tn),$t.needReadable&&pn(Rt)),Qt(Rt,$t)}function jt(Rt,$t){var tn;return!tt($t)&&typeof $t!="string"&&$t!==void 0&&!Rt.objectMode&&(tn=new ht("chunk",["string","Buffer","Uint8Array"],$t)),tn}Mt.prototype.isPaused=function(){return this._readableState.flowing===!1},Mt.prototype.setEncoding=function(Rt){xt||(xt=requireString_decoder().StringDecoder);var $t=new xt(Rt);this._readableState.decoder=$t,this._readableState.encoding=this._readableState.decoder.encoding;for(var tn=this._readableState.buffer.head,dn="";tn!==null;)dn+=$t.write(tn.data),tn=tn.next;return this._readableState.buffer.clear(),dn!==""&&this._readableState.buffer.push(dn),this._readableState.length=dn.length,this};var Jt=1073741824;function qt(Rt){return Rt>=Jt?Rt=Jt:(Rt--,Rt|=Rt>>>1,Rt|=Rt>>>2,Rt|=Rt>>>4,Rt|=Rt>>>8,Rt|=Rt>>>16,Rt++),Rt}function rn(Rt,$t){return Rt<=0||$t.length===0&&$t.ended?0:$t.objectMode?1:Rt!==Rt?$t.flowing&&$t.length?$t.buffer.head.data.length:$t.length:(Rt>$t.highWaterMark&&($t.highWaterMark=qt(Rt)),Rt<=$t.length?Rt:$t.ended?$t.length:($t.needReadable=!0,0))}Mt.prototype.read=function(Rt){ot("read",Rt),Rt=parseInt(Rt,10);var $t=this._readableState,tn=Rt;if(Rt!==0&&($t.emittedReadable=!1),Rt===0&&$t.needReadable&&(($t.highWaterMark!==0?$t.length>=$t.highWaterMark:$t.length>0)||$t.ended))return ot("read: emitReadable",$t.length,$t.ended),$t.length===0&&$t.ended?Ht(this):pn(this),null;if(Rt=rn(Rt,$t),Rt===0&&$t.ended)return $t.length===0&&Ht(this),null;var dn=$t.needReadable;ot("need readable",dn),($t.length===0||$t.length-Rt<$t.highWaterMark)&&(dn=!0,ot("length less than watermark",dn)),$t.ended||$t.reading?(dn=!1,ot("reading or ended",dn)):dn&&(ot("do read"),$t.reading=!0,$t.sync=!0,$t.length===0&&($t.needReadable=!0),this._read($t.highWaterMark),$t.sync=!1,$t.reading||(Rt=rn(tn,$t)));var en;return Rt>0?en=Vt(Rt,$t):en=null,en===null?($t.needReadable=$t.length<=$t.highWaterMark,Rt=0):($t.length-=Rt,$t.awaitDrain=0),$t.length===0&&($t.ended||($t.needReadable=!0),tn!==Rt&&$t.ended&&Ht(this)),en!==null&&this.emit("data",en),en};function an(Rt,$t){if(ot("onEofChunk"),!$t.ended){if($t.decoder){var tn=$t.decoder.end();tn&&tn.length&&($t.buffer.push(tn),$t.length+=$t.objectMode?1:tn.length)}$t.ended=!0,$t.sync?pn(Rt):($t.needReadable=!1,$t.emittedReadable||($t.emittedReadable=!0,Kt(Rt)))}}function pn(Rt){var $t=Rt._readableState;ot("emitReadable",$t.needReadable,$t.emittedReadable),$t.needReadable=!1,$t.emittedReadable||(ot("emitReadable",$t.flowing),$t.emittedReadable=!0,browser$1$1.nextTick(Kt,Rt))}function Kt(Rt){var $t=Rt._readableState;ot("emitReadable_",$t.destroyed,$t.length,$t.ended),!$t.destroyed&&($t.length||$t.ended)&&(Rt.emit("readable"),$t.emittedReadable=!1),$t.needReadable=!$t.flowing&&!$t.ended&&$t.length<=$t.highWaterMark,Ut(Rt)}function Qt(Rt,$t){$t.readingMore||($t.readingMore=!0,browser$1$1.nextTick(fn,Rt,$t))}function fn(Rt,$t){for(;!$t.reading&&!$t.ended&&($t.length<$t.highWaterMark||$t.flowing&&$t.length===0);){var tn=$t.length;if(ot("maybeReadMore read 0"),Rt.read(0),tn===$t.length)break}$t.readingMore=!1}Mt.prototype._read=function(Rt){Et(this,new bt("_read()"))},Mt.prototype.pipe=function(Rt,$t){var tn=this,dn=this._readableState;switch(dn.pipesCount){case 0:dn.pipes=Rt;break;case 1:dn.pipes=[dn.pipes,Rt];break;default:dn.pipes.push(Rt);break}dn.pipesCount+=1,ot("pipe count=%d opts=%j",dn.pipesCount,$t);var en=(!$t||$t.end!==!1)&&Rt!==browser$1$1.stdout&&Rt!==browser$1$1.stderr,mn=en?Rn:Tn;dn.endEmitted?browser$1$1.nextTick(mn):tn.once("end",mn),Rt.on("unpipe",gn);function gn(At,ft){ot("onunpipe"),At===tn&&ft&&ft.hasUnpiped===!1&&(ft.hasUnpiped=!0,On())}function Rn(){ot("onend"),Rt.end()}var In=ln(tn);Rt.on("drain",In);var bn=!1;function On(){ot("cleanup"),Rt.removeListener("close",Xt),Rt.removeListener("finish",nn),Rt.removeListener("drain",In),Rt.removeListener("error",Jn),Rt.removeListener("unpipe",gn),tn.removeListener("end",Rn),tn.removeListener("end",Tn),tn.removeListener("data",Gn),bn=!0,dn.awaitDrain&&(!Rt._writableState||Rt._writableState.needDrain)&&In()}tn.on("data",Gn);function Gn(At){ot("ondata");var ft=Rt.write(At);ot("dest.write",ft),ft===!1&&((dn.pipesCount===1&&dn.pipes===Rt||dn.pipesCount>1&&En(dn.pipes,Rt)!==-1)&&!bn&&(ot("false write response, pause",dn.awaitDrain),dn.awaitDrain++),tn.pause())}function Jn(At){ot("onerror",At),Tn(),Rt.removeListener("error",Jn),o(Rt,"error")===0&&Et(Rt,At)}gt(Rt,"error",Jn);function Xt(){Rt.removeListener("finish",nn),Tn()}Rt.once("close",Xt);function nn(){ot("onfinish"),Rt.removeListener("close",Xt),Tn()}Rt.once("finish",nn);function Tn(){ot("unpipe"),tn.unpipe(Rt)}return Rt.emit("pipe",tn),dn.flowing||(ot("pipe resume"),tn.resume()),Rt};function ln(Rt){return function(){var tn=Rt._readableState;ot("pipeOnDrain",tn.awaitDrain),tn.awaitDrain&&tn.awaitDrain--,tn.awaitDrain===0&&o(Rt,"data")&&(tn.flowing=!0,Ut(Rt))}}Mt.prototype.unpipe=function(Rt){var $t=this._readableState,tn={hasUnpiped:!1};if($t.pipesCount===0)return this;if($t.pipesCount===1)return Rt&&Rt!==$t.pipes?this:(Rt||(Rt=$t.pipes),$t.pipes=null,$t.pipesCount=0,$t.flowing=!1,Rt&&Rt.emit("unpipe",this,tn),this);if(!Rt){var dn=$t.pipes,en=$t.pipesCount;$t.pipes=null,$t.pipesCount=0,$t.flowing=!1;for(var mn=0;mn<en;mn++)dn[mn].emit("unpipe",this,{hasUnpiped:!1});return this}var gn=En($t.pipes,Rt);return gn===-1?this:($t.pipes.splice(gn,1),$t.pipesCount-=1,$t.pipesCount===1&&($t.pipes=$t.pipes[0]),Rt.emit("unpipe",this,tn),this)},Mt.prototype.on=function(Rt,$t){var tn=$.prototype.on.call(this,Rt,$t),dn=this._readableState;return Rt==="data"?(dn.readableListening=this.listenerCount("readable")>0,dn.flowing!==!1&&this.resume()):Rt==="readable"&&!dn.endEmitted&&!dn.readableListening&&(dn.readableListening=dn.needReadable=!0,dn.flowing=!1,dn.emittedReadable=!1,ot("on readable",dn.length,dn.reading),dn.length?pn(this):dn.reading||browser$1$1.nextTick(Cn,this)),tn},Mt.prototype.addListener=Mt.prototype.on,Mt.prototype.removeListener=function(Rt,$t){var tn=$.prototype.removeListener.call(this,Rt,$t);return Rt==="readable"&&browser$1$1.nextTick(vn,this),tn},Mt.prototype.removeAllListeners=function(Rt){var $t=$.prototype.removeAllListeners.apply(this,arguments);return(Rt==="readable"||Rt===void 0)&&browser$1$1.nextTick(vn,this),$t};function vn(Rt){var $t=Rt._readableState;$t.readableListening=Rt.listenerCount("readable")>0,$t.resumeScheduled&&!$t.paused?$t.flowing=!0:Rt.listenerCount("data")>0&&Rt.resume()}function Cn(Rt){ot("readable nexttick read 0"),Rt.read(0)}Mt.prototype.resume=function(){var Rt=this._readableState;return Rt.flowing||(ot("resume"),Rt.flowing=!Rt.readableListening,kn(this,Rt)),Rt.paused=!1,this};function kn(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,browser$1$1.nextTick(_n,Rt,$t))}function _n(Rt,$t){ot("resume",$t.reading),$t.reading||Rt.read(0),$t.resumeScheduled=!1,Rt.emit("resume"),Ut(Rt),$t.flowing&&!$t.reading&&Rt.read(0)}Mt.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ut(Rt){var $t=Rt._readableState;for(ot("flow",$t.flowing);$t.flowing&&Rt.read()!==null;);}Mt.prototype.wrap=function(Rt){var $t=this,tn=this._readableState,dn=!1;Rt.on("end",function(){if(ot("wrapped end"),tn.decoder&&!tn.ended){var gn=tn.decoder.end();gn&&gn.length&&$t.push(gn)}$t.push(null)}),Rt.on("data",function(gn){if(ot("wrapped data"),tn.decoder&&(gn=tn.decoder.write(gn)),!(tn.objectMode&&gn==null)&&!(!tn.objectMode&&(!gn||!gn.length))){var Rn=$t.push(gn);Rn||(dn=!0,Rt.pause())}});for(var en in Rt)this[en]===void 0&&typeof Rt[en]=="function"&&(this[en]=function(Rn){return function(){return Rt[Rn].apply(Rt,arguments)}}(en));for(var mn=0;mn<St.length;mn++)Rt.on(St[mn],this.emit.bind(this,St[mn]));return this._read=function(gn){ot("wrapped _read",gn),dn&&(dn=!1,Rt.resume())},this},typeof Symbol=="function"&&(Mt.prototype[Symbol.asyncIterator]=function(){return Tt===void 0&&(Tt=requireAsync_iterator()),Tt(this)}),Object.defineProperty(Mt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Mt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Mt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($t){this._readableState&&(this._readableState.flowing=$t)}}),Mt._fromList=Vt,Object.defineProperty(Mt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Vt(Rt,$t){if($t.length===0)return null;var tn;return $t.objectMode?tn=$t.buffer.shift():!Rt||Rt>=$t.length?($t.decoder?tn=$t.buffer.join(""):$t.buffer.length===1?tn=$t.buffer.first():tn=$t.buffer.concat($t.length),$t.buffer.clear()):tn=$t.buffer.consume(Rt,$t.decoder),tn}function Ht(Rt){var $t=Rt._readableState;ot("endReadable",$t.endEmitted),$t.endEmitted||($t.ended=!0,browser$1$1.nextTick(yn,$t,Rt))}function yn(Rt,$t){if(ot("endReadableNT",Rt.endEmitted,Rt.length),!Rt.endEmitted&&Rt.length===0&&(Rt.endEmitted=!0,$t.readable=!1,$t.emit("end"),Rt.autoDestroy)){var tn=$t._writableState;(!tn||tn.autoDestroy&&tn.finished)&&$t.destroy()}}typeof Symbol=="function"&&(Mt.from=function(Rt,$t){return Ct===void 0&&(Ct=requireFromBrowser()),Ct(Mt,Rt,$t)});function En(Rt,$t){for(var tn=0,dn=Rt.length;tn<dn;tn++)if(Rt[tn]===$t)return tn;return-1}return _stream_readable}var _stream_transform=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browserExports(Transform$1,Duplex);function afterTransform(a,o){var $=this._transformState;$.transforming=!1;var j=$.writecb;if(j===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);$.writechunk=null,$.writecb=null,o!=null&&this.push(o),j(a);var _e=this._readableState;_e.reading=!1,(_e.needReadable||_e.length<_e.highWaterMark)&&this._read(_e.highWaterMark)}function Transform$1(a){if(!(this instanceof Transform$1))return new Transform$1(a);Duplex.call(this,a),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish)}function prefinish(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(o,$){done(a,o,$)}):done(this,null,null)}Transform$1.prototype.push=function(a,o){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,a,o)};Transform$1.prototype._transform=function(a,o,$){$(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(a,o,$){var j=this._transformState;if(j.writecb=$,j.writechunk=a,j.writeencoding=o,!j.transforming){var _e=this._readableState;(j.needTransform||_e.needReadable||_e.length<_e.highWaterMark)&&this._read(_e.highWaterMark)}};Transform$1.prototype._read=function(a){var o=this._transformState;o.writechunk!==null&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0};Transform$1.prototype._destroy=function(a,o){Duplex.prototype._destroy.call(this,a,function($){o($)})};function done(a,o,$){if(o)return a.emit("error",o);if($!=null&&a.push($),a._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(a._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return a.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform;inherits_browserExports(PassThrough,Transform);function PassThrough(a){if(!(this instanceof PassThrough))return new PassThrough(a);Transform.call(this,a)}PassThrough.prototype._transform=function(a,o,$){$(null,a)};var eos;function once(a){var o=!1;return function(){o||(o=!0,a.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(a){if(a)throw a}function isRequest(a){return a.setHeader&&typeof a.abort=="function"}function destroyer(a,o,$,j){j=once(j);var _e=!1;a.on("close",function(){_e=!0}),eos===void 0&&(eos=endOfStream),eos(a,{readable:o,writable:$},function(tt){if(tt)return j(tt);_e=!0,j()});var et=!1;return function(tt){if(!_e&&!et){if(et=!0,isRequest(a))return a.abort();if(typeof a.destroy=="function")return a.destroy();j(tt||new ERR_STREAM_DESTROYED("pipe"))}}}function call(a){a()}function pipe(a,o){return a.pipe(o)}function popCallback(a){return!a.length||typeof a[a.length-1]!="function"?noop:a.pop()}function pipeline(){for(var a=arguments.length,o=new Array(a),$=0;$<a;$++)o[$]=arguments[$];var j=popCallback(o);if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new ERR_MISSING_ARGS("streams");var _e,et=o.map(function(tt,rt){var ot=rt<o.length-1,st=rt>0;return destroyer(tt,ot,st,function(at){_e||(_e=at),at&&et.forEach(call),!ot&&(et.forEach(call),j(_e))})});return o.reduce(pipe)}var pipeline_1=pipeline;(function(a,o){o=a.exports=require_stream_readable(),o.Stream=o,o.Readable=o,o.Writable=require_stream_writable(),o.Duplex=require_stream_duplex(),o.Transform=_stream_transform,o.PassThrough=_stream_passthrough,o.finished=endOfStream,o.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;Object.defineProperty(lib,"__esModule",{value:!0});lib.ReadableWebToNodeStream=void 0;const readable_stream_1=readableBrowserExports;class ReadableWebToNodeStream extends readable_stream_1.Readable{constructor(o){super(),this.bytesRead=0,this.released=!1,this.reader=o.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const o=await this.pendingRead;delete this.pendingRead,o.done||this.released?this.push(null):(this.bytesRead+=o.value.length,this.push(o.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}lib.ReadableWebToNodeStream=ReadableWebToNodeStream;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchFromUrl=a.parseBlob=a.parseReadableStream=a.parseNodeStream=a.selectCover=a.ratingToStars=a.orderTags=a.parseFromTokenizer=a.parseBuffer=void 0;const o=browserExports,$=core$2,j=lib,_e=o("music-metadata-browser:main");var et=core$2;Object.defineProperty(a,"parseBuffer",{enumerable:!0,get:function(){return et.parseBuffer}}),Object.defineProperty(a,"parseFromTokenizer",{enumerable:!0,get:function(){return et.parseFromTokenizer}}),Object.defineProperty(a,"orderTags",{enumerable:!0,get:function(){return et.orderTags}}),Object.defineProperty(a,"ratingToStars",{enumerable:!0,get:function(){return et.ratingToStars}}),Object.defineProperty(a,"selectCover",{enumerable:!0,get:function(){return et.selectCover}}),a.parseNodeStream=$.parseStream;async function tt(at,ut,ct){const vt=new j.ReadableWebToNodeStream(at),ht=await(0,a.parseNodeStream)(vt,typeof ut=="string"?{mimeType:ut}:ut,ct);return await vt.close(),ht}a.parseReadableStream=tt;async function rt(at,ut){at.type,at.size,at instanceof File&&at.name;const ct=at.stream?at.stream():ot(at);return tt(ct,{mimeType:at.type,size:at.size},ut)}a.parseBlob=rt;function ot(at){const ut=new FileReader;return new ReadableStream({start(ct){ut.onloadend=vt=>{let ht=vt.target.result;ht instanceof ArrayBuffer&&(ht=new Uint8Array(ht)),ct.enqueue(ht),ct.close()},ut.onerror=vt=>{ct.close()},ut.onabort=vt=>{ct.close()},ut.readAsArrayBuffer(at)}})}async function st(at,ut){const ct=await fetch(at),vt={size:parseInt(ct.headers.get("Content-Length"),10),mimeType:ct.headers.get("Content-Type")};if(ct.ok)if(ct.body){const ht=await tt(ct.body,vt,ut);return _e("Closing HTTP-readable-stream..."),ct.body.locked||await ct.body.cancel(),_e("HTTP-readable-stream closed."),ht}else return rt(await ct.blob(),ut);else throw new Error(`HTTP error status=${ct.status}: ${ct.statusText}`)}a.fetchFromUrl=st})(lib$3);var __awaiter$3=globalThis&&globalThis.__awaiter||function(a,o,$,j){function _e(et){return et instanceof $?et:new $(function(tt){tt(et)})}return new($||($=Promise))(function(et,tt){function rt(at){try{st(j.next(at))}catch(ut){tt(ut)}}function ot(at){try{st(j.throw(at))}catch(ut){tt(ut)}}function st(at){at.done?et(at.value):_e(at.value).then(rt,ot)}st((j=j.apply(a,o||[])).next())})};function decode(a,o){return __awaiter$3(this,void 0,void 0,function*(){const $=new AudioContext({sampleRate:o});return $.decodeAudioData(a).finally(()=>$.close())})}function normalize(a){const o=a[0];if(o.some($=>$>1||$<-1)){const $=o.length;let j=0;for(let _e=0;_e<$;_e++){const et=Math.abs(o[_e]);et>j&&(j=et)}for(const _e of a)for(let et=0;et<$;et++)_e[et]/=j}return a}function createBuffer(a,o){return typeof a[0]=="number"&&(a=[a]),normalize(a),{duration:o,length:a[0].length,sampleRate:a[0].length/o,numberOfChannels:a.length,getChannelData:$=>a==null?void 0:a[$],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}const Decoder={decode,createBuffer};var __awaiter$2=globalThis&&globalThis.__awaiter||function(a,o,$,j){function _e(et){return et instanceof $?et:new $(function(tt){tt(et)})}return new($||($=Promise))(function(et,tt){function rt(at){try{st(j.next(at))}catch(ut){tt(ut)}}function ot(at){try{st(j.throw(at))}catch(ut){tt(ut)}}function st(at){at.done?et(at.value):_e(at.value).then(rt,ot)}st((j=j.apply(a,o||[])).next())})};function fetchBlob(a,o,$){var j,_e;return __awaiter$2(this,void 0,void 0,function*(){const et=yield fetch(a,$);{const tt=(j=et.clone().body)===null||j===void 0?void 0:j.getReader(),rt=Number((_e=et.headers)===null||_e===void 0?void 0:_e.get("Content-Length"));let ot=0;const st=(at,ut)=>__awaiter$2(this,void 0,void 0,function*(){if(at)return;ot+=(ut==null?void 0:ut.length)||0;const ct=Math.round(ot/rt*100);return o(ct),tt==null?void 0:tt.read().then(({done:vt,value:ht})=>st(vt,ht))});tt==null||tt.read().then(({done:at,value:ut})=>st(at,ut))}return et.blob()})}const Fetcher={fetchBlob};class EventEmitter{constructor(){this.listeners={}}on(o,$){return this.listeners[o]||(this.listeners[o]=new Set),this.listeners[o].add($),()=>this.un(o,$)}once(o,$){const j=this.on(o,$),_e=this.on(o,()=>{j(),_e()});return j}un(o,$){this.listeners[o]&&($?this.listeners[o].delete($):delete this.listeners[o])}unAll(){this.listeners={}}emit(o,...$){this.listeners[o]&&this.listeners[o].forEach(j=>j(...$))}}let Player$1=class extends EventEmitter{constructor(o){super(),o.media?this.media=o.media:this.media=document.createElement("audio"),o.mediaControls&&(this.media.controls=!0),o.autoplay&&(this.media.autoplay=!0),o.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{o.playbackRate!=null&&(this.media.playbackRate=o.playbackRate)})}onMediaEvent(o,$,j){return this.media.addEventListener(o,$,j),()=>this.media.removeEventListener(o,$)}onceMediaEvent(o,$){return this.onMediaEvent(o,$,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const o=this.getSrc();o.startsWith("blob:")&&URL.revokeObjectURL(o)}setSrc(o,$){if(this.getSrc()===o)return;this.revokeSrc();const _e=$ instanceof Blob?URL.createObjectURL($):o;this.media.src=_e,this.media.load()}destroy(){this.media.pause(),this.revokeSrc(),this.media.src="",this.media.load()}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return this.media.currentTime>0&&!this.media.paused&&!this.media.ended}setTime(o){this.media.currentTime=o}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(o){this.media.volume=o}getMuted(){return this.media.muted}setMuted(o){this.media.muted=o}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(o,$){$!=null&&(this.media.preservesPitch=$),this.media.playbackRate=o}getMediaElement(){return this.media}setSinkId(o){return this.media.setSinkId(o)}};function makeDraggable(a,o,$,j,_e=5){let et=()=>{};if(!a)return et;const tt=rt=>{if(rt.button===2)return;rt.preventDefault(),rt.stopPropagation();let ot=rt.clientX,st=rt.clientY,at=!1;const ut=ht=>{ht.preventDefault(),ht.stopPropagation();const yt=ht.clientX,bt=ht.clientY;if(at||Math.abs(yt-ot)>=_e||Math.abs(bt-st)>=_e){const{left:dt,top:xt}=a.getBoundingClientRect();at||(at=!0,$==null||$(ot-dt,st-xt)),o(yt-ot,bt-st,yt-dt,bt-xt),ot=yt,st=bt}},ct=ht=>{at&&(ht.preventDefault(),ht.stopPropagation())},vt=()=>{at&&(j==null||j()),et()};document.addEventListener("pointermove",ut),document.addEventListener("pointerup",vt),document.addEventListener("pointerleave",vt),document.addEventListener("click",ct,!0),et=()=>{document.removeEventListener("pointermove",ut),document.removeEventListener("pointerup",vt),document.removeEventListener("pointerleave",vt),setTimeout(()=>{document.removeEventListener("click",ct,!0)},10)}};return a.addEventListener("pointerdown",tt),()=>{et(),a.removeEventListener("pointerdown",tt)}}class Renderer extends EventEmitter{constructor(o,$){super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=o;let j;if(typeof o.container=="string"?j=document.querySelector(o.container):o.container instanceof HTMLElement&&(j=o.container),!j)throw new Error("Container not found");this.parent=j;const[_e,et]=this.initHtml();j.appendChild(_e),this.container=_e,this.scrollContainer=et.querySelector(".scroll"),this.wrapper=et.querySelector(".wrapper"),this.canvasWrapper=et.querySelector(".canvases"),this.progressWrapper=et.querySelector(".progress"),this.cursor=et.querySelector(".cursor"),$&&et.appendChild($),this.initEvents()}initEvents(){const o=j=>{const _e=this.wrapper.getBoundingClientRect(),et=j.clientX-_e.left,tt=j.clientX-_e.left,rt=et/_e.width,ot=tt/_e.height;return[rt,ot]};this.wrapper.addEventListener("click",j=>{const[_e,et]=o(j);this.emit("click",_e,et)}),this.wrapper.addEventListener("dblclick",j=>{const[_e,et]=o(j);this.emit("dblclick",_e,et)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:j,scrollWidth:_e,clientWidth:et}=this.scrollContainer,tt=j/_e,rt=(j+et)/_e;this.emit("scroll",tt,rt)});const $=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{$(()=>this.reRender())}),this.resizeObserver.observe(this.scrollContainer)}initDrag(){makeDraggable(this.wrapper,(o,$,j)=>{this.emit("drag",Math.max(0,Math.min(1,j/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(){return this.options.height==null?128:isNaN(Number(this.options.height))?this.options.height==="auto"&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const o=document.createElement("div"),$=o.attachShadow({mode:"open"});return $.innerHTML=`
      <style>
        :host {
          user-select: none;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
          touch-action: none;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight()}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[o,$]}setOptions(o){this.options=o,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var o;this.container.remove(),(o=this.resizeObserver)===null||o===void 0||o.disconnect()}createDelay(o=10){const $={};return this.timeouts.push($),j=>{$.timeout&&clearTimeout($.timeout),$.timeout=setTimeout(j,o)}}convertColorValues(o){if(!Array.isArray(o))return o||"";if(o.length<2)return o[0]||"";const $=document.createElement("canvas"),_e=$.getContext("2d").createLinearGradient(0,0,0,$.height),et=1/(o.length-1);return o.forEach((tt,rt)=>{const ot=rt*et;_e.addColorStop(ot,tt)}),_e}renderBarWaveform(o,$,j,_e){const et=o[0],tt=o[1]||o[0],rt=et.length,{width:ot,height:st}=j.canvas,at=st/2,ut=window.devicePixelRatio||1,ct=$.barWidth?$.barWidth*ut:1,vt=$.barGap?$.barGap*ut:$.barWidth?ct/2:0,ht=$.barRadius||0,yt=ot/(ct+vt)/rt,bt=ht&&"roundRect"in j?"roundRect":"rect";j.beginPath();let dt=0,xt=0,Tt=0;for(let Ct=0;Ct<=rt;Ct++){const Et=Math.round(Ct*yt);if(Et>dt){const wt=Math.round(xt*at*_e),Mt=Math.round(Tt*at*_e),Ot=wt+Mt||1;let Lt=at-wt;$.barAlign==="top"?Lt=0:$.barAlign==="bottom"&&(Lt=st-Ot),j[bt](dt*(ct+vt),Lt,ct,Ot,ht),dt=Et,xt=0,Tt=0}const St=Math.abs(et[Ct]||0),gt=Math.abs(tt[Ct]||0);St>xt&&(xt=St),gt>Tt&&(Tt=gt)}j.fill(),j.closePath()}renderLineWaveform(o,$,j,_e){const et=tt=>{const rt=o[tt]||o[0],ot=rt.length,{height:st}=j.canvas,at=st/2,ut=j.canvas.width/ot;j.moveTo(0,at);let ct=0,vt=0;for(let ht=0;ht<=ot;ht++){const yt=Math.round(ht*ut);if(yt>ct){const dt=Math.round(vt*at*_e)||1,xt=at+dt*(tt===0?-1:1);j.lineTo(ct,xt),ct=yt,vt=0}const bt=Math.abs(rt[ht]||0);bt>vt&&(vt=bt)}j.lineTo(ct,at)};j.beginPath(),et(0),et(1),j.fill(),j.closePath()}renderWaveform(o,$,j){if(j.fillStyle=this.convertColorValues($.waveColor),$.renderFunction){$.renderFunction(o,j);return}let _e=$.barHeight||1;if($.normalize){const et=Array.from(o[0]).reduce((tt,rt)=>Math.max(tt,Math.abs(rt)),0);_e=et?1/et:1}if($.barWidth||$.barGap||$.barAlign){this.renderBarWaveform(o,$,j,_e);return}this.renderLineWaveform(o,$,j,_e)}renderSingleCanvas(o,$,j,_e,et,tt,rt,ot){const st=window.devicePixelRatio||1,at=document.createElement("canvas"),ut=o[0].length;at.width=Math.round(j*(tt-et)/ut),at.height=_e*st,at.style.width=`${Math.floor(at.width/st)}px`,at.style.height=`${_e}px`,at.style.left=`${Math.floor(et*j/st/ut)}px`,rt.appendChild(at);const ct=at.getContext("2d");this.renderWaveform(o.map(yt=>yt.slice(et,tt)),$,ct);const vt=at.cloneNode();ot.appendChild(vt);const ht=vt.getContext("2d");at.width>0&&at.height>0&&ht.drawImage(at,0,0),ht.globalCompositeOperation="source-in",ht.fillStyle=this.convertColorValues($.progressColor),ht.fillRect(0,0,at.width,at.height)}renderChannel(o,$,j){const _e=document.createElement("div"),et=this.getHeight();_e.style.height=`${et}px`,this.canvasWrapper.style.minHeight=`${et}px`,this.canvasWrapper.appendChild(_e);const tt=_e.cloneNode();this.progressWrapper.appendChild(tt);const{scrollLeft:rt,scrollWidth:ot,clientWidth:st}=this.scrollContainer,at=o[0].length,ut=at/ot;let ct=Math.min(Renderer.MAX_CANVAS_WIDTH,st);if($.barWidth||$.barGap){const Et=$.barWidth||.5,St=$.barGap||Et/2,gt=Et+St;ct%gt!==0&&(ct=Math.floor(ct/gt)*gt)}const vt=Math.floor(Math.abs(rt)*ut),ht=Math.floor(vt+ct*ut),yt=ht-vt,bt=(Et,St)=>{this.renderSingleCanvas(o,$,j,et,Math.max(0,Et),Math.min(St,at),_e,tt)},dt=this.createDelay(),xt=this.createDelay(),Tt=(Et,St)=>{bt(Et,St),Et>0&&dt(()=>{Tt(Et-yt,St-yt)})},Ct=(Et,St)=>{bt(Et,St),St<at&&xt(()=>{Ct(Et+yt,St+yt)})};Tt(vt,ht),ht<at&&Ct(ht,ht+yt)}render(o){this.timeouts.forEach(rt=>rt.timeout&&clearTimeout(rt.timeout)),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.wrapper.style.width="";const $=window.devicePixelRatio||1,j=this.scrollContainer.clientWidth,_e=Math.ceil(o.duration*(this.options.minPxPerSec||0));this.isScrolling=_e>j;const et=this.options.fillParent&&!this.isScrolling,tt=(et?j:_e)*$;if(this.wrapper.style.width=et?"100%":`${_e}px`,this.scrollContainer.style.overflowX=this.isScrolling?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let rt=0;rt<o.numberOfChannels;rt++){const ot=Object.assign(Object.assign({},this.options),this.options.splitChannels[rt]);this.renderChannel([o.getChannelData(rt)],ot,tt)}else{const rt=[o.getChannelData(0)];o.numberOfChannels>1&&rt.push(o.getChannelData(1)),this.renderChannel(rt,this.options,tt)}this.audioData=o,this.emit("render")}reRender(){if(!this.audioData)return;const o=this.progressWrapper.clientWidth;this.render(this.audioData);const $=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=$-o}zoom(o){this.options.minPxPerSec=o,this.reRender()}scrollIntoView(o,$=!1){const{clientWidth:j,scrollLeft:_e,scrollWidth:et}=this.scrollContainer,tt=et*o,rt=j/2,ot=$&&this.options.autoCenter&&!this.isDragging?rt:j;if(tt>_e+ot||tt<_e)if(this.options.autoCenter&&!this.isDragging){const st=rt/20;tt-(_e+rt)>=st&&tt<_e+j?this.scrollContainer.scrollLeft+=st:this.scrollContainer.scrollLeft=tt-rt}else this.isDragging?this.scrollContainer.scrollLeft=tt<_e?tt-10:tt-j+10:this.scrollContainer.scrollLeft=tt;{const{scrollLeft:st}=this.scrollContainer,at=st/et,ut=(st+j)/et;this.emit("scroll",at,ut)}}renderProgress(o,$){isNaN(o)||(this.progressWrapper.style.width=`${o*100}%`,this.cursor.style.left=`${o*100}%`,this.cursor.style.marginLeft=Math.round(o*100)===100?`-${this.options.cursorWidth}px`:"",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(o,$))}}Renderer.MAX_CANVAS_WIDTH=4e3;class Timer extends EventEmitter{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(a,o,$,j){function _e(et){return et instanceof $?et:new $(function(tt){tt(et)})}return new($||($=Promise))(function(et,tt){function rt(at){try{st(j.next(at))}catch(ut){tt(ut)}}function ot(at){try{st(j.throw(at))}catch(ut){tt(ut)}}function st(at){at.done?et(at.value):_e(at.value).then(rt,ot)}st((j=j.apply(a,o||[])).next())})};const defaultOptions={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class WaveSurfer extends Player$1{static create(o){return new WaveSurfer(o)}constructor(o){var $,j;super({media:o.media,mediaControls:o.mediaControls,autoplay:o.autoplay,playbackRate:o.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.options=Object.assign({},defaultOptions,o),this.timer=new Timer;const _e=o.media?void 0:this.getMediaElement();this.renderer=new Renderer(this.options,_e),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const et=this.options.url||(($=this.options.media)===null||$===void 0?void 0:$.currentSrc)||((j=this.options.media)===null||j===void 0?void 0:j.src);et&&this.load(et,this.options.peaks,this.options.duration)}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{const o=this.getCurrentTime();this.renderer.renderProgress(o/this.getDuration(),!0),this.emit("timeupdate",o),this.emit("audioprocess",o)}))}initPlayerEvents(){this.subscriptions.push(this.onMediaEvent("timeupdate",()=>{const o=this.getCurrentTime();this.renderer.renderProgress(o/this.getDuration(),this.isPlaying()),this.emit("timeupdate",o)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(o,$)=>{this.options.interact&&(this.seekTo(o),this.emit("interaction",o*this.getDuration()),this.emit("click",o,$))}),this.renderer.on("dblclick",(o,$)=>{this.emit("dblclick",o,$)}),this.renderer.on("scroll",(o,$)=>{const j=this.getDuration();this.emit("scroll",o*j,$*j)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let o;this.subscriptions.push(this.renderer.on("drag",$=>{this.options.interact&&(this.renderer.renderProgress($),clearTimeout(o),o=setTimeout(()=>{this.seekTo($)},this.isPlaying()?0:200),this.emit("interaction",$*this.getDuration()),this.emit("drag",$))}))}}initPlugins(){var o;!((o=this.options.plugins)===null||o===void 0)&&o.length&&this.options.plugins.forEach($=>{this.registerPlugin($)})}setOptions(o){this.options=Object.assign({},this.options,o),this.renderer.setOptions(this.options),o.audioRate&&this.setPlaybackRate(o.audioRate),o.mediaControls!=null&&(this.getMediaElement().controls=o.mediaControls)}registerPlugin(o){return o.init(this),this.plugins.push(o),this.subscriptions.push(o.once("destroy",()=>{this.plugins=this.plugins.filter($=>$!==o)})),o}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadAudio(o,$,j,_e){return __awaiter$1(this,void 0,void 0,function*(){if(this.emit("load",o),this.isPlaying()&&this.pause(),this.decodedData=null,!$&&!j){const et=tt=>this.emit("loading",tt);$=yield Fetcher.fetchBlob(o,et,this.options.fetchParams)}if(this.setSrc(o,$),j)_e=(yield Promise.resolve(_e||this.getDuration()))||(yield new Promise(et=>{this.onceMediaEvent("loadedmetadata",()=>et(this.getDuration()))}))||(yield Promise.resolve(0)),this.decodedData=Decoder.createBuffer(j,_e);else if($){const et=yield $.arrayBuffer();this.decodedData=yield Decoder.decode(et,this.options.sampleRate)}this.emit("decode",this.getDuration()),this.decodedData&&this.renderer.render(this.decodedData),this.emit("ready",this.getDuration())})}load(o,$,j){return __awaiter$1(this,void 0,void 0,function*(){yield this.loadAudio(o,void 0,$,j)})}loadBlob(o,$,j){return __awaiter$1(this,void 0,void 0,function*(){yield this.loadAudio("blob",o,$,j)})}zoom(o){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(o),this.emit("zoom",o)}getDecodedData(){return this.decodedData}exportPeaks({channels:o=1,maxLength:$=8e3,precision:j=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const _e=Math.min(o,this.decodedData.numberOfChannels),et=[];for(let tt=0;tt<_e;tt++){const rt=this.decodedData.getChannelData(tt),ot=Math.min(rt.length,$),st=rt.length/ot,at=[];for(let ut=0;ut<ot;ut++){const ct=Math.round(ut*st),vt=rt[ct];at.push(Math.round(vt*j)/j)}et.push(at)}return et}getDuration(){let o=super.getDuration()||0;return(o===0||o===1/0)&&this.decodedData&&(o=this.decodedData.duration),o}toggleInteraction(o){this.options.interact=o}seekTo(o){const $=this.getDuration()*o;this.setTime($)}playPause(){return __awaiter$1(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(o){this.setTime(this.getCurrentTime()+o)}empty(){this.load("",[[0]],.001)}destroy(){this.emit("destroy"),this.plugins.forEach(o=>o.destroy()),this.subscriptions.forEach(o=>o()),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}class t{constructor(){this.listeners={}}on(o,$){return this.listeners[o]||(this.listeners[o]=new Set),this.listeners[o].add($),()=>this.un(o,$)}once(o,$){const j=this.on(o,$),_e=this.on(o,()=>{j(),_e()});return j}un(o,$){this.listeners[o]&&($?this.listeners[o].delete($):delete this.listeners[o])}unAll(){this.listeners={}}emit(o,...$){this.listeners[o]&&this.listeners[o].forEach(j=>j(...$))}}class e extends t{constructor(o){super(),this.subscriptions=[],this.options=o}onInit(){}init(o){this.wavesurfer=o,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(o=>o())}}function i(a,o,$,j,_e=5){let et=()=>{};if(!a)return et;const tt=rt=>{if(rt.button===2)return;rt.preventDefault(),rt.stopPropagation();let ot=rt.clientX,st=rt.clientY,at=!1;const ut=ht=>{ht.preventDefault(),ht.stopPropagation();const yt=ht.clientX,bt=ht.clientY;if(at||Math.abs(yt-ot)>=_e||Math.abs(bt-st)>=_e){const{left:dt,top:xt}=a.getBoundingClientRect();at||(at=!0,$==null||$(ot-dt,st-xt)),o(yt-ot,bt-st,yt-dt,bt-xt),ot=yt,st=bt}},ct=ht=>{at&&(ht.preventDefault(),ht.stopPropagation())},vt=()=>{at&&(j==null||j()),et()};document.addEventListener("pointermove",ut),document.addEventListener("pointerup",vt),document.addEventListener("pointerleave",vt),document.addEventListener("click",ct,!0),et=()=>{document.removeEventListener("pointermove",ut),document.removeEventListener("pointerup",vt),document.removeEventListener("pointerleave",vt),setTimeout(()=>{document.removeEventListener("click",ct,!0)},10)}};return a.addEventListener("pointerdown",tt),()=>{et(),a.removeEventListener("pointerdown",tt)}}class n extends t{constructor(o,$){var j,_e,et,tt,rt,ot;super(),this.totalDuration=$,this.minLength=0,this.maxLength=1/0,this.id=o.id||`region-${Math.random().toString(32).slice(2)}`,this.start=o.start,this.end=(j=o.end)!==null&&j!==void 0?j:o.start,this.drag=(_e=o.drag)===null||_e===void 0||_e,this.resize=(et=o.resize)===null||et===void 0||et,this.color=(tt=o.color)!==null&&tt!==void 0?tt:"rgba(0, 0, 0, 0.1)",this.minLength=(rt=o.minLength)!==null&&rt!==void 0?rt:this.minLength,this.maxLength=(ot=o.maxLength)!==null&&ot!==void 0?ot:this.maxLength,this.element=this.initElement(),this.setContent(o.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}setPart(){const o=this.start===this.end;this.element.setAttribute("part",`${o?"marker":"region"} ${this.id}`)}initElement(){const o=document.createElement("div"),$=this.start===this.end;if(o.setAttribute("style",`
      position: absolute;
      height: 100%;
      background-color: ${$?"none":this.color};
      border-left: ${$?"2px solid "+this.color:"none"};
      border-radius: 2px;
      box-sizing: border-box;
      transition: background-color 0.2s ease;
      cursor: ${this.drag?"grab":"default"};
      pointer-events: all;
    `),!$&&this.resize){const j=document.createElement("div");j.setAttribute("data-resize","left"),j.setAttribute("style",`
        position: absolute;
        z-index: 2;
        width: 6px;
        height: 100%;
        top: 0;
        left: 0;
        border-left: 2px solid rgba(0, 0, 0, 0.5);
        border-radius: 2px 0 0 2px;
        cursor: ${this.resize?"ew-resize":"default"};
        word-break: keep-all;
      `),j.setAttribute("part","region-handle region-handle-left");const _e=j.cloneNode();_e.setAttribute("data-resize","right"),_e.style.left="",_e.style.right="0",_e.style.borderRight=_e.style.borderLeft,_e.style.borderLeft="",_e.style.borderRadius="0 2px 2px 0",_e.setAttribute("part","region-handle region-handle-right"),o.appendChild(j),o.appendChild(_e)}return o}renderPosition(){const o=this.start/this.totalDuration,$=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*o+"%",this.element.style.right=100*$+"%"}initMouseEvents(){const{element:o}=this;o&&(o.addEventListener("click",$=>this.emit("click",$)),o.addEventListener("mouseenter",$=>this.emit("over",$)),o.addEventListener("mouseleave",$=>this.emit("leave",$)),o.addEventListener("dblclick",$=>this.emit("dblclick",$)),i(o,$=>this.onMove($),()=>this.onStartMoving(),()=>this.onEndMoving()),i(o.querySelector('[data-resize="left"]'),$=>this.onResize($,"start"),()=>null,()=>this.onEndResizing(),1),i(o.querySelector('[data-resize="right"]'),$=>this.onResize($,"end"),()=>null,()=>this.onEndResizing(),1))}onStartMoving(){this.drag&&(this.element.style.cursor="grabbing")}onEndMoving(){this.drag&&(this.element.style.cursor="grab",this.emit("update-end"))}_onUpdate(o,$){if(!this.element.parentElement)return;const j=o/this.element.parentElement.clientWidth*this.totalDuration,_e=$&&$!=="start"?this.start:this.start+j,et=$&&$!=="end"?this.end:this.end+j,tt=et-_e;_e>=0&&et<=this.totalDuration&&_e<=et&&tt>=this.minLength&&tt<=this.maxLength&&(this.start=_e,this.end=et,this.renderPosition(),this.emit("update"))}onMove(o){this.drag&&this._onUpdate(o)}onResize(o,$){this.resize&&this._onUpdate(o,$)}onEndResizing(){this.resize&&this.emit("update-end")}_setTotalDuration(o){this.totalDuration=o,this.renderPosition()}play(){this.emit("play")}setContent(o){var $;if(($=this.content)===null||$===void 0||$.remove(),o){if(typeof o=="string"){this.content=document.createElement("div");const j=this.start===this.end;this.content.style.padding=`0.2em ${j?.2:.4}em`,this.content.textContent=o}else this.content=o;this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(o){var $,j;if(o.color&&(this.color=o.color,this.element.style.backgroundColor=this.color),o.drag!==void 0&&(this.drag=o.drag,this.element.style.cursor=this.drag?"grab":"default"),o.resize!==void 0&&(this.resize=o.resize,this.element.querySelectorAll("[data-resize]").forEach(_e=>{_e.style.cursor=this.resize?"ew-resize":"default"})),o.start!==void 0||o.end!==void 0){const _e=this.start===this.end;this.start=($=o.start)!==null&&$!==void 0?$:this.start,this.end=(j=o.end)!==null&&j!==void 0?j:_e?this.start:this.end,this.renderPosition(),this.setPart()}o.content&&this.setContent(o.content),o.id&&(this.id=o.id,this.setPart())}remove(){this.emit("remove"),this.element.remove(),this.element=null}}class s extends e{constructor(o){super(o),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(o){return new s(o)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let o=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",$=>{const j=this.regions.filter(_e=>_e.start<=$&&_e.end>=$);j.forEach(_e=>{o.includes(_e)||this.emit("region-in",_e)}),o.forEach(_e=>{j.includes(_e)||this.emit("region-out",_e)}),o=j}))}initRegionsContainer(){const o=document.createElement("div");return o.setAttribute("style",`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 3;
      pointer-events: none;
    `),o}getRegions(){return this.regions}avoidOverlapping(o){if(!o.content)return;const $=o.content,j=$.getBoundingClientRect().left,_e=o.element.scrollWidth,et=this.regions.filter(tt=>{if(tt===o||!tt.content)return!1;const rt=tt.content.getBoundingClientRect().left,ot=tt.element.scrollWidth;return j<rt+ot&&rt<j+_e}).map(tt=>{var rt;return((rt=tt.content)===null||rt===void 0?void 0:rt.getBoundingClientRect().height)||0}).reduce((tt,rt)=>tt+rt,0);$.style.marginTop=`${et}px`}saveRegion(o){this.regionsContainer.appendChild(o.element),this.avoidOverlapping(o),this.regions.push(o);const $=[o.on("update-end",()=>{this.avoidOverlapping(o),this.emit("region-updated",o)}),o.on("play",()=>{var j,_e;(j=this.wavesurfer)===null||j===void 0||j.play(),(_e=this.wavesurfer)===null||_e===void 0||_e.setTime(o.start)}),o.on("click",j=>{this.emit("region-clicked",o,j)}),o.on("dblclick",j=>{this.emit("region-double-clicked",o,j)}),o.once("remove",()=>{$.forEach(j=>j()),this.regions=this.regions.filter(j=>j!==o)})];this.subscriptions.push(...$),this.emit("region-created",o)}addRegion(o){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const $=this.wavesurfer.getDuration(),j=new n(o,$);return $?this.saveRegion(j):this.subscriptions.push(this.wavesurfer.once("ready",_e=>{j._setTotalDuration(_e),this.saveRegion(j)})),j}enableDragSelection(o){var $,j;const _e=(j=($=this.wavesurfer)===null||$===void 0?void 0:$.getWrapper())===null||j===void 0?void 0:j.querySelector("div");if(!_e)return()=>{};let et=null,tt=0;return i(_e,(rt,ot,st)=>{et&&et._onUpdate(rt,st>tt?"end":"start")},rt=>{if(tt=rt,!this.wavesurfer)return;const ot=this.wavesurfer.getDuration(),st=this.wavesurfer.getWrapper().clientWidth,at=rt/st*ot,ut=(rt+5)/st*ot;et=new n(Object.assign(Object.assign({},o),{start:at,end:ut}),ot),this.regionsContainer.appendChild(et.element)},()=>{et&&(this.saveRegion(et),et=null)})}clearRegions(){this.regions.forEach(o=>o.remove())}destroy(){this.clearRegions(),super.destroy()}}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(a,o){(function(){var $,j="4.17.21",_e=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",tt="Expected a function",rt="Invalid `variable` option passed into `_.template`",ot="__lodash_hash_undefined__",st=500,at="__lodash_placeholder__",ut=1,ct=2,vt=4,ht=1,yt=2,bt=1,dt=2,xt=4,Tt=8,Ct=16,Et=32,St=64,gt=128,wt=256,Mt=512,Ot=30,Lt="...",jt=800,Jt=16,qt=1,rn=2,an=3,pn=1/0,Kt=9007199254740991,Qt=17976931348623157e292,fn=0/0,ln=4294967295,vn=ln-1,Cn=ln>>>1,kn=[["ary",gt],["bind",bt],["bindKey",dt],["curry",Tt],["curryRight",Ct],["flip",Mt],["partial",Et],["partialRight",St],["rearg",wt]],_n="[object Arguments]",Ut="[object Array]",Vt="[object AsyncFunction]",Ht="[object Boolean]",yn="[object Date]",En="[object DOMException]",Rt="[object Error]",$t="[object Function]",tn="[object GeneratorFunction]",dn="[object Map]",en="[object Number]",mn="[object Null]",gn="[object Object]",Rn="[object Promise]",In="[object Proxy]",bn="[object RegExp]",On="[object Set]",Gn="[object String]",Jn="[object Symbol]",Xt="[object Undefined]",nn="[object WeakMap]",Tn="[object WeakSet]",At="[object ArrayBuffer]",ft="[object DataView]",mt="[object Float32Array]",Nt="[object Float64Array]",Ft="[object Int8Array]",zt="[object Int16Array]",Zt="[object Int32Array]",An="[object Uint8Array]",Dn="[object Uint8ClampedArray]",jn="[object Uint16Array]",qn="[object Uint32Array]",Wn=/\b__p \+= '';/g,vo=/\b(__p \+=) '' \+/g,ss=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yo=/&(?:amp|lt|gt|quot|#39);/g,_o=/[&<>"']/g,as=RegExp(yo.source),Fo=RegExp(_o.source),Zs=/<%-([\s\S]+?)%>/g,Bo=/<%([\s\S]+?)%>/g,xo=/<%=([\s\S]+?)%>/g,Lo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qs=/^\w*$/,Js=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uo=/[\\^$.*+?()[\]{}|]/g,na=RegExp(Uo.source),zo=/^\s+/,ga=/\s/,jo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_a=/\{\n\/\* \[wrapped with (.+)\] \*/,Wo=/,? & /,Vo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xa=/[()=,{}\[\]\/\s]/,rr=/\\(\\)?/g,ar=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,To=/\w*$/,wo=/^[-+]0x[0-9a-f]+$/i,Mr=/^0b[01]+$/i,_g=/^\[object .+?Constructor\]$/,e0=/^0o[0-7]+$/i,t0=/^(?:0|[1-9]\d*)$/,n0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ls=/($^)/,r0=/['\n\r\u2028\u2029\\]/g,us="\\ud800-\\udfff",i0="\\u0300-\\u036f",o0="\\ufe20-\\ufe2f",s0="\\u20d0-\\u20ff",Nu=i0+o0+s0,$u="\\u2700-\\u27bf",Ru="a-z\\xdf-\\xf6\\xf8-\\xff",a0="\\xac\\xb1\\xd7\\xf7",l0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",u0="\\u2000-\\u206f",c0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ou="A-Z\\xc0-\\xd6\\xd8-\\xde",Du="\\ufe0e\\ufe0f",Mu=a0+l0+u0+c0,ba="['’]",d0="["+us+"]",Fu="["+Mu+"]",cs="["+Nu+"]",Bu="\\d+",f0="["+$u+"]",Lu="["+Ru+"]",Uu="[^"+us+Mu+Bu+$u+Ru+Ou+"]",$a="\\ud83c[\\udffb-\\udfff]",p0="(?:"+cs+"|"+$a+")",zu="[^"+us+"]",yl="(?:\\ud83c[\\udde6-\\uddff]){2}",_l="[\\ud800-\\udbff][\\udc00-\\udfff]",Eo="["+Ou+"]",ju="\\u200d",Wu="(?:"+Lu+"|"+Uu+")",h0="(?:"+Eo+"|"+Uu+")",Vu="(?:"+ba+"(?:d|ll|m|re|s|t|ve))?",Gu="(?:"+ba+"(?:D|LL|M|RE|S|T|VE))?",Hu=p0+"?",qu="["+Du+"]?",m0="(?:"+ju+"(?:"+[zu,yl,_l].join("|")+")"+qu+Hu+")*",g0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",v0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xu=qu+Hu+m0,y0="(?:"+[f0,yl,_l].join("|")+")"+Xu,_0="(?:"+[zu+cs+"?",cs,yl,_l,d0].join("|")+")",x0=RegExp(ba,"g"),T0=RegExp(cs,"g"),xl=RegExp($a+"(?="+$a+")|"+_0+Xu,"g"),w0=RegExp([Eo+"?"+Lu+"+"+Vu+"(?="+[Fu,Eo,"$"].join("|")+")",h0+"+"+Gu+"(?="+[Fu,Eo+Wu,"$"].join("|")+")",Eo+"?"+Wu+"+"+Vu,Eo+"+"+Gu,v0,g0,Bu,y0].join("|"),"g"),E0=RegExp("["+ju+us+Nu+Du+"]"),S0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,b0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],C0=-1,er={};er[mt]=er[Nt]=er[Ft]=er[zt]=er[Zt]=er[An]=er[Dn]=er[jn]=er[qn]=!0,er[_n]=er[Ut]=er[At]=er[Ht]=er[ft]=er[yn]=er[Rt]=er[$t]=er[dn]=er[en]=er[gn]=er[bn]=er[On]=er[Gn]=er[nn]=!1;var Qn={};Qn[_n]=Qn[Ut]=Qn[At]=Qn[ft]=Qn[Ht]=Qn[yn]=Qn[mt]=Qn[Nt]=Qn[Ft]=Qn[zt]=Qn[Zt]=Qn[dn]=Qn[en]=Qn[gn]=Qn[bn]=Qn[On]=Qn[Gn]=Qn[Jn]=Qn[An]=Qn[Dn]=Qn[jn]=Qn[qn]=!0,Qn[Rt]=Qn[$t]=Qn[nn]=!1;var k0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},A0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},P0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},N0=parseFloat,$0=parseInt,Ku=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,R0=typeof self=="object"&&self&&self.Object===Object&&self,dr=Ku||R0||Function("return this")(),Tl=o&&!o.nodeType&&o,ao=Tl&&!0&&a&&!a.nodeType&&a,Yu=ao&&ao.exports===Tl,El=Yu&&Ku.process,Ar=function(){try{var Wt=ao&&ao.require&&ao.require("util").types;return Wt||El&&El.binding&&El.binding("util")}catch{}}(),Zu=Ar&&Ar.isArrayBuffer,Qu=Ar&&Ar.isDate,Ju=Ar&&Ar.isMap,_c=Ar&&Ar.isRegExp,_d=Ar&&Ar.isSet,_f=Ar&&Ar.isTypedArray;function wr(Wt,sn,Yt){switch(Yt.length){case 0:return Wt.call(sn);case 1:return Wt.call(sn,Yt[0]);case 2:return Wt.call(sn,Yt[0],Yt[1]);case 3:return Wt.call(sn,Yt[0],Yt[1],Yt[2])}return Wt.apply(sn,Yt)}function O0(Wt,sn,Yt,wn){for(var Mn=-1,Xn=Wt==null?0:Wt.length;++Mn<Xn;){var lr=Wt[Mn];sn(wn,lr,Yt(lr),Wt)}return wn}function Ir(Wt,sn){for(var Yt=-1,wn=Wt==null?0:Wt.length;++Yt<wn&&sn(Wt[Yt],Yt,Wt)!==!1;);return Wt}function D0(Wt,sn){for(var Yt=Wt==null?0:Wt.length;Yt--&&sn(Wt[Yt],Yt,Wt)!==!1;);return Wt}function ep(Wt,sn){for(var Yt=-1,wn=Wt==null?0:Wt.length;++Yt<wn;)if(!sn(Wt[Yt],Yt,Wt))return!1;return!0}function Jr(Wt,sn){for(var Yt=-1,wn=Wt==null?0:Wt.length,Mn=0,Xn=[];++Yt<wn;){var lr=Wt[Yt];sn(lr,Yt,Wt)&&(Xn[Mn++]=lr)}return Xn}function ds(Wt,sn){var Yt=Wt==null?0:Wt.length;return!!Yt&&So(Wt,sn,0)>-1}function Sl(Wt,sn,Yt){for(var wn=-1,Mn=Wt==null?0:Wt.length;++wn<Mn;)if(Yt(sn,Wt[wn]))return!0;return!1}function tr(Wt,sn){for(var Yt=-1,wn=Wt==null?0:Wt.length,Mn=Array(wn);++Yt<wn;)Mn[Yt]=sn(Wt[Yt],Yt,Wt);return Mn}function _i(Wt,sn){for(var Yt=-1,wn=sn.length,Mn=Wt.length;++Yt<wn;)Wt[Mn+Yt]=sn[Yt];return Wt}function Cl(Wt,sn,Yt,wn){var Mn=-1,Xn=Wt==null?0:Wt.length;for(wn&&Xn&&(Yt=Wt[++Mn]);++Mn<Xn;)Yt=sn(Yt,Wt[Mn],Mn,Wt);return Yt}function M0(Wt,sn,Yt,wn){var Mn=Wt==null?0:Wt.length;for(wn&&Mn&&(Yt=Wt[--Mn]);Mn--;)Yt=sn(Yt,Wt[Mn],Mn,Wt);return Yt}function Al(Wt,sn){for(var Yt=-1,wn=Wt==null?0:Wt.length;++Yt<wn;)if(sn(Wt[Yt],Yt,Wt))return!0;return!1}var F0=Il("length");function B0(Wt){return Wt.split("")}function L0(Wt){return Wt.match(Vo)||[]}function tp(Wt,sn,Yt){var wn;return Yt(Wt,function(Mn,Xn,lr){if(sn(Mn,Xn,lr))return wn=Xn,!1}),wn}function fs(Wt,sn,Yt,wn){for(var Mn=Wt.length,Xn=Yt+(wn?1:-1);wn?Xn--:++Xn<Mn;)if(sn(Wt[Xn],Xn,Wt))return Xn;return-1}function So(Wt,sn,Yt){return sn===sn?Z0(Wt,sn,Yt):fs(Wt,np,Yt)}function U0(Wt,sn,Yt,wn){for(var Mn=Yt-1,Xn=Wt.length;++Mn<Xn;)if(wn(Wt[Mn],sn))return Mn;return-1}function np(Wt){return Wt!==Wt}function rp(Wt,sn){var Yt=Wt==null?0:Wt.length;return Yt?Nl(Wt,sn)/Yt:fn}function Il(Wt){return function(sn){return sn==null?$:sn[Wt]}}function Pl(Wt){return function(sn){return Wt==null?$:Wt[sn]}}function ip(Wt,sn,Yt,wn,Mn){return Mn(Wt,function(Xn,lr,Zn){Yt=wn?(wn=!1,Xn):sn(Yt,Xn,lr,Zn)}),Yt}function z0(Wt,sn){var Yt=Wt.length;for(Wt.sort(sn);Yt--;)Wt[Yt]=Wt[Yt].value;return Wt}function Nl(Wt,sn){for(var Yt,wn=-1,Mn=Wt.length;++wn<Mn;){var Xn=sn(Wt[wn]);Xn!==$&&(Yt=Yt===$?Xn:Yt+Xn)}return Yt}function $l(Wt,sn){for(var Yt=-1,wn=Array(Wt);++Yt<Wt;)wn[Yt]=sn(Yt);return wn}function j0(Wt,sn){return tr(sn,function(Yt){return[Yt,Wt[Yt]]})}function op(Wt){return Wt&&Wt.slice(0,up(Wt)+1).replace(zo,"")}function Er(Wt){return function(sn){return Wt(sn)}}function Rl(Wt,sn){return tr(sn,function(Yt){return Wt[Yt]})}function Go(Wt,sn){return Wt.has(sn)}function sp(Wt,sn){for(var Yt=-1,wn=Wt.length;++Yt<wn&&So(sn,Wt[Yt],0)>-1;);return Yt}function ap(Wt,sn){for(var Yt=Wt.length;Yt--&&So(sn,Wt[Yt],0)>-1;);return Yt}function W0(Wt,sn){for(var Yt=Wt.length,wn=0;Yt--;)Wt[Yt]===sn&&++wn;return wn}var V0=Pl(k0),G0=Pl(A0);function H0(Wt){return"\\"+P0[Wt]}function q0(Wt,sn){return Wt==null?$:Wt[sn]}function bo(Wt){return E0.test(Wt)}function X0(Wt){return S0.test(Wt)}function K0(Wt){for(var sn,Yt=[];!(sn=Wt.next()).done;)Yt.push(sn.value);return Yt}function Ol(Wt){var sn=-1,Yt=Array(Wt.size);return Wt.forEach(function(wn,Mn){Yt[++sn]=[Mn,wn]}),Yt}function lp(Wt,sn){return function(Yt){return Wt(sn(Yt))}}function eo(Wt,sn){for(var Yt=-1,wn=Wt.length,Mn=0,Xn=[];++Yt<wn;){var lr=Wt[Yt];(lr===sn||lr===at)&&(Wt[Yt]=at,Xn[Mn++]=Yt)}return Xn}function ps(Wt){var sn=-1,Yt=Array(Wt.size);return Wt.forEach(function(wn){Yt[++sn]=wn}),Yt}function Y0(Wt){var sn=-1,Yt=Array(Wt.size);return Wt.forEach(function(wn){Yt[++sn]=[wn,wn]}),Yt}function Z0(Wt,sn,Yt){for(var wn=Yt-1,Mn=Wt.length;++wn<Mn;)if(Wt[wn]===sn)return wn;return-1}function Q0(Wt,sn,Yt){for(var wn=Yt+1;wn--;)if(Wt[wn]===sn)return wn;return wn}function Co(Wt){return bo(Wt)?ev(Wt):F0(Wt)}function Fr(Wt){return bo(Wt)?tv(Wt):B0(Wt)}function up(Wt){for(var sn=Wt.length;sn--&&ga.test(Wt.charAt(sn)););return sn}var J0=Pl(I0);function ev(Wt){for(var sn=xl.lastIndex=0;xl.test(Wt);)++sn;return sn}function tv(Wt){return Wt.match(xl)||[]}function nv(Wt){return Wt.match(w0)||[]}var rv=function Wt(sn){sn=sn==null?dr:ko.defaults(dr.Object(),sn,ko.pick(dr,b0));var Yt=sn.Array,wn=sn.Date,Mn=sn.Error,Xn=sn.Function,lr=sn.Math,Zn=sn.Object,Dl=sn.RegExp,iv=sn.String,Pr=sn.TypeError,hs=Yt.prototype,ov=Xn.prototype,Ao=Zn.prototype,gs=sn["__core-js_shared__"],vs=ov.toString,Yn=Ao.hasOwnProperty,sv=0,cp=function(){var nt=/[^.]+$/.exec(gs&&gs.keys&&gs.keys.IE_PROTO||"");return nt?"Symbol(src)_1."+nt:""}(),ys=Ao.toString,av=vs.call(Zn),lv=dr._,uv=Dl("^"+vs.call(Yn).replace(Uo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_s=Yu?sn.Buffer:$,to=sn.Symbol,xs=sn.Uint8Array,dp=_s?_s.allocUnsafe:$,Ts=lp(Zn.getPrototypeOf,Zn),fp=Zn.create,pp=Ao.propertyIsEnumerable,ws=hs.splice,hp=to?to.isConcatSpreadable:$,Ho=to?to.iterator:$,lo=to?to.toStringTag:$,Es=function(){try{var nt=ho(Zn,"defineProperty");return nt({},"",{}),nt}catch{}}(),cv=sn.clearTimeout!==dr.clearTimeout&&sn.clearTimeout,dv=wn&&wn.now!==dr.Date.now&&wn.now,fv=sn.setTimeout!==dr.setTimeout&&sn.setTimeout,Ss=lr.ceil,bs=lr.floor,Ml=Zn.getOwnPropertySymbols,pv=_s?_s.isBuffer:$,mp=sn.isFinite,hv=hs.join,mv=lp(Zn.keys,Zn),ur=lr.max,pr=lr.min,gv=wn.now,vv=sn.parseInt,gp=lr.random,yv=hs.reverse,Fl=ho(sn,"DataView"),qo=ho(sn,"Map"),Bl=ho(sn,"Promise"),Io=ho(sn,"Set"),Xo=ho(sn,"WeakMap"),Ko=ho(Zn,"create"),Cs=Xo&&new Xo,Po={},_v=mo(Fl),xv=mo(qo),Tv=mo(Bl),wv=mo(Io),Ev=mo(Xo),ks=to?to.prototype:$,Yo=ks?ks.valueOf:$,vp=ks?ks.toString:$;function It(nt){if(ir(nt)&&!Fn(nt)&&!(nt instanceof Vn)){if(nt instanceof Nr)return nt;if(Yn.call(nt,"__wrapped__"))return vm(nt)}return new Nr(nt)}var No=function(){function nt(){}return function(it){if(!nr(it))return{};if(fp)return fp(it);nt.prototype=it;var lt=new nt;return nt.prototype=$,lt}}();function As(){}function Nr(nt,it){this.__wrapped__=nt,this.__actions__=[],this.__chain__=!!it,this.__index__=0,this.__values__=$}It.templateSettings={escape:Zs,evaluate:Bo,interpolate:xo,variable:"",imports:{_:It}},It.prototype=As.prototype,It.prototype.constructor=It,Nr.prototype=No(As.prototype),Nr.prototype.constructor=Nr;function Vn(nt){this.__wrapped__=nt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ln,this.__views__=[]}function Sv(){var nt=new Vn(this.__wrapped__);return nt.__actions__=yr(this.__actions__),nt.__dir__=this.__dir__,nt.__filtered__=this.__filtered__,nt.__iteratees__=yr(this.__iteratees__),nt.__takeCount__=this.__takeCount__,nt.__views__=yr(this.__views__),nt}function bv(){if(this.__filtered__){var nt=new Vn(this);nt.__dir__=-1,nt.__filtered__=!0}else nt=this.clone(),nt.__dir__*=-1;return nt}function Cv(){var nt=this.__wrapped__.value(),it=this.__dir__,lt=Fn(nt),pt=it<0,kt=lt?nt.length:0,Pt=B1(0,kt,this.__views__),Dt=Pt.start,Bt=Pt.end,Gt=Bt-Dt,un=pt?Bt:Dt-1,cn=this.__iteratees__,hn=cn.length,xn=0,Sn=pr(Gt,this.__takeCount__);if(!lt||!pt&&kt==Gt&&Sn==Gt)return zp(nt,this.__actions__);var Nn=[];e:for(;Gt--&&xn<Sn;){un+=it;for(var Ln=-1,$n=nt[un];++Ln<hn;){var zn=cn[Ln],Hn=zn.iteratee,Cr=zn.type,vr=Hn($n);if(Cr==rn)$n=vr;else if(!vr){if(Cr==qt)continue e;break e}}Nn[xn++]=$n}return Nn}Vn.prototype=No(As.prototype),Vn.prototype.constructor=Vn;function uo(nt){var it=-1,lt=nt==null?0:nt.length;for(this.clear();++it<lt;){var pt=nt[it];this.set(pt[0],pt[1])}}function kv(){this.__data__=Ko?Ko(null):{},this.size=0}function Av(nt){var it=this.has(nt)&&delete this.__data__[nt];return this.size-=it?1:0,it}function Iv(nt){var it=this.__data__;if(Ko){var lt=it[nt];return lt===ot?$:lt}return Yn.call(it,nt)?it[nt]:$}function Pv(nt){var it=this.__data__;return Ko?it[nt]!==$:Yn.call(it,nt)}function Nv(nt,it){var lt=this.__data__;return this.size+=this.has(nt)?0:1,lt[nt]=Ko&&it===$?ot:it,this}uo.prototype.clear=kv,uo.prototype.delete=Av,uo.prototype.get=Iv,uo.prototype.has=Pv,uo.prototype.set=Nv;function Vr(nt){var it=-1,lt=nt==null?0:nt.length;for(this.clear();++it<lt;){var pt=nt[it];this.set(pt[0],pt[1])}}function $v(){this.__data__=[],this.size=0}function Rv(nt){var it=this.__data__,lt=Is(it,nt);if(lt<0)return!1;var pt=it.length-1;return lt==pt?it.pop():ws.call(it,lt,1),--this.size,!0}function Ov(nt){var it=this.__data__,lt=Is(it,nt);return lt<0?$:it[lt][1]}function Dv(nt){return Is(this.__data__,nt)>-1}function Mv(nt,it){var lt=this.__data__,pt=Is(lt,nt);return pt<0?(++this.size,lt.push([nt,it])):lt[pt][1]=it,this}Vr.prototype.clear=$v,Vr.prototype.delete=Rv,Vr.prototype.get=Ov,Vr.prototype.has=Dv,Vr.prototype.set=Mv;function Gr(nt){var it=-1,lt=nt==null?0:nt.length;for(this.clear();++it<lt;){var pt=nt[it];this.set(pt[0],pt[1])}}function Fv(){this.size=0,this.__data__={hash:new uo,map:new(qo||Vr),string:new uo}}function Bv(nt){var it=zs(this,nt).delete(nt);return this.size-=it?1:0,it}function Lv(nt){return zs(this,nt).get(nt)}function Uv(nt){return zs(this,nt).has(nt)}function zv(nt,it){var lt=zs(this,nt),pt=lt.size;return lt.set(nt,it),this.size+=lt.size==pt?0:1,this}Gr.prototype.clear=Fv,Gr.prototype.delete=Bv,Gr.prototype.get=Lv,Gr.prototype.has=Uv,Gr.prototype.set=zv;function co(nt){var it=-1,lt=nt==null?0:nt.length;for(this.__data__=new Gr;++it<lt;)this.add(nt[it])}function jv(nt){return this.__data__.set(nt,ot),this}function Wv(nt){return this.__data__.has(nt)}co.prototype.add=co.prototype.push=jv,co.prototype.has=Wv;function Br(nt){var it=this.__data__=new Vr(nt);this.size=it.size}function Vv(){this.__data__=new Vr,this.size=0}function Gv(nt){var it=this.__data__,lt=it.delete(nt);return this.size=it.size,lt}function Hv(nt){return this.__data__.get(nt)}function qv(nt){return this.__data__.has(nt)}function Xv(nt,it){var lt=this.__data__;if(lt instanceof Vr){var pt=lt.__data__;if(!qo||pt.length<_e-1)return pt.push([nt,it]),this.size=++lt.size,this;lt=this.__data__=new Gr(pt)}return lt.set(nt,it),this.size=lt.size,this}Br.prototype.clear=Vv,Br.prototype.delete=Gv,Br.prototype.get=Hv,Br.prototype.has=qv,Br.prototype.set=Xv;function yp(nt,it){var lt=Fn(nt),pt=!lt&&go(nt),kt=!lt&&!pt&&so(nt),Pt=!lt&&!pt&&!kt&&Do(nt),Dt=lt||pt||kt||Pt,Bt=Dt?$l(nt.length,iv):[],Gt=Bt.length;for(var un in nt)(it||Yn.call(nt,un))&&!(Dt&&(un=="length"||kt&&(un=="offset"||un=="parent")||Pt&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Kr(un,Gt)))&&Bt.push(un);return Bt}function _p(nt){var it=nt.length;return it?nt[Zl(0,it-1)]:$}function Kv(nt,it){return js(yr(nt),fo(it,0,nt.length))}function Yv(nt){return js(yr(nt))}function Ll(nt,it,lt){(lt!==$&&!Lr(nt[it],lt)||lt===$&&!(it in nt))&&Hr(nt,it,lt)}function Zo(nt,it,lt){var pt=nt[it];(!(Yn.call(nt,it)&&Lr(pt,lt))||lt===$&&!(it in nt))&&Hr(nt,it,lt)}function Is(nt,it){for(var lt=nt.length;lt--;)if(Lr(nt[lt][0],it))return lt;return-1}function Zv(nt,it,lt,pt){return no(nt,function(kt,Pt,Dt){it(pt,kt,lt(kt),Dt)}),pt}function xp(nt,it){return nt&&jr(it,cr(it),nt)}function Qv(nt,it){return nt&&jr(it,xr(it),nt)}function Hr(nt,it,lt){it=="__proto__"&&Es?Es(nt,it,{configurable:!0,enumerable:!0,value:lt,writable:!0}):nt[it]=lt}function Ul(nt,it){for(var lt=-1,pt=it.length,kt=Yt(pt),Pt=nt==null;++lt<pt;)kt[lt]=Pt?$:wu(nt,it[lt]);return kt}function fo(nt,it,lt){return nt===nt&&(lt!==$&&(nt=nt<=lt?nt:lt),it!==$&&(nt=nt>=it?nt:it)),nt}function $r(nt,it,lt,pt,kt,Pt){var Dt,Bt=it&ut,Gt=it&ct,un=it&vt;if(lt&&(Dt=kt?lt(nt,pt,kt,Pt):lt(nt)),Dt!==$)return Dt;if(!nr(nt))return nt;var cn=Fn(nt);if(cn){if(Dt=U1(nt),!Bt)return yr(nt,Dt)}else{var hn=hr(nt),xn=hn==$t||hn==tn;if(so(nt))return Vp(nt,Bt);if(hn==gn||hn==_n||xn&&!kt){if(Dt=Gt||xn?{}:lm(nt),!Bt)return Gt?I1(nt,Qv(Dt,nt)):A1(nt,xp(Dt,nt))}else{if(!Qn[hn])return kt?nt:{};Dt=z1(nt,hn,Bt)}}Pt||(Pt=new Br);var Sn=Pt.get(nt);if(Sn)return Sn;Pt.set(nt,Dt),Fm(nt)?nt.forEach(function($n){Dt.add($r($n,it,lt,$n,nt,Pt))}):Dm(nt)&&nt.forEach(function($n,zn){Dt.set(zn,$r($n,it,lt,zn,nt,Pt))});var Nn=un?Gt?lu:au:Gt?xr:cr,Ln=cn?$:Nn(nt);return Ir(Ln||nt,function($n,zn){Ln&&(zn=$n,$n=nt[zn]),Zo(Dt,zn,$r($n,it,lt,zn,nt,Pt))}),Dt}function Jv(nt){var it=cr(nt);return function(lt){return Tp(lt,nt,it)}}function Tp(nt,it,lt){var pt=lt.length;if(nt==null)return!pt;for(nt=Zn(nt);pt--;){var kt=lt[pt],Pt=it[kt],Dt=nt[kt];if(Dt===$&&!(kt in nt)||!Pt(Dt))return!1}return!0}function wp(nt,it,lt){if(typeof nt!="function")throw new Pr(tt);return is(function(){nt.apply($,lt)},it)}function Qo(nt,it,lt,pt){var kt=-1,Pt=ds,Dt=!0,Bt=nt.length,Gt=[],un=it.length;if(!Bt)return Gt;lt&&(it=tr(it,Er(lt))),pt?(Pt=Sl,Dt=!1):it.length>=_e&&(Pt=Go,Dt=!1,it=new co(it));e:for(;++kt<Bt;){var cn=nt[kt],hn=lt==null?cn:lt(cn);if(cn=pt||cn!==0?cn:0,Dt&&hn===hn){for(var xn=un;xn--;)if(it[xn]===hn)continue e;Gt.push(cn)}else Pt(it,hn,pt)||Gt.push(cn)}return Gt}var no=Kp(zr),Ep=Kp(Wl,!0);function e1(nt,it){var lt=!0;return no(nt,function(pt,kt,Pt){return lt=!!it(pt,kt,Pt),lt}),lt}function Ps(nt,it,lt){for(var pt=-1,kt=nt.length;++pt<kt;){var Pt=nt[pt],Dt=it(Pt);if(Dt!=null&&(Bt===$?Dt===Dt&&!br(Dt):lt(Dt,Bt)))var Bt=Dt,Gt=Pt}return Gt}function t1(nt,it,lt,pt){var kt=nt.length;for(lt=Bn(lt),lt<0&&(lt=-lt>kt?0:kt+lt),pt=pt===$||pt>kt?kt:Bn(pt),pt<0&&(pt+=kt),pt=lt>pt?0:Lm(pt);lt<pt;)nt[lt++]=it;return nt}function Sp(nt,it){var lt=[];return no(nt,function(pt,kt,Pt){it(pt,kt,Pt)&&lt.push(pt)}),lt}function fr(nt,it,lt,pt,kt){var Pt=-1,Dt=nt.length;for(lt||(lt=W1),kt||(kt=[]);++Pt<Dt;){var Bt=nt[Pt];it>0&&lt(Bt)?it>1?fr(Bt,it-1,lt,pt,kt):_i(kt,Bt):pt||(kt[kt.length]=Bt)}return kt}var zl=Yp(),bp=Yp(!0);function zr(nt,it){return nt&&zl(nt,it,cr)}function Wl(nt,it){return nt&&bp(nt,it,cr)}function Ns(nt,it){return Jr(it,function(lt){return Yr(nt[lt])})}function po(nt,it){it=io(it,nt);for(var lt=0,pt=it.length;nt!=null&&lt<pt;)nt=nt[Wr(it[lt++])];return lt&&lt==pt?nt:$}function Cp(nt,it,lt){var pt=it(nt);return Fn(nt)?pt:_i(pt,lt(nt))}function mr(nt){return nt==null?nt===$?Xt:mn:lo&&lo in Zn(nt)?F1(nt):Y1(nt)}function Vl(nt,it){return nt>it}function n1(nt,it){return nt!=null&&Yn.call(nt,it)}function r1(nt,it){return nt!=null&&it in Zn(nt)}function i1(nt,it,lt){return nt>=pr(it,lt)&&nt<ur(it,lt)}function Gl(nt,it,lt){for(var pt=lt?Sl:ds,kt=nt[0].length,Pt=nt.length,Dt=Pt,Bt=Yt(Pt),Gt=1/0,un=[];Dt--;){var cn=nt[Dt];Dt&&it&&(cn=tr(cn,Er(it))),Gt=pr(cn.length,Gt),Bt[Dt]=!lt&&(it||kt>=120&&cn.length>=120)?new co(Dt&&cn):$}cn=nt[0];var hn=-1,xn=Bt[0];e:for(;++hn<kt&&un.length<Gt;){var Sn=cn[hn],Nn=it?it(Sn):Sn;if(Sn=lt||Sn!==0?Sn:0,!(xn?Go(xn,Nn):pt(un,Nn,lt))){for(Dt=Pt;--Dt;){var Ln=Bt[Dt];if(!(Ln?Go(Ln,Nn):pt(nt[Dt],Nn,lt)))continue e}xn&&xn.push(Nn),un.push(Sn)}}return un}function o1(nt,it,lt,pt){return zr(nt,function(kt,Pt,Dt){it(pt,lt(kt),Pt,Dt)}),pt}function Jo(nt,it,lt){it=io(it,nt),nt=fm(nt,it);var pt=nt==null?nt:nt[Wr(Or(it))];return pt==null?$:wr(pt,nt,lt)}function kp(nt){return ir(nt)&&mr(nt)==_n}function s1(nt){return ir(nt)&&mr(nt)==At}function a1(nt){return ir(nt)&&mr(nt)==yn}function es(nt,it,lt,pt,kt){return nt===it?!0:nt==null||it==null||!ir(nt)&&!ir(it)?nt!==nt&&it!==it:l1(nt,it,lt,pt,es,kt)}function l1(nt,it,lt,pt,kt,Pt){var Dt=Fn(nt),Bt=Fn(it),Gt=Dt?Ut:hr(nt),un=Bt?Ut:hr(it);Gt=Gt==_n?gn:Gt,un=un==_n?gn:un;var cn=Gt==gn,hn=un==gn,xn=Gt==un;if(xn&&so(nt)){if(!so(it))return!1;Dt=!0,cn=!1}if(xn&&!cn)return Pt||(Pt=new Br),Dt||Do(nt)?om(nt,it,lt,pt,kt,Pt):D1(nt,it,Gt,lt,pt,kt,Pt);if(!(lt&ht)){var Sn=cn&&Yn.call(nt,"__wrapped__"),Nn=hn&&Yn.call(it,"__wrapped__");if(Sn||Nn){var Ln=Sn?nt.value():nt,$n=Nn?it.value():it;return Pt||(Pt=new Br),kt(Ln,$n,lt,pt,Pt)}}return xn?(Pt||(Pt=new Br),M1(nt,it,lt,pt,kt,Pt)):!1}function u1(nt){return ir(nt)&&hr(nt)==dn}function Hl(nt,it,lt,pt){var kt=lt.length,Pt=kt,Dt=!pt;if(nt==null)return!Pt;for(nt=Zn(nt);kt--;){var Bt=lt[kt];if(Dt&&Bt[2]?Bt[1]!==nt[Bt[0]]:!(Bt[0]in nt))return!1}for(;++kt<Pt;){Bt=lt[kt];var Gt=Bt[0],un=nt[Gt],cn=Bt[1];if(Dt&&Bt[2]){if(un===$&&!(Gt in nt))return!1}else{var hn=new Br;if(pt)var xn=pt(un,cn,Gt,nt,it,hn);if(!(xn===$?es(cn,un,ht|yt,pt,hn):xn))return!1}}return!0}function Ap(nt){if(!nr(nt)||G1(nt))return!1;var it=Yr(nt)?uv:_g;return it.test(mo(nt))}function c1(nt){return ir(nt)&&mr(nt)==bn}function d1(nt){return ir(nt)&&hr(nt)==On}function f1(nt){return ir(nt)&&Xs(nt.length)&&!!er[mr(nt)]}function Ip(nt){return typeof nt=="function"?nt:nt==null?Tr:typeof nt=="object"?Fn(nt)?$p(nt[0],nt[1]):Np(nt):Ym(nt)}function Xl(nt){if(!rs(nt))return mv(nt);var it=[];for(var lt in Zn(nt))Yn.call(nt,lt)&&lt!="constructor"&&it.push(lt);return it}function p1(nt){if(!nr(nt))return K1(nt);var it=rs(nt),lt=[];for(var pt in nt)pt=="constructor"&&(it||!Yn.call(nt,pt))||lt.push(pt);return lt}function Kl(nt,it){return nt<it}function Pp(nt,it){var lt=-1,pt=_r(nt)?Yt(nt.length):[];return no(nt,function(kt,Pt,Dt){pt[++lt]=it(kt,Pt,Dt)}),pt}function Np(nt){var it=cu(nt);return it.length==1&&it[0][2]?cm(it[0][0],it[0][1]):function(lt){return lt===nt||Hl(lt,nt,it)}}function $p(nt,it){return fu(nt)&&um(it)?cm(Wr(nt),it):function(lt){var pt=wu(lt,nt);return pt===$&&pt===it?Eu(lt,nt):es(it,pt,ht|yt)}}function $s(nt,it,lt,pt,kt){nt!==it&&zl(it,function(Pt,Dt){if(kt||(kt=new Br),nr(Pt))h1(nt,it,Dt,lt,$s,pt,kt);else{var Bt=pt?pt(hu(nt,Dt),Pt,Dt+"",nt,it,kt):$;Bt===$&&(Bt=Pt),Ll(nt,Dt,Bt)}},xr)}function h1(nt,it,lt,pt,kt,Pt,Dt){var Bt=hu(nt,lt),Gt=hu(it,lt),un=Dt.get(Gt);if(un){Ll(nt,lt,un);return}var cn=Pt?Pt(Bt,Gt,lt+"",nt,it,Dt):$,hn=cn===$;if(hn){var xn=Fn(Gt),Sn=!xn&&so(Gt),Nn=!xn&&!Sn&&Do(Gt);cn=Gt,xn||Sn||Nn?Fn(Bt)?cn=Bt:or(Bt)?cn=yr(Bt):Sn?(hn=!1,cn=Vp(Gt,!0)):Nn?(hn=!1,cn=Gp(Gt,!0)):cn=[]:os(Gt)||go(Gt)?(cn=Bt,go(Bt)?cn=Um(Bt):(!nr(Bt)||Yr(Bt))&&(cn=lm(Gt))):hn=!1}hn&&(Dt.set(Gt,cn),kt(cn,Gt,pt,Pt,Dt),Dt.delete(Gt)),Ll(nt,lt,cn)}function Rp(nt,it){var lt=nt.length;if(lt)return it+=it<0?lt:0,Kr(it,lt)?nt[it]:$}function Op(nt,it,lt){it.length?it=tr(it,function(Pt){return Fn(Pt)?function(Dt){return po(Dt,Pt.length===1?Pt[0]:Pt)}:Pt}):it=[Tr];var pt=-1;it=tr(it,Er(Pn()));var kt=Pp(nt,function(Pt,Dt,Bt){var Gt=tr(it,function(un){return un(Pt)});return{criteria:Gt,index:++pt,value:Pt}});return z0(kt,function(Pt,Dt){return k1(Pt,Dt,lt)})}function m1(nt,it){return Dp(nt,it,function(lt,pt){return Eu(nt,pt)})}function Dp(nt,it,lt){for(var pt=-1,kt=it.length,Pt={};++pt<kt;){var Dt=it[pt],Bt=po(nt,Dt);lt(Bt,Dt)&&ts(Pt,io(Dt,nt),Bt)}return Pt}function g1(nt){return function(it){return po(it,nt)}}function Yl(nt,it,lt,pt){var kt=pt?U0:So,Pt=-1,Dt=it.length,Bt=nt;for(nt===it&&(it=yr(it)),lt&&(Bt=tr(nt,Er(lt)));++Pt<Dt;)for(var Gt=0,un=it[Pt],cn=lt?lt(un):un;(Gt=kt(Bt,cn,Gt,pt))>-1;)Bt!==nt&&ws.call(Bt,Gt,1),ws.call(nt,Gt,1);return nt}function Mp(nt,it){for(var lt=nt?it.length:0,pt=lt-1;lt--;){var kt=it[lt];if(lt==pt||kt!==Pt){var Pt=kt;Kr(kt)?ws.call(nt,kt,1):eu(nt,kt)}}return nt}function Zl(nt,it){return nt+bs(gp()*(it-nt+1))}function v1(nt,it,lt,pt){for(var kt=-1,Pt=ur(Ss((it-nt)/(lt||1)),0),Dt=Yt(Pt);Pt--;)Dt[pt?Pt:++kt]=nt,nt+=lt;return Dt}function Ql(nt,it){var lt="";if(!nt||it<1||it>Kt)return lt;do it%2&&(lt+=nt),it=bs(it/2),it&&(nt+=nt);while(it);return lt}function Un(nt,it){return mu(dm(nt,it,Tr),nt+"")}function y1(nt){return _p(Mo(nt))}function _1(nt,it){var lt=Mo(nt);return js(lt,fo(it,0,lt.length))}function ts(nt,it,lt,pt){if(!nr(nt))return nt;it=io(it,nt);for(var kt=-1,Pt=it.length,Dt=Pt-1,Bt=nt;Bt!=null&&++kt<Pt;){var Gt=Wr(it[kt]),un=lt;if(Gt==="__proto__"||Gt==="constructor"||Gt==="prototype")return nt;if(kt!=Dt){var cn=Bt[Gt];un=pt?pt(cn,Gt,Bt):$,un===$&&(un=nr(cn)?cn:Kr(it[kt+1])?[]:{})}Zo(Bt,Gt,un),Bt=Bt[Gt]}return nt}var Fp=Cs?function(nt,it){return Cs.set(nt,it),nt}:Tr,x1=Es?function(nt,it){return Es(nt,"toString",{configurable:!0,enumerable:!1,value:bu(it),writable:!0})}:Tr;function T1(nt){return js(Mo(nt))}function Rr(nt,it,lt){var pt=-1,kt=nt.length;it<0&&(it=-it>kt?0:kt+it),lt=lt>kt?kt:lt,lt<0&&(lt+=kt),kt=it>lt?0:lt-it>>>0,it>>>=0;for(var Pt=Yt(kt);++pt<kt;)Pt[pt]=nt[pt+it];return Pt}function w1(nt,it){var lt;return no(nt,function(pt,kt,Pt){return lt=it(pt,kt,Pt),!lt}),!!lt}function Rs(nt,it,lt){var pt=0,kt=nt==null?pt:nt.length;if(typeof it=="number"&&it===it&&kt<=Cn){for(;pt<kt;){var Pt=pt+kt>>>1,Dt=nt[Pt];Dt!==null&&!br(Dt)&&(lt?Dt<=it:Dt<it)?pt=Pt+1:kt=Pt}return kt}return Jl(nt,it,Tr,lt)}function Jl(nt,it,lt,pt){var kt=0,Pt=nt==null?0:nt.length;if(Pt===0)return 0;it=lt(it);for(var Dt=it!==it,Bt=it===null,Gt=br(it),un=it===$;kt<Pt;){var cn=bs((kt+Pt)/2),hn=lt(nt[cn]),xn=hn!==$,Sn=hn===null,Nn=hn===hn,Ln=br(hn);if(Dt)var $n=pt||Nn;else un?$n=Nn&&(pt||xn):Bt?$n=Nn&&xn&&(pt||!Sn):Gt?$n=Nn&&xn&&!Sn&&(pt||!Ln):Sn||Ln?$n=!1:$n=pt?hn<=it:hn<it;$n?kt=cn+1:Pt=cn}return pr(Pt,vn)}function Bp(nt,it){for(var lt=-1,pt=nt.length,kt=0,Pt=[];++lt<pt;){var Dt=nt[lt],Bt=it?it(Dt):Dt;if(!lt||!Lr(Bt,Gt)){var Gt=Bt;Pt[kt++]=Dt===0?0:Dt}}return Pt}function Lp(nt){return typeof nt=="number"?nt:br(nt)?fn:+nt}function Sr(nt){if(typeof nt=="string")return nt;if(Fn(nt))return tr(nt,Sr)+"";if(br(nt))return vp?vp.call(nt):"";var it=nt+"";return it=="0"&&1/nt==-pn?"-0":it}function ro(nt,it,lt){var pt=-1,kt=ds,Pt=nt.length,Dt=!0,Bt=[],Gt=Bt;if(lt)Dt=!1,kt=Sl;else if(Pt>=_e){var un=it?null:R1(nt);if(un)return ps(un);Dt=!1,kt=Go,Gt=new co}else Gt=it?[]:Bt;e:for(;++pt<Pt;){var cn=nt[pt],hn=it?it(cn):cn;if(cn=lt||cn!==0?cn:0,Dt&&hn===hn){for(var xn=Gt.length;xn--;)if(Gt[xn]===hn)continue e;it&&Gt.push(hn),Bt.push(cn)}else kt(Gt,hn,lt)||(Gt!==Bt&&Gt.push(hn),Bt.push(cn))}return Bt}function eu(nt,it){return it=io(it,nt),nt=fm(nt,it),nt==null||delete nt[Wr(Or(it))]}function Up(nt,it,lt,pt){return ts(nt,it,lt(po(nt,it)),pt)}function Os(nt,it,lt,pt){for(var kt=nt.length,Pt=pt?kt:-1;(pt?Pt--:++Pt<kt)&&it(nt[Pt],Pt,nt););return lt?Rr(nt,pt?0:Pt,pt?Pt+1:kt):Rr(nt,pt?Pt+1:0,pt?kt:Pt)}function zp(nt,it){var lt=nt;return lt instanceof Vn&&(lt=lt.value()),Cl(it,function(pt,kt){return kt.func.apply(kt.thisArg,_i([pt],kt.args))},lt)}function tu(nt,it,lt){var pt=nt.length;if(pt<2)return pt?ro(nt[0]):[];for(var kt=-1,Pt=Yt(pt);++kt<pt;)for(var Dt=nt[kt],Bt=-1;++Bt<pt;)Bt!=kt&&(Pt[kt]=Qo(Pt[kt]||Dt,nt[Bt],it,lt));return ro(fr(Pt,1),it,lt)}function jp(nt,it,lt){for(var pt=-1,kt=nt.length,Pt=it.length,Dt={};++pt<kt;){var Bt=pt<Pt?it[pt]:$;lt(Dt,nt[pt],Bt)}return Dt}function nu(nt){return or(nt)?nt:[]}function ru(nt){return typeof nt=="function"?nt:Tr}function io(nt,it){return Fn(nt)?nt:fu(nt,it)?[nt]:gm(Kn(nt))}var E1=Un;function oo(nt,it,lt){var pt=nt.length;return lt=lt===$?pt:lt,!it&&lt>=pt?nt:Rr(nt,it,lt)}var Wp=cv||function(nt){return dr.clearTimeout(nt)};function Vp(nt,it){if(it)return nt.slice();var lt=nt.length,pt=dp?dp(lt):new nt.constructor(lt);return nt.copy(pt),pt}function iu(nt){var it=new nt.constructor(nt.byteLength);return new xs(it).set(new xs(nt)),it}function S1(nt,it){var lt=it?iu(nt.buffer):nt.buffer;return new nt.constructor(lt,nt.byteOffset,nt.byteLength)}function b1(nt){var it=new nt.constructor(nt.source,To.exec(nt));return it.lastIndex=nt.lastIndex,it}function C1(nt){return Yo?Zn(Yo.call(nt)):{}}function Gp(nt,it){var lt=it?iu(nt.buffer):nt.buffer;return new nt.constructor(lt,nt.byteOffset,nt.length)}function Hp(nt,it){if(nt!==it){var lt=nt!==$,pt=nt===null,kt=nt===nt,Pt=br(nt),Dt=it!==$,Bt=it===null,Gt=it===it,un=br(it);if(!Bt&&!un&&!Pt&&nt>it||Pt&&Dt&&Gt&&!Bt&&!un||pt&&Dt&&Gt||!lt&&Gt||!kt)return 1;if(!pt&&!Pt&&!un&&nt<it||un&&lt&&kt&&!pt&&!Pt||Bt&&lt&&kt||!Dt&&kt||!Gt)return-1}return 0}function k1(nt,it,lt){for(var pt=-1,kt=nt.criteria,Pt=it.criteria,Dt=kt.length,Bt=lt.length;++pt<Dt;){var Gt=Hp(kt[pt],Pt[pt]);if(Gt){if(pt>=Bt)return Gt;var un=lt[pt];return Gt*(un=="desc"?-1:1)}}return nt.index-it.index}function qp(nt,it,lt,pt){for(var kt=-1,Pt=nt.length,Dt=lt.length,Bt=-1,Gt=it.length,un=ur(Pt-Dt,0),cn=Yt(Gt+un),hn=!pt;++Bt<Gt;)cn[Bt]=it[Bt];for(;++kt<Dt;)(hn||kt<Pt)&&(cn[lt[kt]]=nt[kt]);for(;un--;)cn[Bt++]=nt[kt++];return cn}function Xp(nt,it,lt,pt){for(var kt=-1,Pt=nt.length,Dt=-1,Bt=lt.length,Gt=-1,un=it.length,cn=ur(Pt-Bt,0),hn=Yt(cn+un),xn=!pt;++kt<cn;)hn[kt]=nt[kt];for(var Sn=kt;++Gt<un;)hn[Sn+Gt]=it[Gt];for(;++Dt<Bt;)(xn||kt<Pt)&&(hn[Sn+lt[Dt]]=nt[kt++]);return hn}function yr(nt,it){var lt=-1,pt=nt.length;for(it||(it=Yt(pt));++lt<pt;)it[lt]=nt[lt];return it}function jr(nt,it,lt,pt){var kt=!lt;lt||(lt={});for(var Pt=-1,Dt=it.length;++Pt<Dt;){var Bt=it[Pt],Gt=pt?pt(lt[Bt],nt[Bt],Bt,lt,nt):$;Gt===$&&(Gt=nt[Bt]),kt?Hr(lt,Bt,Gt):Zo(lt,Bt,Gt)}return lt}function A1(nt,it){return jr(nt,du(nt),it)}function I1(nt,it){return jr(nt,sm(nt),it)}function Ds(nt,it){return function(lt,pt){var kt=Fn(lt)?O0:Zv,Pt=it?it():{};return kt(lt,nt,Pn(pt,2),Pt)}}function $o(nt){return Un(function(it,lt){var pt=-1,kt=lt.length,Pt=kt>1?lt[kt-1]:$,Dt=kt>2?lt[2]:$;for(Pt=nt.length>3&&typeof Pt=="function"?(kt--,Pt):$,Dt&&gr(lt[0],lt[1],Dt)&&(Pt=kt<3?$:Pt,kt=1),it=Zn(it);++pt<kt;){var Bt=lt[pt];Bt&&nt(it,Bt,pt,Pt)}return it})}function Kp(nt,it){return function(lt,pt){if(lt==null)return lt;if(!_r(lt))return nt(lt,pt);for(var kt=lt.length,Pt=it?kt:-1,Dt=Zn(lt);(it?Pt--:++Pt<kt)&&pt(Dt[Pt],Pt,Dt)!==!1;);return lt}}function Yp(nt){return function(it,lt,pt){for(var kt=-1,Pt=Zn(it),Dt=pt(it),Bt=Dt.length;Bt--;){var Gt=Dt[nt?Bt:++kt];if(lt(Pt[Gt],Gt,Pt)===!1)break}return it}}function P1(nt,it,lt){var pt=it&bt,kt=ns(nt);function Pt(){var Dt=this&&this!==dr&&this instanceof Pt?kt:nt;return Dt.apply(pt?lt:this,arguments)}return Pt}function Zp(nt){return function(it){it=Kn(it);var lt=bo(it)?Fr(it):$,pt=lt?lt[0]:it.charAt(0),kt=lt?oo(lt,1).join(""):it.slice(1);return pt[nt]()+kt}}function Ro(nt){return function(it){return Cl(Xm(qm(it).replace(x0,"")),nt,"")}}function ns(nt){return function(){var it=arguments;switch(it.length){case 0:return new nt;case 1:return new nt(it[0]);case 2:return new nt(it[0],it[1]);case 3:return new nt(it[0],it[1],it[2]);case 4:return new nt(it[0],it[1],it[2],it[3]);case 5:return new nt(it[0],it[1],it[2],it[3],it[4]);case 6:return new nt(it[0],it[1],it[2],it[3],it[4],it[5]);case 7:return new nt(it[0],it[1],it[2],it[3],it[4],it[5],it[6])}var lt=No(nt.prototype),pt=nt.apply(lt,it);return nr(pt)?pt:lt}}function N1(nt,it,lt){var pt=ns(nt);function kt(){for(var Pt=arguments.length,Dt=Yt(Pt),Bt=Pt,Gt=Oo(kt);Bt--;)Dt[Bt]=arguments[Bt];var un=Pt<3&&Dt[0]!==Gt&&Dt[Pt-1]!==Gt?[]:eo(Dt,Gt);if(Pt-=un.length,Pt<lt)return tm(nt,it,Ms,kt.placeholder,$,Dt,un,$,$,lt-Pt);var cn=this&&this!==dr&&this instanceof kt?pt:nt;return wr(cn,this,Dt)}return kt}function Qp(nt){return function(it,lt,pt){var kt=Zn(it);if(!_r(it)){var Pt=Pn(lt,3);it=cr(it),lt=function(Bt){return Pt(kt[Bt],Bt,kt)}}var Dt=nt(it,lt,pt);return Dt>-1?kt[Pt?it[Dt]:Dt]:$}}function Jp(nt){return Xr(function(it){var lt=it.length,pt=lt,kt=Nr.prototype.thru;for(nt&&it.reverse();pt--;){var Pt=it[pt];if(typeof Pt!="function")throw new Pr(tt);if(kt&&!Dt&&Us(Pt)=="wrapper")var Dt=new Nr([],!0)}for(pt=Dt?pt:lt;++pt<lt;){Pt=it[pt];var Bt=Us(Pt),Gt=Bt=="wrapper"?uu(Pt):$;Gt&&pu(Gt[0])&&Gt[1]==(gt|Tt|Et|wt)&&!Gt[4].length&&Gt[9]==1?Dt=Dt[Us(Gt[0])].apply(Dt,Gt[3]):Dt=Pt.length==1&&pu(Pt)?Dt[Bt]():Dt.thru(Pt)}return function(){var un=arguments,cn=un[0];if(Dt&&un.length==1&&Fn(cn))return Dt.plant(cn).value();for(var hn=0,xn=lt?it[hn].apply(this,un):cn;++hn<lt;)xn=it[hn].call(this,xn);return xn}})}function Ms(nt,it,lt,pt,kt,Pt,Dt,Bt,Gt,un){var cn=it&gt,hn=it&bt,xn=it&dt,Sn=it&(Tt|Ct),Nn=it&Mt,Ln=xn?$:ns(nt);function $n(){for(var zn=arguments.length,Hn=Yt(zn),Cr=zn;Cr--;)Hn[Cr]=arguments[Cr];if(Sn)var vr=Oo($n),kr=W0(Hn,vr);if(pt&&(Hn=qp(Hn,pt,kt,Sn)),Pt&&(Hn=Xp(Hn,Pt,Dt,Sn)),zn-=kr,Sn&&zn<un){var sr=eo(Hn,vr);return tm(nt,it,Ms,$n.placeholder,lt,Hn,sr,Bt,Gt,un-zn)}var Ur=hn?lt:this,Qr=xn?Ur[nt]:nt;return zn=Hn.length,Bt?Hn=Z1(Hn,Bt):Nn&&zn>1&&Hn.reverse(),cn&&Gt<zn&&(Hn.length=Gt),this&&this!==dr&&this instanceof $n&&(Qr=Ln||ns(Qr)),Qr.apply(Ur,Hn)}return $n}function _h(nt,it){return function(lt,pt){return o1(lt,nt,it(pt),{})}}function Fs(nt,it){return function(lt,pt){var kt;if(lt===$&&pt===$)return it;if(lt!==$&&(kt=lt),pt!==$){if(kt===$)return pt;typeof lt=="string"||typeof pt=="string"?(lt=Sr(lt),pt=Sr(pt)):(lt=Lp(lt),pt=Lp(pt)),kt=nt(lt,pt)}return kt}}function ou(nt){return Xr(function(it){return it=tr(it,Er(Pn())),Un(function(lt){var pt=this;return nt(it,function(kt){return wr(kt,pt,lt)})})})}function Bs(nt,it){it=it===$?" ":Sr(it);var lt=it.length;if(lt<2)return lt?Ql(it,nt):it;var pt=Ql(it,Ss(nt/Co(it)));return bo(it)?oo(Fr(pt),0,nt).join(""):pt.slice(0,nt)}function $1(nt,it,lt,pt){var kt=it&bt,Pt=ns(nt);function Dt(){for(var Bt=-1,Gt=arguments.length,un=-1,cn=pt.length,hn=Yt(cn+Gt),xn=this&&this!==dr&&this instanceof Dt?Pt:nt;++un<cn;)hn[un]=pt[un];for(;Gt--;)hn[un++]=arguments[++Bt];return wr(xn,kt?lt:this,hn)}return Dt}function em(nt){return function(it,lt,pt){return pt&&typeof pt!="number"&&gr(it,lt,pt)&&(lt=pt=$),it=Zr(it),lt===$?(lt=it,it=0):lt=Zr(lt),pt=pt===$?it<lt?1:-1:Zr(pt),v1(it,lt,pt,nt)}}function Ls(nt){return function(it,lt){return typeof it=="string"&&typeof lt=="string"||(it=Dr(it),lt=Dr(lt)),nt(it,lt)}}function tm(nt,it,lt,pt,kt,Pt,Dt,Bt,Gt,un){var cn=it&Tt,hn=cn?Dt:$,xn=cn?$:Dt,Sn=cn?Pt:$,Nn=cn?$:Pt;it|=cn?Et:St,it&=~(cn?St:Et),it&xt||(it&=~(bt|dt));var Ln=[nt,it,kt,Sn,hn,Nn,xn,Bt,Gt,un],$n=lt.apply($,Ln);return pu(nt)&&pm($n,Ln),$n.placeholder=pt,hm($n,nt,it)}function su(nt){var it=lr[nt];return function(lt,pt){if(lt=Dr(lt),pt=pt==null?0:pr(Bn(pt),292),pt&&mp(lt)){var kt=(Kn(lt)+"e").split("e"),Pt=it(kt[0]+"e"+(+kt[1]+pt));return kt=(Kn(Pt)+"e").split("e"),+(kt[0]+"e"+(+kt[1]-pt))}return it(lt)}}var R1=Io&&1/ps(new Io([,-0]))[1]==pn?function(nt){return new Io(nt)}:Au;function nm(nt){return function(it){var lt=hr(it);return lt==dn?Ol(it):lt==On?Y0(it):j0(it,nt(it))}}function qr(nt,it,lt,pt,kt,Pt,Dt,Bt){var Gt=it&dt;if(!Gt&&typeof nt!="function")throw new Pr(tt);var un=pt?pt.length:0;if(un||(it&=~(Et|St),pt=kt=$),Dt=Dt===$?Dt:ur(Bn(Dt),0),Bt=Bt===$?Bt:Bn(Bt),un-=kt?kt.length:0,it&St){var cn=pt,hn=kt;pt=kt=$}var xn=Gt?$:uu(nt),Sn=[nt,it,lt,pt,kt,cn,hn,Pt,Dt,Bt];if(xn&&X1(Sn,xn),nt=Sn[0],it=Sn[1],lt=Sn[2],pt=Sn[3],kt=Sn[4],Bt=Sn[9]=Sn[9]===$?Gt?0:nt.length:ur(Sn[9]-un,0),!Bt&&it&(Tt|Ct)&&(it&=~(Tt|Ct)),!it||it==bt)var Nn=P1(nt,it,lt);else it==Tt||it==Ct?Nn=N1(nt,it,Bt):(it==Et||it==(bt|Et))&&!kt.length?Nn=$1(nt,it,lt,pt):Nn=Ms.apply($,Sn);var Ln=xn?Fp:pm;return hm(Ln(Nn,Sn),nt,it)}function rm(nt,it,lt,pt){return nt===$||Lr(nt,Ao[lt])&&!Yn.call(pt,lt)?it:nt}function im(nt,it,lt,pt,kt,Pt){return nr(nt)&&nr(it)&&(Pt.set(it,nt),$s(nt,it,$,im,Pt),Pt.delete(it)),nt}function O1(nt){return os(nt)?$:nt}function om(nt,it,lt,pt,kt,Pt){var Dt=lt&ht,Bt=nt.length,Gt=it.length;if(Bt!=Gt&&!(Dt&&Gt>Bt))return!1;var un=Pt.get(nt),cn=Pt.get(it);if(un&&cn)return un==it&&cn==nt;var hn=-1,xn=!0,Sn=lt&yt?new co:$;for(Pt.set(nt,it),Pt.set(it,nt);++hn<Bt;){var Nn=nt[hn],Ln=it[hn];if(pt)var $n=Dt?pt(Ln,Nn,hn,it,nt,Pt):pt(Nn,Ln,hn,nt,it,Pt);if($n!==$){if($n)continue;xn=!1;break}if(Sn){if(!Al(it,function(zn,Hn){if(!Go(Sn,Hn)&&(Nn===zn||kt(Nn,zn,lt,pt,Pt)))return Sn.push(Hn)})){xn=!1;break}}else if(!(Nn===Ln||kt(Nn,Ln,lt,pt,Pt))){xn=!1;break}}return Pt.delete(nt),Pt.delete(it),xn}function D1(nt,it,lt,pt,kt,Pt,Dt){switch(lt){case ft:if(nt.byteLength!=it.byteLength||nt.byteOffset!=it.byteOffset)return!1;nt=nt.buffer,it=it.buffer;case At:return!(nt.byteLength!=it.byteLength||!Pt(new xs(nt),new xs(it)));case Ht:case yn:case en:return Lr(+nt,+it);case Rt:return nt.name==it.name&&nt.message==it.message;case bn:case Gn:return nt==it+"";case dn:var Bt=Ol;case On:var Gt=pt&ht;if(Bt||(Bt=ps),nt.size!=it.size&&!Gt)return!1;var un=Dt.get(nt);if(un)return un==it;pt|=yt,Dt.set(nt,it);var cn=om(Bt(nt),Bt(it),pt,kt,Pt,Dt);return Dt.delete(nt),cn;case Jn:if(Yo)return Yo.call(nt)==Yo.call(it)}return!1}function M1(nt,it,lt,pt,kt,Pt){var Dt=lt&ht,Bt=au(nt),Gt=Bt.length,un=au(it),cn=un.length;if(Gt!=cn&&!Dt)return!1;for(var hn=Gt;hn--;){var xn=Bt[hn];if(!(Dt?xn in it:Yn.call(it,xn)))return!1}var Sn=Pt.get(nt),Nn=Pt.get(it);if(Sn&&Nn)return Sn==it&&Nn==nt;var Ln=!0;Pt.set(nt,it),Pt.set(it,nt);for(var $n=Dt;++hn<Gt;){xn=Bt[hn];var zn=nt[xn],Hn=it[xn];if(pt)var Cr=Dt?pt(Hn,zn,xn,it,nt,Pt):pt(zn,Hn,xn,nt,it,Pt);if(!(Cr===$?zn===Hn||kt(zn,Hn,lt,pt,Pt):Cr)){Ln=!1;break}$n||($n=xn=="constructor")}if(Ln&&!$n){var vr=nt.constructor,kr=it.constructor;vr!=kr&&"constructor"in nt&&"constructor"in it&&!(typeof vr=="function"&&vr instanceof vr&&typeof kr=="function"&&kr instanceof kr)&&(Ln=!1)}return Pt.delete(nt),Pt.delete(it),Ln}function Xr(nt){return mu(dm(nt,$,xm),nt+"")}function au(nt){return Cp(nt,cr,du)}function lu(nt){return Cp(nt,xr,sm)}var uu=Cs?function(nt){return Cs.get(nt)}:Au;function Us(nt){for(var it=nt.name+"",lt=Po[it],pt=Yn.call(Po,it)?lt.length:0;pt--;){var kt=lt[pt],Pt=kt.func;if(Pt==null||Pt==nt)return kt.name}return it}function Oo(nt){var it=Yn.call(It,"placeholder")?It:nt;return it.placeholder}function Pn(){var nt=It.iteratee||Cu;return nt=nt===Cu?Ip:nt,arguments.length?nt(arguments[0],arguments[1]):nt}function zs(nt,it){var lt=nt.__data__;return V1(it)?lt[typeof it=="string"?"string":"hash"]:lt.map}function cu(nt){for(var it=cr(nt),lt=it.length;lt--;){var pt=it[lt],kt=nt[pt];it[lt]=[pt,kt,um(kt)]}return it}function ho(nt,it){var lt=q0(nt,it);return Ap(lt)?lt:$}function F1(nt){var it=Yn.call(nt,lo),lt=nt[lo];try{nt[lo]=$;var pt=!0}catch{}var kt=ys.call(nt);return pt&&(it?nt[lo]=lt:delete nt[lo]),kt}var du=Ml?function(nt){return nt==null?[]:(nt=Zn(nt),Jr(Ml(nt),function(it){return pp.call(nt,it)}))}:Iu,sm=Ml?function(nt){for(var it=[];nt;)_i(it,du(nt)),nt=Ts(nt);return it}:Iu,hr=mr;(Fl&&hr(new Fl(new ArrayBuffer(1)))!=ft||qo&&hr(new qo)!=dn||Bl&&hr(Bl.resolve())!=Rn||Io&&hr(new Io)!=On||Xo&&hr(new Xo)!=nn)&&(hr=function(nt){var it=mr(nt),lt=it==gn?nt.constructor:$,pt=lt?mo(lt):"";if(pt)switch(pt){case _v:return ft;case xv:return dn;case Tv:return Rn;case wv:return On;case Ev:return nn}return it});function B1(nt,it,lt){for(var pt=-1,kt=lt.length;++pt<kt;){var Pt=lt[pt],Dt=Pt.size;switch(Pt.type){case"drop":nt+=Dt;break;case"dropRight":it-=Dt;break;case"take":it=pr(it,nt+Dt);break;case"takeRight":nt=ur(nt,it-Dt);break}}return{start:nt,end:it}}function L1(nt){var it=nt.match(_a);return it?it[1].split(Wo):[]}function am(nt,it,lt){it=io(it,nt);for(var pt=-1,kt=it.length,Pt=!1;++pt<kt;){var Dt=Wr(it[pt]);if(!(Pt=nt!=null&&lt(nt,Dt)))break;nt=nt[Dt]}return Pt||++pt!=kt?Pt:(kt=nt==null?0:nt.length,!!kt&&Xs(kt)&&Kr(Dt,kt)&&(Fn(nt)||go(nt)))}function U1(nt){var it=nt.length,lt=new nt.constructor(it);return it&&typeof nt[0]=="string"&&Yn.call(nt,"index")&&(lt.index=nt.index,lt.input=nt.input),lt}function lm(nt){return typeof nt.constructor=="function"&&!rs(nt)?No(Ts(nt)):{}}function z1(nt,it,lt){var pt=nt.constructor;switch(it){case At:return iu(nt);case Ht:case yn:return new pt(+nt);case ft:return S1(nt,lt);case mt:case Nt:case Ft:case zt:case Zt:case An:case Dn:case jn:case qn:return Gp(nt,lt);case dn:return new pt;case en:case Gn:return new pt(nt);case bn:return b1(nt);case On:return new pt;case Jn:return C1(nt)}}function j1(nt,it){var lt=it.length;if(!lt)return nt;var pt=lt-1;return it[pt]=(lt>1?"& ":"")+it[pt],it=it.join(lt>2?", ":" "),nt.replace(jo,`{
/* [wrapped with `+it+`] */
`)}function W1(nt){return Fn(nt)||go(nt)||!!(hp&&nt&&nt[hp])}function Kr(nt,it){var lt=typeof nt;return it=it??Kt,!!it&&(lt=="number"||lt!="symbol"&&t0.test(nt))&&nt>-1&&nt%1==0&&nt<it}function gr(nt,it,lt){if(!nr(lt))return!1;var pt=typeof it;return(pt=="number"?_r(lt)&&Kr(it,lt.length):pt=="string"&&it in lt)?Lr(lt[it],nt):!1}function fu(nt,it){if(Fn(nt))return!1;var lt=typeof nt;return lt=="number"||lt=="symbol"||lt=="boolean"||nt==null||br(nt)?!0:Qs.test(nt)||!Lo.test(nt)||it!=null&&nt in Zn(it)}function V1(nt){var it=typeof nt;return it=="string"||it=="number"||it=="symbol"||it=="boolean"?nt!=="__proto__":nt===null}function pu(nt){var it=Us(nt),lt=It[it];if(typeof lt!="function"||!(it in Vn.prototype))return!1;if(nt===lt)return!0;var pt=uu(lt);return!!pt&&nt===pt[0]}function G1(nt){return!!cp&&cp in nt}var H1=gs?Yr:Pu;function rs(nt){var it=nt&&nt.constructor,lt=typeof it=="function"&&it.prototype||Ao;return nt===lt}function um(nt){return nt===nt&&!nr(nt)}function cm(nt,it){return function(lt){return lt==null?!1:lt[nt]===it&&(it!==$||nt in Zn(lt))}}function q1(nt){var it=Hs(nt,function(pt){return lt.size===st&&lt.clear(),pt}),lt=it.cache;return it}function X1(nt,it){var lt=nt[1],pt=it[1],kt=lt|pt,Pt=kt<(bt|dt|gt),Dt=pt==gt&&lt==Tt||pt==gt&&lt==wt&&nt[7].length<=it[8]||pt==(gt|wt)&&it[7].length<=it[8]&&lt==Tt;if(!(Pt||Dt))return nt;pt&bt&&(nt[2]=it[2],kt|=lt&bt?0:xt);var Bt=it[3];if(Bt){var Gt=nt[3];nt[3]=Gt?qp(Gt,Bt,it[4]):Bt,nt[4]=Gt?eo(nt[3],at):it[4]}return Bt=it[5],Bt&&(Gt=nt[5],nt[5]=Gt?Xp(Gt,Bt,it[6]):Bt,nt[6]=Gt?eo(nt[5],at):it[6]),Bt=it[7],Bt&&(nt[7]=Bt),pt&gt&&(nt[8]=nt[8]==null?it[8]:pr(nt[8],it[8])),nt[9]==null&&(nt[9]=it[9]),nt[0]=it[0],nt[1]=kt,nt}function K1(nt){var it=[];if(nt!=null)for(var lt in Zn(nt))it.push(lt);return it}function Y1(nt){return ys.call(nt)}function dm(nt,it,lt){return it=ur(it===$?nt.length-1:it,0),function(){for(var pt=arguments,kt=-1,Pt=ur(pt.length-it,0),Dt=Yt(Pt);++kt<Pt;)Dt[kt]=pt[it+kt];kt=-1;for(var Bt=Yt(it+1);++kt<it;)Bt[kt]=pt[kt];return Bt[it]=lt(Dt),wr(nt,this,Bt)}}function fm(nt,it){return it.length<2?nt:po(nt,Rr(it,0,-1))}function Z1(nt,it){for(var lt=nt.length,pt=pr(it.length,lt),kt=yr(nt);pt--;){var Pt=it[pt];nt[pt]=Kr(Pt,lt)?kt[Pt]:$}return nt}function hu(nt,it){if(!(it==="constructor"&&typeof nt[it]=="function")&&it!="__proto__")return nt[it]}var pm=mm(Fp),is=fv||function(nt,it){return dr.setTimeout(nt,it)},mu=mm(x1);function hm(nt,it,lt){var pt=it+"";return mu(nt,j1(pt,Q1(L1(pt),lt)))}function mm(nt){var it=0,lt=0;return function(){var pt=gv(),kt=Jt-(pt-lt);if(lt=pt,kt>0){if(++it>=jt)return arguments[0]}else it=0;return nt.apply($,arguments)}}function js(nt,it){var lt=-1,pt=nt.length,kt=pt-1;for(it=it===$?pt:it;++lt<it;){var Pt=Zl(lt,kt),Dt=nt[Pt];nt[Pt]=nt[lt],nt[lt]=Dt}return nt.length=it,nt}var gm=q1(function(nt){var it=[];return nt.charCodeAt(0)===46&&it.push(""),nt.replace(Js,function(lt,pt,kt,Pt){it.push(kt?Pt.replace(rr,"$1"):pt||lt)}),it});function Wr(nt){if(typeof nt=="string"||br(nt))return nt;var it=nt+"";return it=="0"&&1/nt==-pn?"-0":it}function mo(nt){if(nt!=null){try{return vs.call(nt)}catch{}try{return nt+""}catch{}}return""}function Q1(nt,it){return Ir(kn,function(lt){var pt="_."+lt[0];it&lt[1]&&!ds(nt,pt)&&nt.push(pt)}),nt.sort()}function vm(nt){if(nt instanceof Vn)return nt.clone();var it=new Nr(nt.__wrapped__,nt.__chain__);return it.__actions__=yr(nt.__actions__),it.__index__=nt.__index__,it.__values__=nt.__values__,it}function J1(nt,it,lt){(lt?gr(nt,it,lt):it===$)?it=1:it=ur(Bn(it),0);var pt=nt==null?0:nt.length;if(!pt||it<1)return[];for(var kt=0,Pt=0,Dt=Yt(Ss(pt/it));kt<pt;)Dt[Pt++]=Rr(nt,kt,kt+=it);return Dt}function ey(nt){for(var it=-1,lt=nt==null?0:nt.length,pt=0,kt=[];++it<lt;){var Pt=nt[it];Pt&&(kt[pt++]=Pt)}return kt}function ty(){var nt=arguments.length;if(!nt)return[];for(var it=Yt(nt-1),lt=arguments[0],pt=nt;pt--;)it[pt-1]=arguments[pt];return _i(Fn(lt)?yr(lt):[lt],fr(it,1))}var ny=Un(function(nt,it){return or(nt)?Qo(nt,fr(it,1,or,!0)):[]}),ry=Un(function(nt,it){var lt=Or(it);return or(lt)&&(lt=$),or(nt)?Qo(nt,fr(it,1,or,!0),Pn(lt,2)):[]}),iy=Un(function(nt,it){var lt=Or(it);return or(lt)&&(lt=$),or(nt)?Qo(nt,fr(it,1,or,!0),$,lt):[]});function oy(nt,it,lt){var pt=nt==null?0:nt.length;return pt?(it=lt||it===$?1:Bn(it),Rr(nt,it<0?0:it,pt)):[]}function sy(nt,it,lt){var pt=nt==null?0:nt.length;return pt?(it=lt||it===$?1:Bn(it),it=pt-it,Rr(nt,0,it<0?0:it)):[]}function ay(nt,it){return nt&&nt.length?Os(nt,Pn(it,3),!0,!0):[]}function ly(nt,it){return nt&&nt.length?Os(nt,Pn(it,3),!0):[]}function uy(nt,it,lt,pt){var kt=nt==null?0:nt.length;return kt?(lt&&typeof lt!="number"&&gr(nt,it,lt)&&(lt=0,pt=kt),t1(nt,it,lt,pt)):[]}function ym(nt,it,lt){var pt=nt==null?0:nt.length;if(!pt)return-1;var kt=lt==null?0:Bn(lt);return kt<0&&(kt=ur(pt+kt,0)),fs(nt,Pn(it,3),kt)}function _m(nt,it,lt){var pt=nt==null?0:nt.length;if(!pt)return-1;var kt=pt-1;return lt!==$&&(kt=Bn(lt),kt=lt<0?ur(pt+kt,0):pr(kt,pt-1)),fs(nt,Pn(it,3),kt,!0)}function xm(nt){var it=nt==null?0:nt.length;return it?fr(nt,1):[]}function cy(nt){var it=nt==null?0:nt.length;return it?fr(nt,pn):[]}function dy(nt,it){var lt=nt==null?0:nt.length;return lt?(it=it===$?1:Bn(it),fr(nt,it)):[]}function fy(nt){for(var it=-1,lt=nt==null?0:nt.length,pt={};++it<lt;){var kt=nt[it];pt[kt[0]]=kt[1]}return pt}function Tm(nt){return nt&&nt.length?nt[0]:$}function py(nt,it,lt){var pt=nt==null?0:nt.length;if(!pt)return-1;var kt=lt==null?0:Bn(lt);return kt<0&&(kt=ur(pt+kt,0)),So(nt,it,kt)}function hy(nt){var it=nt==null?0:nt.length;return it?Rr(nt,0,-1):[]}var my=Un(function(nt){var it=tr(nt,nu);return it.length&&it[0]===nt[0]?Gl(it):[]}),gy=Un(function(nt){var it=Or(nt),lt=tr(nt,nu);return it===Or(lt)?it=$:lt.pop(),lt.length&&lt[0]===nt[0]?Gl(lt,Pn(it,2)):[]}),vy=Un(function(nt){var it=Or(nt),lt=tr(nt,nu);return it=typeof it=="function"?it:$,it&&lt.pop(),lt.length&&lt[0]===nt[0]?Gl(lt,$,it):[]});function yy(nt,it){return nt==null?"":hv.call(nt,it)}function Or(nt){var it=nt==null?0:nt.length;return it?nt[it-1]:$}function _y(nt,it,lt){var pt=nt==null?0:nt.length;if(!pt)return-1;var kt=pt;return lt!==$&&(kt=Bn(lt),kt=kt<0?ur(pt+kt,0):pr(kt,pt-1)),it===it?Q0(nt,it,kt):fs(nt,np,kt,!0)}function xy(nt,it){return nt&&nt.length?Rp(nt,Bn(it)):$}var Ty=Un(wm);function wm(nt,it){return nt&&nt.length&&it&&it.length?Yl(nt,it):nt}function wy(nt,it,lt){return nt&&nt.length&&it&&it.length?Yl(nt,it,Pn(lt,2)):nt}function Ey(nt,it,lt){return nt&&nt.length&&it&&it.length?Yl(nt,it,$,lt):nt}var Sy=Xr(function(nt,it){var lt=nt==null?0:nt.length,pt=Ul(nt,it);return Mp(nt,tr(it,function(kt){return Kr(kt,lt)?+kt:kt}).sort(Hp)),pt});function by(nt,it){var lt=[];if(!(nt&&nt.length))return lt;var pt=-1,kt=[],Pt=nt.length;for(it=Pn(it,3);++pt<Pt;){var Dt=nt[pt];it(Dt,pt,nt)&&(lt.push(Dt),kt.push(pt))}return Mp(nt,kt),lt}function gu(nt){return nt==null?nt:yv.call(nt)}function Cy(nt,it,lt){var pt=nt==null?0:nt.length;return pt?(lt&&typeof lt!="number"&&gr(nt,it,lt)?(it=0,lt=pt):(it=it==null?0:Bn(it),lt=lt===$?pt:Bn(lt)),Rr(nt,it,lt)):[]}function ky(nt,it){return Rs(nt,it)}function Ay(nt,it,lt){return Jl(nt,it,Pn(lt,2))}function Iy(nt,it){var lt=nt==null?0:nt.length;if(lt){var pt=Rs(nt,it);if(pt<lt&&Lr(nt[pt],it))return pt}return-1}function Py(nt,it){return Rs(nt,it,!0)}function Ny(nt,it,lt){return Jl(nt,it,Pn(lt,2),!0)}function $y(nt,it){var lt=nt==null?0:nt.length;if(lt){var pt=Rs(nt,it,!0)-1;if(Lr(nt[pt],it))return pt}return-1}function Ry(nt){return nt&&nt.length?Bp(nt):[]}function Oy(nt,it){return nt&&nt.length?Bp(nt,Pn(it,2)):[]}function Dy(nt){var it=nt==null?0:nt.length;return it?Rr(nt,1,it):[]}function My(nt,it,lt){return nt&&nt.length?(it=lt||it===$?1:Bn(it),Rr(nt,0,it<0?0:it)):[]}function Fy(nt,it,lt){var pt=nt==null?0:nt.length;return pt?(it=lt||it===$?1:Bn(it),it=pt-it,Rr(nt,it<0?0:it,pt)):[]}function By(nt,it){return nt&&nt.length?Os(nt,Pn(it,3),!1,!0):[]}function Ly(nt,it){return nt&&nt.length?Os(nt,Pn(it,3)):[]}var Uy=Un(function(nt){return ro(fr(nt,1,or,!0))}),zy=Un(function(nt){var it=Or(nt);return or(it)&&(it=$),ro(fr(nt,1,or,!0),Pn(it,2))}),jy=Un(function(nt){var it=Or(nt);return it=typeof it=="function"?it:$,ro(fr(nt,1,or,!0),$,it)});function Wy(nt){return nt&&nt.length?ro(nt):[]}function Vy(nt,it){return nt&&nt.length?ro(nt,Pn(it,2)):[]}function Gy(nt,it){return it=typeof it=="function"?it:$,nt&&nt.length?ro(nt,$,it):[]}function vu(nt){if(!(nt&&nt.length))return[];var it=0;return nt=Jr(nt,function(lt){if(or(lt))return it=ur(lt.length,it),!0}),$l(it,function(lt){return tr(nt,Il(lt))})}function Em(nt,it){if(!(nt&&nt.length))return[];var lt=vu(nt);return it==null?lt:tr(lt,function(pt){return wr(it,$,pt)})}var Hy=Un(function(nt,it){return or(nt)?Qo(nt,it):[]}),qy=Un(function(nt){return tu(Jr(nt,or))}),Xy=Un(function(nt){var it=Or(nt);return or(it)&&(it=$),tu(Jr(nt,or),Pn(it,2))}),Ky=Un(function(nt){var it=Or(nt);return it=typeof it=="function"?it:$,tu(Jr(nt,or),$,it)}),Yy=Un(vu);function Zy(nt,it){return jp(nt||[],it||[],Zo)}function Qy(nt,it){return jp(nt||[],it||[],ts)}var Jy=Un(function(nt){var it=nt.length,lt=it>1?nt[it-1]:$;return lt=typeof lt=="function"?(nt.pop(),lt):$,Em(nt,lt)});function Sm(nt){var it=It(nt);return it.__chain__=!0,it}function e_(nt,it){return it(nt),nt}function Ws(nt,it){return it(nt)}var t_=Xr(function(nt){var it=nt.length,lt=it?nt[0]:0,pt=this.__wrapped__,kt=function(Pt){return Ul(Pt,nt)};return it>1||this.__actions__.length||!(pt instanceof Vn)||!Kr(lt)?this.thru(kt):(pt=pt.slice(lt,+lt+(it?1:0)),pt.__actions__.push({func:Ws,args:[kt],thisArg:$}),new Nr(pt,this.__chain__).thru(function(Pt){return it&&!Pt.length&&Pt.push($),Pt}))});function n_(){return Sm(this)}function r_(){return new Nr(this.value(),this.__chain__)}function i_(){this.__values__===$&&(this.__values__=Bm(this.value()));var nt=this.__index__>=this.__values__.length,it=nt?$:this.__values__[this.__index__++];return{done:nt,value:it}}function o_(){return this}function s_(nt){for(var it,lt=this;lt instanceof As;){var pt=vm(lt);pt.__index__=0,pt.__values__=$,it?kt.__wrapped__=pt:it=pt;var kt=pt;lt=lt.__wrapped__}return kt.__wrapped__=nt,it}function a_(){var nt=this.__wrapped__;if(nt instanceof Vn){var it=nt;return this.__actions__.length&&(it=new Vn(this)),it=it.reverse(),it.__actions__.push({func:Ws,args:[gu],thisArg:$}),new Nr(it,this.__chain__)}return this.thru(gu)}function l_(){return zp(this.__wrapped__,this.__actions__)}var u_=Ds(function(nt,it,lt){Yn.call(nt,lt)?++nt[lt]:Hr(nt,lt,1)});function c_(nt,it,lt){var pt=Fn(nt)?ep:e1;return lt&&gr(nt,it,lt)&&(it=$),pt(nt,Pn(it,3))}function d_(nt,it){var lt=Fn(nt)?Jr:Sp;return lt(nt,Pn(it,3))}var f_=Qp(ym),p_=Qp(_m);function h_(nt,it){return fr(Vs(nt,it),1)}function m_(nt,it){return fr(Vs(nt,it),pn)}function g_(nt,it,lt){return lt=lt===$?1:Bn(lt),fr(Vs(nt,it),lt)}function bm(nt,it){var lt=Fn(nt)?Ir:no;return lt(nt,Pn(it,3))}function Cm(nt,it){var lt=Fn(nt)?D0:Ep;return lt(nt,Pn(it,3))}var v_=Ds(function(nt,it,lt){Yn.call(nt,lt)?nt[lt].push(it):Hr(nt,lt,[it])});function y_(nt,it,lt,pt){nt=_r(nt)?nt:Mo(nt),lt=lt&&!pt?Bn(lt):0;var kt=nt.length;return lt<0&&(lt=ur(kt+lt,0)),Ks(nt)?lt<=kt&&nt.indexOf(it,lt)>-1:!!kt&&So(nt,it,lt)>-1}var __=Un(function(nt,it,lt){var pt=-1,kt=typeof it=="function",Pt=_r(nt)?Yt(nt.length):[];return no(nt,function(Dt){Pt[++pt]=kt?wr(it,Dt,lt):Jo(Dt,it,lt)}),Pt}),x_=Ds(function(nt,it,lt){Hr(nt,lt,it)});function Vs(nt,it){var lt=Fn(nt)?tr:Pp;return lt(nt,Pn(it,3))}function T_(nt,it,lt,pt){return nt==null?[]:(Fn(it)||(it=it==null?[]:[it]),lt=pt?$:lt,Fn(lt)||(lt=lt==null?[]:[lt]),Op(nt,it,lt))}var w_=Ds(function(nt,it,lt){nt[lt?0:1].push(it)},function(){return[[],[]]});function E_(nt,it,lt){var pt=Fn(nt)?Cl:ip,kt=arguments.length<3;return pt(nt,Pn(it,4),lt,kt,no)}function S_(nt,it,lt){var pt=Fn(nt)?M0:ip,kt=arguments.length<3;return pt(nt,Pn(it,4),lt,kt,Ep)}function b_(nt,it){var lt=Fn(nt)?Jr:Sp;return lt(nt,qs(Pn(it,3)))}function C_(nt){var it=Fn(nt)?_p:y1;return it(nt)}function k_(nt,it,lt){(lt?gr(nt,it,lt):it===$)?it=1:it=Bn(it);var pt=Fn(nt)?Kv:_1;return pt(nt,it)}function A_(nt){var it=Fn(nt)?Yv:T1;return it(nt)}function I_(nt){if(nt==null)return 0;if(_r(nt))return Ks(nt)?Co(nt):nt.length;var it=hr(nt);return it==dn||it==On?nt.size:Xl(nt).length}function P_(nt,it,lt){var pt=Fn(nt)?Al:w1;return lt&&gr(nt,it,lt)&&(it=$),pt(nt,Pn(it,3))}var N_=Un(function(nt,it){if(nt==null)return[];var lt=it.length;return lt>1&&gr(nt,it[0],it[1])?it=[]:lt>2&&gr(it[0],it[1],it[2])&&(it=[it[0]]),Op(nt,fr(it,1),[])}),Gs=dv||function(){return dr.Date.now()};function $_(nt,it){if(typeof it!="function")throw new Pr(tt);return nt=Bn(nt),function(){if(--nt<1)return it.apply(this,arguments)}}function km(nt,it,lt){return it=lt?$:it,it=nt&&it==null?nt.length:it,qr(nt,gt,$,$,$,$,it)}function Am(nt,it){var lt;if(typeof it!="function")throw new Pr(tt);return nt=Bn(nt),function(){return--nt>0&&(lt=it.apply(this,arguments)),nt<=1&&(it=$),lt}}var yu=Un(function(nt,it,lt){var pt=bt;if(lt.length){var kt=eo(lt,Oo(yu));pt|=Et}return qr(nt,pt,it,lt,kt)}),Im=Un(function(nt,it,lt){var pt=bt|dt;if(lt.length){var kt=eo(lt,Oo(Im));pt|=Et}return qr(it,pt,nt,lt,kt)});function Pm(nt,it,lt){it=lt?$:it;var pt=qr(nt,Tt,$,$,$,$,$,it);return pt.placeholder=Pm.placeholder,pt}function Nm(nt,it,lt){it=lt?$:it;var pt=qr(nt,Ct,$,$,$,$,$,it);return pt.placeholder=Nm.placeholder,pt}function $m(nt,it,lt){var pt,kt,Pt,Dt,Bt,Gt,un=0,cn=!1,hn=!1,xn=!0;if(typeof nt!="function")throw new Pr(tt);it=Dr(it)||0,nr(lt)&&(cn=!!lt.leading,hn="maxWait"in lt,Pt=hn?ur(Dr(lt.maxWait)||0,it):Pt,xn="trailing"in lt?!!lt.trailing:xn);function Sn(sr){var Ur=pt,Qr=kt;return pt=kt=$,un=sr,Dt=nt.apply(Qr,Ur),Dt}function Nn(sr){return un=sr,Bt=is(zn,it),cn?Sn(sr):Dt}function Ln(sr){var Ur=sr-Gt,Qr=sr-un,Zm=it-Ur;return hn?pr(Zm,Pt-Qr):Zm}function $n(sr){var Ur=sr-Gt,Qr=sr-un;return Gt===$||Ur>=it||Ur<0||hn&&Qr>=Pt}function zn(){var sr=Gs();if($n(sr))return Hn(sr);Bt=is(zn,Ln(sr))}function Hn(sr){return Bt=$,xn&&pt?Sn(sr):(pt=kt=$,Dt)}function Cr(){Bt!==$&&Wp(Bt),un=0,pt=Gt=kt=Bt=$}function vr(){return Bt===$?Dt:Hn(Gs())}function kr(){var sr=Gs(),Ur=$n(sr);if(pt=arguments,kt=this,Gt=sr,Ur){if(Bt===$)return Nn(Gt);if(hn)return Wp(Bt),Bt=is(zn,it),Sn(Gt)}return Bt===$&&(Bt=is(zn,it)),Dt}return kr.cancel=Cr,kr.flush=vr,kr}var R_=Un(function(nt,it){return wp(nt,1,it)}),O_=Un(function(nt,it,lt){return wp(nt,Dr(it)||0,lt)});function D_(nt){return qr(nt,Mt)}function Hs(nt,it){if(typeof nt!="function"||it!=null&&typeof it!="function")throw new Pr(tt);var lt=function(){var pt=arguments,kt=it?it.apply(this,pt):pt[0],Pt=lt.cache;if(Pt.has(kt))return Pt.get(kt);var Dt=nt.apply(this,pt);return lt.cache=Pt.set(kt,Dt)||Pt,Dt};return lt.cache=new(Hs.Cache||Gr),lt}Hs.Cache=Gr;function qs(nt){if(typeof nt!="function")throw new Pr(tt);return function(){var it=arguments;switch(it.length){case 0:return!nt.call(this);case 1:return!nt.call(this,it[0]);case 2:return!nt.call(this,it[0],it[1]);case 3:return!nt.call(this,it[0],it[1],it[2])}return!nt.apply(this,it)}}function M_(nt){return Am(2,nt)}var F_=E1(function(nt,it){it=it.length==1&&Fn(it[0])?tr(it[0],Er(Pn())):tr(fr(it,1),Er(Pn()));var lt=it.length;return Un(function(pt){for(var kt=-1,Pt=pr(pt.length,lt);++kt<Pt;)pt[kt]=it[kt].call(this,pt[kt]);return wr(nt,this,pt)})}),_u=Un(function(nt,it){var lt=eo(it,Oo(_u));return qr(nt,Et,$,it,lt)}),Rm=Un(function(nt,it){var lt=eo(it,Oo(Rm));return qr(nt,St,$,it,lt)}),B_=Xr(function(nt,it){return qr(nt,wt,$,$,$,it)});function L_(nt,it){if(typeof nt!="function")throw new Pr(tt);return it=it===$?it:Bn(it),Un(nt,it)}function U_(nt,it){if(typeof nt!="function")throw new Pr(tt);return it=it==null?0:ur(Bn(it),0),Un(function(lt){var pt=lt[it],kt=oo(lt,0,it);return pt&&_i(kt,pt),wr(nt,this,kt)})}function z_(nt,it,lt){var pt=!0,kt=!0;if(typeof nt!="function")throw new Pr(tt);return nr(lt)&&(pt="leading"in lt?!!lt.leading:pt,kt="trailing"in lt?!!lt.trailing:kt),$m(nt,it,{leading:pt,maxWait:it,trailing:kt})}function j_(nt){return km(nt,1)}function W_(nt,it){return _u(ru(it),nt)}function V_(){if(!arguments.length)return[];var nt=arguments[0];return Fn(nt)?nt:[nt]}function G_(nt){return $r(nt,vt)}function H_(nt,it){return it=typeof it=="function"?it:$,$r(nt,vt,it)}function q_(nt){return $r(nt,ut|vt)}function X_(nt,it){return it=typeof it=="function"?it:$,$r(nt,ut|vt,it)}function K_(nt,it){return it==null||Tp(nt,it,cr(it))}function Lr(nt,it){return nt===it||nt!==nt&&it!==it}var Y_=Ls(Vl),Z_=Ls(function(nt,it){return nt>=it}),go=kp(function(){return arguments}())?kp:function(nt){return ir(nt)&&Yn.call(nt,"callee")&&!pp.call(nt,"callee")},Fn=Yt.isArray,Q_=Zu?Er(Zu):s1;function _r(nt){return nt!=null&&Xs(nt.length)&&!Yr(nt)}function or(nt){return ir(nt)&&_r(nt)}function J_(nt){return nt===!0||nt===!1||ir(nt)&&mr(nt)==Ht}var so=pv||Pu,ex=Qu?Er(Qu):a1;function tx(nt){return ir(nt)&&nt.nodeType===1&&!os(nt)}function nx(nt){if(nt==null)return!0;if(_r(nt)&&(Fn(nt)||typeof nt=="string"||typeof nt.splice=="function"||so(nt)||Do(nt)||go(nt)))return!nt.length;var it=hr(nt);if(it==dn||it==On)return!nt.size;if(rs(nt))return!Xl(nt).length;for(var lt in nt)if(Yn.call(nt,lt))return!1;return!0}function rx(nt,it){return es(nt,it)}function ix(nt,it,lt){lt=typeof lt=="function"?lt:$;var pt=lt?lt(nt,it):$;return pt===$?es(nt,it,$,lt):!!pt}function xu(nt){if(!ir(nt))return!1;var it=mr(nt);return it==Rt||it==En||typeof nt.message=="string"&&typeof nt.name=="string"&&!os(nt)}function ox(nt){return typeof nt=="number"&&mp(nt)}function Yr(nt){if(!nr(nt))return!1;var it=mr(nt);return it==$t||it==tn||it==Vt||it==In}function Om(nt){return typeof nt=="number"&&nt==Bn(nt)}function Xs(nt){return typeof nt=="number"&&nt>-1&&nt%1==0&&nt<=Kt}function nr(nt){var it=typeof nt;return nt!=null&&(it=="object"||it=="function")}function ir(nt){return nt!=null&&typeof nt=="object"}var Dm=Ju?Er(Ju):u1;function sx(nt,it){return nt===it||Hl(nt,it,cu(it))}function ax(nt,it,lt){return lt=typeof lt=="function"?lt:$,Hl(nt,it,cu(it),lt)}function lx(nt){return Mm(nt)&&nt!=+nt}function ux(nt){if(H1(nt))throw new Mn(et);return Ap(nt)}function cx(nt){return nt===null}function dx(nt){return nt==null}function Mm(nt){return typeof nt=="number"||ir(nt)&&mr(nt)==en}function os(nt){if(!ir(nt)||mr(nt)!=gn)return!1;var it=Ts(nt);if(it===null)return!0;var lt=Yn.call(it,"constructor")&&it.constructor;return typeof lt=="function"&&lt instanceof lt&&vs.call(lt)==av}var Tu=_c?Er(_c):c1;function fx(nt){return Om(nt)&&nt>=-Kt&&nt<=Kt}var Fm=_d?Er(_d):d1;function Ks(nt){return typeof nt=="string"||!Fn(nt)&&ir(nt)&&mr(nt)==Gn}function br(nt){return typeof nt=="symbol"||ir(nt)&&mr(nt)==Jn}var Do=_f?Er(_f):f1;function px(nt){return nt===$}function hx(nt){return ir(nt)&&hr(nt)==nn}function mx(nt){return ir(nt)&&mr(nt)==Tn}var gx=Ls(Kl),vx=Ls(function(nt,it){return nt<=it});function Bm(nt){if(!nt)return[];if(_r(nt))return Ks(nt)?Fr(nt):yr(nt);if(Ho&&nt[Ho])return K0(nt[Ho]());var it=hr(nt),lt=it==dn?Ol:it==On?ps:Mo;return lt(nt)}function Zr(nt){if(!nt)return nt===0?nt:0;if(nt=Dr(nt),nt===pn||nt===-pn){var it=nt<0?-1:1;return it*Qt}return nt===nt?nt:0}function Bn(nt){var it=Zr(nt),lt=it%1;return it===it?lt?it-lt:it:0}function Lm(nt){return nt?fo(Bn(nt),0,ln):0}function Dr(nt){if(typeof nt=="number")return nt;if(br(nt))return fn;if(nr(nt)){var it=typeof nt.valueOf=="function"?nt.valueOf():nt;nt=nr(it)?it+"":it}if(typeof nt!="string")return nt===0?nt:+nt;nt=op(nt);var lt=Mr.test(nt);return lt||e0.test(nt)?$0(nt.slice(2),lt?2:8):wo.test(nt)?fn:+nt}function Um(nt){return jr(nt,xr(nt))}function yx(nt){return nt?fo(Bn(nt),-Kt,Kt):nt===0?nt:0}function Kn(nt){return nt==null?"":Sr(nt)}var _x=$o(function(nt,it){if(rs(it)||_r(it)){jr(it,cr(it),nt);return}for(var lt in it)Yn.call(it,lt)&&Zo(nt,lt,it[lt])}),zm=$o(function(nt,it){jr(it,xr(it),nt)}),Ys=$o(function(nt,it,lt,pt){jr(it,xr(it),nt,pt)}),xx=$o(function(nt,it,lt,pt){jr(it,cr(it),nt,pt)}),Tx=Xr(Ul);function wx(nt,it){var lt=No(nt);return it==null?lt:xp(lt,it)}var Ex=Un(function(nt,it){nt=Zn(nt);var lt=-1,pt=it.length,kt=pt>2?it[2]:$;for(kt&&gr(it[0],it[1],kt)&&(pt=1);++lt<pt;)for(var Pt=it[lt],Dt=xr(Pt),Bt=-1,Gt=Dt.length;++Bt<Gt;){var un=Dt[Bt],cn=nt[un];(cn===$||Lr(cn,Ao[un])&&!Yn.call(nt,un))&&(nt[un]=Pt[un])}return nt}),Sx=Un(function(nt){return nt.push($,im),wr(jm,$,nt)});function bx(nt,it){return tp(nt,Pn(it,3),zr)}function Cx(nt,it){return tp(nt,Pn(it,3),Wl)}function kx(nt,it){return nt==null?nt:zl(nt,Pn(it,3),xr)}function Ax(nt,it){return nt==null?nt:bp(nt,Pn(it,3),xr)}function Ix(nt,it){return nt&&zr(nt,Pn(it,3))}function Px(nt,it){return nt&&Wl(nt,Pn(it,3))}function Nx(nt){return nt==null?[]:Ns(nt,cr(nt))}function $x(nt){return nt==null?[]:Ns(nt,xr(nt))}function wu(nt,it,lt){var pt=nt==null?$:po(nt,it);return pt===$?lt:pt}function Rx(nt,it){return nt!=null&&am(nt,it,n1)}function Eu(nt,it){return nt!=null&&am(nt,it,r1)}var Ox=_h(function(nt,it,lt){it!=null&&typeof it.toString!="function"&&(it=ys.call(it)),nt[it]=lt},bu(Tr)),Dx=_h(function(nt,it,lt){it!=null&&typeof it.toString!="function"&&(it=ys.call(it)),Yn.call(nt,it)?nt[it].push(lt):nt[it]=[lt]},Pn),Mx=Un(Jo);function cr(nt){return _r(nt)?yp(nt):Xl(nt)}function xr(nt){return _r(nt)?yp(nt,!0):p1(nt)}function Fx(nt,it){var lt={};return it=Pn(it,3),zr(nt,function(pt,kt,Pt){Hr(lt,it(pt,kt,Pt),pt)}),lt}function Bx(nt,it){var lt={};return it=Pn(it,3),zr(nt,function(pt,kt,Pt){Hr(lt,kt,it(pt,kt,Pt))}),lt}var Lx=$o(function(nt,it,lt){$s(nt,it,lt)}),jm=$o(function(nt,it,lt,pt){$s(nt,it,lt,pt)}),Ux=Xr(function(nt,it){var lt={};if(nt==null)return lt;var pt=!1;it=tr(it,function(Pt){return Pt=io(Pt,nt),pt||(pt=Pt.length>1),Pt}),jr(nt,lu(nt),lt),pt&&(lt=$r(lt,ut|ct|vt,O1));for(var kt=it.length;kt--;)eu(lt,it[kt]);return lt});function zx(nt,it){return Wm(nt,qs(Pn(it)))}var jx=Xr(function(nt,it){return nt==null?{}:m1(nt,it)});function Wm(nt,it){if(nt==null)return{};var lt=tr(lu(nt),function(pt){return[pt]});return it=Pn(it),Dp(nt,lt,function(pt,kt){return it(pt,kt[0])})}function Wx(nt,it,lt){it=io(it,nt);var pt=-1,kt=it.length;for(kt||(kt=1,nt=$);++pt<kt;){var Pt=nt==null?$:nt[Wr(it[pt])];Pt===$&&(pt=kt,Pt=lt),nt=Yr(Pt)?Pt.call(nt):Pt}return nt}function Vx(nt,it,lt){return nt==null?nt:ts(nt,it,lt)}function Gx(nt,it,lt,pt){return pt=typeof pt=="function"?pt:$,nt==null?nt:ts(nt,it,lt,pt)}var Vm=nm(cr),Gm=nm(xr);function Hx(nt,it,lt){var pt=Fn(nt),kt=pt||so(nt)||Do(nt);if(it=Pn(it,4),lt==null){var Pt=nt&&nt.constructor;kt?lt=pt?new Pt:[]:nr(nt)?lt=Yr(Pt)?No(Ts(nt)):{}:lt={}}return(kt?Ir:zr)(nt,function(Dt,Bt,Gt){return it(lt,Dt,Bt,Gt)}),lt}function qx(nt,it){return nt==null?!0:eu(nt,it)}function Xx(nt,it,lt){return nt==null?nt:Up(nt,it,ru(lt))}function Kx(nt,it,lt,pt){return pt=typeof pt=="function"?pt:$,nt==null?nt:Up(nt,it,ru(lt),pt)}function Mo(nt){return nt==null?[]:Rl(nt,cr(nt))}function Yx(nt){return nt==null?[]:Rl(nt,xr(nt))}function Zx(nt,it,lt){return lt===$&&(lt=it,it=$),lt!==$&&(lt=Dr(lt),lt=lt===lt?lt:0),it!==$&&(it=Dr(it),it=it===it?it:0),fo(Dr(nt),it,lt)}function Qx(nt,it,lt){return it=Zr(it),lt===$?(lt=it,it=0):lt=Zr(lt),nt=Dr(nt),i1(nt,it,lt)}function Jx(nt,it,lt){if(lt&&typeof lt!="boolean"&&gr(nt,it,lt)&&(it=lt=$),lt===$&&(typeof it=="boolean"?(lt=it,it=$):typeof nt=="boolean"&&(lt=nt,nt=$)),nt===$&&it===$?(nt=0,it=1):(nt=Zr(nt),it===$?(it=nt,nt=0):it=Zr(it)),nt>it){var pt=nt;nt=it,it=pt}if(lt||nt%1||it%1){var kt=gp();return pr(nt+kt*(it-nt+N0("1e-"+((kt+"").length-1))),it)}return Zl(nt,it)}var eT=Ro(function(nt,it,lt){return it=it.toLowerCase(),nt+(lt?Hm(it):it)});function Hm(nt){return Su(Kn(nt).toLowerCase())}function qm(nt){return nt=Kn(nt),nt&&nt.replace(n0,V0).replace(T0,"")}function tT(nt,it,lt){nt=Kn(nt),it=Sr(it);var pt=nt.length;lt=lt===$?pt:fo(Bn(lt),0,pt);var kt=lt;return lt-=it.length,lt>=0&&nt.slice(lt,kt)==it}function nT(nt){return nt=Kn(nt),nt&&Fo.test(nt)?nt.replace(_o,G0):nt}function rT(nt){return nt=Kn(nt),nt&&na.test(nt)?nt.replace(Uo,"\\$&"):nt}var iT=Ro(function(nt,it,lt){return nt+(lt?"-":"")+it.toLowerCase()}),oT=Ro(function(nt,it,lt){return nt+(lt?" ":"")+it.toLowerCase()}),sT=Zp("toLowerCase");function aT(nt,it,lt){nt=Kn(nt),it=Bn(it);var pt=it?Co(nt):0;if(!it||pt>=it)return nt;var kt=(it-pt)/2;return Bs(bs(kt),lt)+nt+Bs(Ss(kt),lt)}function lT(nt,it,lt){nt=Kn(nt),it=Bn(it);var pt=it?Co(nt):0;return it&&pt<it?nt+Bs(it-pt,lt):nt}function uT(nt,it,lt){nt=Kn(nt),it=Bn(it);var pt=it?Co(nt):0;return it&&pt<it?Bs(it-pt,lt)+nt:nt}function cT(nt,it,lt){return lt||it==null?it=0:it&&(it=+it),vv(Kn(nt).replace(zo,""),it||0)}function dT(nt,it,lt){return(lt?gr(nt,it,lt):it===$)?it=1:it=Bn(it),Ql(Kn(nt),it)}function fT(){var nt=arguments,it=Kn(nt[0]);return nt.length<3?it:it.replace(nt[1],nt[2])}var pT=Ro(function(nt,it,lt){return nt+(lt?"_":"")+it.toLowerCase()});function hT(nt,it,lt){return lt&&typeof lt!="number"&&gr(nt,it,lt)&&(it=lt=$),lt=lt===$?ln:lt>>>0,lt?(nt=Kn(nt),nt&&(typeof it=="string"||it!=null&&!Tu(it))&&(it=Sr(it),!it&&bo(nt))?oo(Fr(nt),0,lt):nt.split(it,lt)):[]}var mT=Ro(function(nt,it,lt){return nt+(lt?" ":"")+Su(it)});function gT(nt,it,lt){return nt=Kn(nt),lt=lt==null?0:fo(Bn(lt),0,nt.length),it=Sr(it),nt.slice(lt,lt+it.length)==it}function vT(nt,it,lt){var pt=It.templateSettings;lt&&gr(nt,it,lt)&&(it=$),nt=Kn(nt),it=Ys({},it,pt,rm);var kt=Ys({},it.imports,pt.imports,rm),Pt=cr(kt),Dt=Rl(kt,Pt),Bt,Gt,un=0,cn=it.interpolate||ls,hn="__p += '",xn=Dl((it.escape||ls).source+"|"+cn.source+"|"+(cn===xo?ar:ls).source+"|"+(it.evaluate||ls).source+"|$","g"),Sn="//# sourceURL="+(Yn.call(it,"sourceURL")?(it.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++C0+"]")+`
`;nt.replace(xn,function($n,zn,Hn,Cr,vr,kr){return Hn||(Hn=Cr),hn+=nt.slice(un,kr).replace(r0,H0),zn&&(Bt=!0,hn+=`' +
__e(`+zn+`) +
'`),vr&&(Gt=!0,hn+=`';
`+vr+`;
__p += '`),Hn&&(hn+=`' +
((__t = (`+Hn+`)) == null ? '' : __t) +
'`),un=kr+$n.length,$n}),hn+=`';
`;var Nn=Yn.call(it,"variable")&&it.variable;if(!Nn)hn=`with (obj) {
`+hn+`
}
`;else if(xa.test(Nn))throw new Mn(rt);hn=(Gt?hn.replace(Wn,""):hn).replace(vo,"$1").replace(ss,"$1;"),hn="function("+(Nn||"obj")+`) {
`+(Nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Bt?", __e = _.escape":"")+(Gt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+hn+`return __p
}`;var Ln=Km(function(){return Xn(Pt,Sn+"return "+hn).apply($,Dt)});if(Ln.source=hn,xu(Ln))throw Ln;return Ln}function yT(nt){return Kn(nt).toLowerCase()}function _T(nt){return Kn(nt).toUpperCase()}function xT(nt,it,lt){if(nt=Kn(nt),nt&&(lt||it===$))return op(nt);if(!nt||!(it=Sr(it)))return nt;var pt=Fr(nt),kt=Fr(it),Pt=sp(pt,kt),Dt=ap(pt,kt)+1;return oo(pt,Pt,Dt).join("")}function TT(nt,it,lt){if(nt=Kn(nt),nt&&(lt||it===$))return nt.slice(0,up(nt)+1);if(!nt||!(it=Sr(it)))return nt;var pt=Fr(nt),kt=ap(pt,Fr(it))+1;return oo(pt,0,kt).join("")}function wT(nt,it,lt){if(nt=Kn(nt),nt&&(lt||it===$))return nt.replace(zo,"");if(!nt||!(it=Sr(it)))return nt;var pt=Fr(nt),kt=sp(pt,Fr(it));return oo(pt,kt).join("")}function ET(nt,it){var lt=Ot,pt=Lt;if(nr(it)){var kt="separator"in it?it.separator:kt;lt="length"in it?Bn(it.length):lt,pt="omission"in it?Sr(it.omission):pt}nt=Kn(nt);var Pt=nt.length;if(bo(nt)){var Dt=Fr(nt);Pt=Dt.length}if(lt>=Pt)return nt;var Bt=lt-Co(pt);if(Bt<1)return pt;var Gt=Dt?oo(Dt,0,Bt).join(""):nt.slice(0,Bt);if(kt===$)return Gt+pt;if(Dt&&(Bt+=Gt.length-Bt),Tu(kt)){if(nt.slice(Bt).search(kt)){var un,cn=Gt;for(kt.global||(kt=Dl(kt.source,Kn(To.exec(kt))+"g")),kt.lastIndex=0;un=kt.exec(cn);)var hn=un.index;Gt=Gt.slice(0,hn===$?Bt:hn)}}else if(nt.indexOf(Sr(kt),Bt)!=Bt){var xn=Gt.lastIndexOf(kt);xn>-1&&(Gt=Gt.slice(0,xn))}return Gt+pt}function ST(nt){return nt=Kn(nt),nt&&as.test(nt)?nt.replace(yo,J0):nt}var bT=Ro(function(nt,it,lt){return nt+(lt?" ":"")+it.toUpperCase()}),Su=Zp("toUpperCase");function Xm(nt,it,lt){return nt=Kn(nt),it=lt?$:it,it===$?X0(nt)?nv(nt):L0(nt):nt.match(it)||[]}var Km=Un(function(nt,it){try{return wr(nt,$,it)}catch(lt){return xu(lt)?lt:new Mn(lt)}}),CT=Xr(function(nt,it){return Ir(it,function(lt){lt=Wr(lt),Hr(nt,lt,yu(nt[lt],nt))}),nt});function kT(nt){var it=nt==null?0:nt.length,lt=Pn();return nt=it?tr(nt,function(pt){if(typeof pt[1]!="function")throw new Pr(tt);return[lt(pt[0]),pt[1]]}):[],Un(function(pt){for(var kt=-1;++kt<it;){var Pt=nt[kt];if(wr(Pt[0],this,pt))return wr(Pt[1],this,pt)}})}function AT(nt){return Jv($r(nt,ut))}function bu(nt){return function(){return nt}}function IT(nt,it){return nt==null||nt!==nt?it:nt}var PT=Jp(),NT=Jp(!0);function Tr(nt){return nt}function Cu(nt){return Ip(typeof nt=="function"?nt:$r(nt,ut))}function $T(nt){return Np($r(nt,ut))}function RT(nt,it){return $p(nt,$r(it,ut))}var OT=Un(function(nt,it){return function(lt){return Jo(lt,nt,it)}}),DT=Un(function(nt,it){return function(lt){return Jo(nt,lt,it)}});function ku(nt,it,lt){var pt=cr(it),kt=Ns(it,pt);lt==null&&!(nr(it)&&(kt.length||!pt.length))&&(lt=it,it=nt,nt=this,kt=Ns(it,cr(it)));var Pt=!(nr(lt)&&"chain"in lt)||!!lt.chain,Dt=Yr(nt);return Ir(kt,function(Bt){var Gt=it[Bt];nt[Bt]=Gt,Dt&&(nt.prototype[Bt]=function(){var un=this.__chain__;if(Pt||un){var cn=nt(this.__wrapped__),hn=cn.__actions__=yr(this.__actions__);return hn.push({func:Gt,args:arguments,thisArg:nt}),cn.__chain__=un,cn}return Gt.apply(nt,_i([this.value()],arguments))})}),nt}function MT(){return dr._===this&&(dr._=lv),this}function Au(){}function FT(nt){return nt=Bn(nt),Un(function(it){return Rp(it,nt)})}var BT=ou(tr),UT=ou(ep),zT=ou(Al);function Ym(nt){return fu(nt)?Il(Wr(nt)):g1(nt)}function jT(nt){return function(it){return nt==null?$:po(nt,it)}}var WT=em(),VT=em(!0);function Iu(){return[]}function Pu(){return!1}function HT(){return{}}function qT(){return""}function XT(){return!0}function KT(nt,it){if(nt=Bn(nt),nt<1||nt>Kt)return[];var lt=ln,pt=pr(nt,ln);it=Pn(it),nt-=ln;for(var kt=$l(pt,it);++lt<nt;)it(lt);return kt}function YT(nt){return Fn(nt)?tr(nt,Wr):br(nt)?[nt]:yr(gm(Kn(nt)))}function ZT(nt){var it=++sv;return Kn(nt)+it}var QT=Fs(function(nt,it){return nt+it},0),JT=su("ceil"),ew=Fs(function(nt,it){return nt/it},1),tw=su("floor");function nw(nt){return nt&&nt.length?Ps(nt,Tr,Vl):$}function rw(nt,it){return nt&&nt.length?Ps(nt,Pn(it,2),Vl):$}function iw(nt){return rp(nt,Tr)}function ow(nt,it){return rp(nt,Pn(it,2))}function sw(nt){return nt&&nt.length?Ps(nt,Tr,Kl):$}function aw(nt,it){return nt&&nt.length?Ps(nt,Pn(it,2),Kl):$}var lw=Fs(function(nt,it){return nt*it},1),uw=su("round"),cw=Fs(function(nt,it){return nt-it},0);function dw(nt){return nt&&nt.length?Nl(nt,Tr):0}function fw(nt,it){return nt&&nt.length?Nl(nt,Pn(it,2)):0}return It.after=$_,It.ary=km,It.assign=_x,It.assignIn=zm,It.assignInWith=Ys,It.assignWith=xx,It.at=Tx,It.before=Am,It.bind=yu,It.bindAll=CT,It.bindKey=Im,It.castArray=V_,It.chain=Sm,It.chunk=J1,It.compact=ey,It.concat=ty,It.cond=kT,It.conforms=AT,It.constant=bu,It.countBy=u_,It.create=wx,It.curry=Pm,It.curryRight=Nm,It.debounce=$m,It.defaults=Ex,It.defaultsDeep=Sx,It.defer=R_,It.delay=O_,It.difference=ny,It.differenceBy=ry,It.differenceWith=iy,It.drop=oy,It.dropRight=sy,It.dropRightWhile=ay,It.dropWhile=ly,It.fill=uy,It.filter=d_,It.flatMap=h_,It.flatMapDeep=m_,It.flatMapDepth=g_,It.flatten=xm,It.flattenDeep=cy,It.flattenDepth=dy,It.flip=D_,It.flow=PT,It.flowRight=NT,It.fromPairs=fy,It.functions=Nx,It.functionsIn=$x,It.groupBy=v_,It.initial=hy,It.intersection=my,It.intersectionBy=gy,It.intersectionWith=vy,It.invert=Ox,It.invertBy=Dx,It.invokeMap=__,It.iteratee=Cu,It.keyBy=x_,It.keys=cr,It.keysIn=xr,It.map=Vs,It.mapKeys=Fx,It.mapValues=Bx,It.matches=$T,It.matchesProperty=RT,It.memoize=Hs,It.merge=Lx,It.mergeWith=jm,It.method=OT,It.methodOf=DT,It.mixin=ku,It.negate=qs,It.nthArg=FT,It.omit=Ux,It.omitBy=zx,It.once=M_,It.orderBy=T_,It.over=BT,It.overArgs=F_,It.overEvery=UT,It.overSome=zT,It.partial=_u,It.partialRight=Rm,It.partition=w_,It.pick=jx,It.pickBy=Wm,It.property=Ym,It.propertyOf=jT,It.pull=Ty,It.pullAll=wm,It.pullAllBy=wy,It.pullAllWith=Ey,It.pullAt=Sy,It.range=WT,It.rangeRight=VT,It.rearg=B_,It.reject=b_,It.remove=by,It.rest=L_,It.reverse=gu,It.sampleSize=k_,It.set=Vx,It.setWith=Gx,It.shuffle=A_,It.slice=Cy,It.sortBy=N_,It.sortedUniq=Ry,It.sortedUniqBy=Oy,It.split=hT,It.spread=U_,It.tail=Dy,It.take=My,It.takeRight=Fy,It.takeRightWhile=By,It.takeWhile=Ly,It.tap=e_,It.throttle=z_,It.thru=Ws,It.toArray=Bm,It.toPairs=Vm,It.toPairsIn=Gm,It.toPath=YT,It.toPlainObject=Um,It.transform=Hx,It.unary=j_,It.union=Uy,It.unionBy=zy,It.unionWith=jy,It.uniq=Wy,It.uniqBy=Vy,It.uniqWith=Gy,It.unset=qx,It.unzip=vu,It.unzipWith=Em,It.update=Xx,It.updateWith=Kx,It.values=Mo,It.valuesIn=Yx,It.without=Hy,It.words=Xm,It.wrap=W_,It.xor=qy,It.xorBy=Xy,It.xorWith=Ky,It.zip=Yy,It.zipObject=Zy,It.zipObjectDeep=Qy,It.zipWith=Jy,It.entries=Vm,It.entriesIn=Gm,It.extend=zm,It.extendWith=Ys,ku(It,It),It.add=QT,It.attempt=Km,It.camelCase=eT,It.capitalize=Hm,It.ceil=JT,It.clamp=Zx,It.clone=G_,It.cloneDeep=q_,It.cloneDeepWith=X_,It.cloneWith=H_,It.conformsTo=K_,It.deburr=qm,It.defaultTo=IT,It.divide=ew,It.endsWith=tT,It.eq=Lr,It.escape=nT,It.escapeRegExp=rT,It.every=c_,It.find=f_,It.findIndex=ym,It.findKey=bx,It.findLast=p_,It.findLastIndex=_m,It.findLastKey=Cx,It.floor=tw,It.forEach=bm,It.forEachRight=Cm,It.forIn=kx,It.forInRight=Ax,It.forOwn=Ix,It.forOwnRight=Px,It.get=wu,It.gt=Y_,It.gte=Z_,It.has=Rx,It.hasIn=Eu,It.head=Tm,It.identity=Tr,It.includes=y_,It.indexOf=py,It.inRange=Qx,It.invoke=Mx,It.isArguments=go,It.isArray=Fn,It.isArrayBuffer=Q_,It.isArrayLike=_r,It.isArrayLikeObject=or,It.isBoolean=J_,It.isBuffer=so,It.isDate=ex,It.isElement=tx,It.isEmpty=nx,It.isEqual=rx,It.isEqualWith=ix,It.isError=xu,It.isFinite=ox,It.isFunction=Yr,It.isInteger=Om,It.isLength=Xs,It.isMap=Dm,It.isMatch=sx,It.isMatchWith=ax,It.isNaN=lx,It.isNative=ux,It.isNil=dx,It.isNull=cx,It.isNumber=Mm,It.isObject=nr,It.isObjectLike=ir,It.isPlainObject=os,It.isRegExp=Tu,It.isSafeInteger=fx,It.isSet=Fm,It.isString=Ks,It.isSymbol=br,It.isTypedArray=Do,It.isUndefined=px,It.isWeakMap=hx,It.isWeakSet=mx,It.join=yy,It.kebabCase=iT,It.last=Or,It.lastIndexOf=_y,It.lowerCase=oT,It.lowerFirst=sT,It.lt=gx,It.lte=vx,It.max=nw,It.maxBy=rw,It.mean=iw,It.meanBy=ow,It.min=sw,It.minBy=aw,It.stubArray=Iu,It.stubFalse=Pu,It.stubObject=HT,It.stubString=qT,It.stubTrue=XT,It.multiply=lw,It.nth=xy,It.noConflict=MT,It.noop=Au,It.now=Gs,It.pad=aT,It.padEnd=lT,It.padStart=uT,It.parseInt=cT,It.random=Jx,It.reduce=E_,It.reduceRight=S_,It.repeat=dT,It.replace=fT,It.result=Wx,It.round=uw,It.runInContext=Wt,It.sample=C_,It.size=I_,It.snakeCase=pT,It.some=P_,It.sortedIndex=ky,It.sortedIndexBy=Ay,It.sortedIndexOf=Iy,It.sortedLastIndex=Py,It.sortedLastIndexBy=Ny,It.sortedLastIndexOf=$y,It.startCase=mT,It.startsWith=gT,It.subtract=cw,It.sum=dw,It.sumBy=fw,It.template=vT,It.times=KT,It.toFinite=Zr,It.toInteger=Bn,It.toLength=Lm,It.toLower=yT,It.toNumber=Dr,It.toSafeInteger=yx,It.toString=Kn,It.toUpper=_T,It.trim=xT,It.trimEnd=TT,It.trimStart=wT,It.truncate=ET,It.unescape=ST,It.uniqueId=ZT,It.upperCase=bT,It.upperFirst=Su,It.each=bm,It.eachRight=Cm,It.first=Tm,ku(It,function(){var nt={};return zr(It,function(it,lt){Yn.call(It.prototype,lt)||(nt[lt]=it)}),nt}(),{chain:!1}),It.VERSION=j,Ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(nt){It[nt].placeholder=It}),Ir(["drop","take"],function(nt,it){Vn.prototype[nt]=function(lt){lt=lt===$?1:ur(Bn(lt),0);var pt=this.__filtered__&&!it?new Vn(this):this.clone();return pt.__filtered__?pt.__takeCount__=pr(lt,pt.__takeCount__):pt.__views__.push({size:pr(lt,ln),type:nt+(pt.__dir__<0?"Right":"")}),pt},Vn.prototype[nt+"Right"]=function(lt){return this.reverse()[nt](lt).reverse()}}),Ir(["filter","map","takeWhile"],function(nt,it){var lt=it+1,pt=lt==qt||lt==an;Vn.prototype[nt]=function(kt){var Pt=this.clone();return Pt.__iteratees__.push({iteratee:Pn(kt,3),type:lt}),Pt.__filtered__=Pt.__filtered__||pt,Pt}}),Ir(["head","last"],function(nt,it){var lt="take"+(it?"Right":"");Vn.prototype[nt]=function(){return this[lt](1).value()[0]}}),Ir(["initial","tail"],function(nt,it){var lt="drop"+(it?"":"Right");Vn.prototype[nt]=function(){return this.__filtered__?new Vn(this):this[lt](1)}}),Vn.prototype.compact=function(){return this.filter(Tr)},Vn.prototype.find=function(nt){return this.filter(nt).head()},Vn.prototype.findLast=function(nt){return this.reverse().find(nt)},Vn.prototype.invokeMap=Un(function(nt,it){return typeof nt=="function"?new Vn(this):this.map(function(lt){return Jo(lt,nt,it)})}),Vn.prototype.reject=function(nt){return this.filter(qs(Pn(nt)))},Vn.prototype.slice=function(nt,it){nt=Bn(nt);var lt=this;return lt.__filtered__&&(nt>0||it<0)?new Vn(lt):(nt<0?lt=lt.takeRight(-nt):nt&&(lt=lt.drop(nt)),it!==$&&(it=Bn(it),lt=it<0?lt.dropRight(-it):lt.take(it-nt)),lt)},Vn.prototype.takeRightWhile=function(nt){return this.reverse().takeWhile(nt).reverse()},Vn.prototype.toArray=function(){return this.take(ln)},zr(Vn.prototype,function(nt,it){var lt=/^(?:filter|find|map|reject)|While$/.test(it),pt=/^(?:head|last)$/.test(it),kt=It[pt?"take"+(it=="last"?"Right":""):it],Pt=pt||/^find/.test(it);kt&&(It.prototype[it]=function(){var Dt=this.__wrapped__,Bt=pt?[1]:arguments,Gt=Dt instanceof Vn,un=Bt[0],cn=Gt||Fn(Dt),hn=function(zn){var Hn=kt.apply(It,_i([zn],Bt));return pt&&xn?Hn[0]:Hn};cn&&lt&&typeof un=="function"&&un.length!=1&&(Gt=cn=!1);var xn=this.__chain__,Sn=!!this.__actions__.length,Nn=Pt&&!xn,Ln=Gt&&!Sn;if(!Pt&&cn){Dt=Ln?Dt:new Vn(this);var $n=nt.apply(Dt,Bt);return $n.__actions__.push({func:Ws,args:[hn],thisArg:$}),new Nr($n,xn)}return Nn&&Ln?nt.apply(this,Bt):($n=this.thru(hn),Nn?pt?$n.value()[0]:$n.value():$n)})}),Ir(["pop","push","shift","sort","splice","unshift"],function(nt){var it=hs[nt],lt=/^(?:push|sort|unshift)$/.test(nt)?"tap":"thru",pt=/^(?:pop|shift)$/.test(nt);It.prototype[nt]=function(){var kt=arguments;if(pt&&!this.__chain__){var Pt=this.value();return it.apply(Fn(Pt)?Pt:[],kt)}return this[lt](function(Dt){return it.apply(Fn(Dt)?Dt:[],kt)})}}),zr(Vn.prototype,function(nt,it){var lt=It[it];if(lt){var pt=lt.name+"";Yn.call(Po,pt)||(Po[pt]=[]),Po[pt].push({name:it,func:lt})}}),Po[Ms($,dt).name]=[{name:"wrapper",func:$}],Vn.prototype.clone=Sv,Vn.prototype.reverse=bv,Vn.prototype.value=Cv,It.prototype.at=t_,It.prototype.chain=n_,It.prototype.commit=r_,It.prototype.next=i_,It.prototype.plant=s_,It.prototype.reverse=a_,It.prototype.toJSON=It.prototype.valueOf=It.prototype.value=l_,It.prototype.first=It.prototype.head,Ho&&(It.prototype[Ho]=o_),It},ko=rv();ao?((ao.exports=ko)._=ko,Tl._=ko):dr._=ko}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const version="14.7.77",createExtendedExponentialRampToValueAutomationEvent=(a,o,$)=>({endTime:o,insertTime:$,type:"exponentialRampToValue",value:a}),createExtendedLinearRampToValueAutomationEvent=(a,o,$)=>({endTime:o,insertTime:$,type:"linearRampToValue",value:a}),createSetValueAutomationEvent=(a,o)=>({startTime:o,type:"setValue",value:a}),createSetValueCurveAutomationEvent=(a,o,$)=>({duration:$,startTime:o,type:"setValueCurve",values:a}),getTargetValueAtTime=(a,o,{startTime:$,target:j,timeConstant:_e})=>j+(o-j)*Math.exp(($-a)/_e),isExponentialRampToValueAutomationEvent=a=>a.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=a=>a.type==="linearRampToValue",isAnyRampToValueAutomationEvent=a=>isExponentialRampToValueAutomationEvent(a)||isLinearRampToValueAutomationEvent(a),isSetValueAutomationEvent=a=>a.type==="setValue",isSetValueCurveAutomationEvent=a=>a.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(a,o,$,j)=>{const _e=a[o];return _e===void 0?j:isAnyRampToValueAutomationEvent(_e)||isSetValueAutomationEvent(_e)?_e.value:isSetValueCurveAutomationEvent(_e)?_e.values[_e.values.length-1]:getTargetValueAtTime($,getValueOfAutomationEventAtIndexAtTime(a,o-1,_e.startTime,j),_e)},getEndTimeAndValueOfPreviousAutomationEvent=(a,o,$,j,_e)=>$===void 0?[j.insertTime,_e]:isAnyRampToValueAutomationEvent($)?[$.endTime,$.value]:isSetValueAutomationEvent($)?[$.startTime,$.value]:isSetValueCurveAutomationEvent($)?[$.startTime+$.duration,$.values[$.values.length-1]]:[$.startTime,getValueOfAutomationEventAtIndexAtTime(a,o-1,$.startTime,_e)],isCancelAndHoldAutomationEvent=a=>a.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=a=>a.type==="cancelScheduledValues",getEventTime=a=>isCancelAndHoldAutomationEvent(a)||isCancelScheduledValuesAutomationEvent(a)?a.cancelTime:isExponentialRampToValueAutomationEvent(a)||isLinearRampToValueAutomationEvent(a)?a.endTime:a.startTime,getExponentialRampValueAtTime=(a,o,$,{endTime:j,value:_e})=>$===_e?_e:0<$&&0<_e||$<0&&_e<0?$*(_e/$)**((a-o)/(j-o)):0,getLinearRampValueAtTime=(a,o,$,{endTime:j,value:_e})=>$+(a-o)/(j-o)*(_e-$),interpolateValue=(a,o)=>{const $=Math.floor(o),j=Math.ceil(o);return $===j?a[$]:(1-(o-$))*a[$]+(1-(j-o))*a[j]},getValueCurveValueAtTime=(a,{duration:o,startTime:$,values:j})=>{const _e=(a-$)/o*(j.length-1);return interpolateValue(j,_e)},isSetTargetAutomationEvent=a=>a.type==="setTarget";class AutomationEventList{constructor(o){this._automationEvents=[],this._currenTime=0,this._defaultValue=o}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(o){const $=getEventTime(o);if(isCancelAndHoldAutomationEvent(o)||isCancelScheduledValuesAutomationEvent(o)){const j=this._automationEvents.findIndex(et=>isCancelScheduledValuesAutomationEvent(o)&&isSetValueCurveAutomationEvent(et)?et.startTime+et.duration>=$:getEventTime(et)>=$),_e=this._automationEvents[j];if(j!==-1&&(this._automationEvents=this._automationEvents.slice(0,j)),isCancelAndHoldAutomationEvent(o)){const et=this._automationEvents[this._automationEvents.length-1];if(_e!==void 0&&isAnyRampToValueAutomationEvent(_e)){if(et!==void 0&&isSetTargetAutomationEvent(et))throw new Error("The internal list is malformed.");const tt=et===void 0?_e.insertTime:isSetValueCurveAutomationEvent(et)?et.startTime+et.duration:getEventTime(et),rt=et===void 0?this._defaultValue:isSetValueCurveAutomationEvent(et)?et.values[et.values.length-1]:et.value,ot=isExponentialRampToValueAutomationEvent(_e)?getExponentialRampValueAtTime($,tt,rt,_e):getLinearRampValueAtTime($,tt,rt,_e),st=isExponentialRampToValueAutomationEvent(_e)?createExtendedExponentialRampToValueAutomationEvent(ot,$,this._currenTime):createExtendedLinearRampToValueAutomationEvent(ot,$,this._currenTime);this._automationEvents.push(st)}if(et!==void 0&&isSetTargetAutomationEvent(et)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue($),$)),et!==void 0&&isSetValueCurveAutomationEvent(et)&&et.startTime+et.duration>$){const tt=$-et.startTime,rt=(et.values.length-1)/et.duration,ot=Math.max(2,1+Math.ceil(tt*rt)),st=tt/(ot-1)*rt,at=et.values.slice(0,ot);if(st<1)for(let ut=1;ut<ot;ut+=1){const ct=st*ut%1;at[ut]=et.values[ut-1]*(1-ct)+et.values[ut]*ct}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(at,et.startTime,tt)}}}else{const j=this._automationEvents.findIndex(tt=>getEventTime(tt)>$),_e=j===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[j-1];if(_e!==void 0&&isSetValueCurveAutomationEvent(_e)&&getEventTime(_e)+_e.duration>$)return!1;const et=isExponentialRampToValueAutomationEvent(o)?createExtendedExponentialRampToValueAutomationEvent(o.value,o.endTime,this._currenTime):isLinearRampToValueAutomationEvent(o)?createExtendedLinearRampToValueAutomationEvent(o.value,$,this._currenTime):o;if(j===-1)this._automationEvents.push(et);else{if(isSetValueCurveAutomationEvent(o)&&$+o.duration>getEventTime(this._automationEvents[j]))return!1;this._automationEvents.splice(j,0,et)}}return!0}flush(o){const $=this._automationEvents.findIndex(j=>getEventTime(j)>o);if($>1){const j=this._automationEvents.slice($-1),_e=j[0];isSetTargetAutomationEvent(_e)&&j.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,$-2,_e.startTime,this._defaultValue),_e.startTime)),this._automationEvents=j}}getValue(o){if(this._automationEvents.length===0)return this._defaultValue;const $=this._automationEvents.findIndex(tt=>getEventTime(tt)>o),j=this._automationEvents[$],_e=($===-1?this._automationEvents.length:$)-1,et=this._automationEvents[_e];if(et!==void 0&&isSetTargetAutomationEvent(et)&&(j===void 0||!isAnyRampToValueAutomationEvent(j)||j.insertTime>o))return getTargetValueAtTime(o,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,_e-1,et.startTime,this._defaultValue),et);if(et!==void 0&&isSetValueAutomationEvent(et)&&(j===void 0||!isAnyRampToValueAutomationEvent(j)))return et.value;if(et!==void 0&&isSetValueCurveAutomationEvent(et)&&(j===void 0||!isAnyRampToValueAutomationEvent(j)||et.startTime+et.duration>o))return o<et.startTime+et.duration?getValueCurveValueAtTime(o,et):et.values[et.values.length-1];if(et!==void 0&&isAnyRampToValueAutomationEvent(et)&&(j===void 0||!isAnyRampToValueAutomationEvent(j)))return et.value;if(j!==void 0&&isExponentialRampToValueAutomationEvent(j)){const[tt,rt]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,_e,et,j,this._defaultValue);return getExponentialRampValueAtTime(o,tt,rt,j)}if(j!==void 0&&isLinearRampToValueAutomationEvent(j)){const[tt,rt]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,_e,et,j,this._defaultValue);return getLinearRampValueAtTime(o,tt,rt,j)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=a=>({cancelTime:a,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=a=>({cancelTime:a,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(a,o)=>({endTime:o,type:"exponentialRampToValue",value:a}),createLinearRampToValueAutomationEvent=(a,o)=>({endTime:o,type:"linearRampToValue",value:a}),createSetTargetAutomationEvent=(a,o,$)=>({startTime:o,target:a,timeConstant:$,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=a=>(o,$,[j,_e,et],tt)=>{a(o[_e],[$,j,et],rt=>rt[0]===$&&rt[1]===j,tt)},createAddAudioNodeConnections=a=>(o,$,j)=>{const _e=[];for(let et=0;et<j.numberOfInputs;et+=1)_e.push(new Set);a.set(o,{activeInputs:_e,outputs:new Set,passiveInputs:new WeakMap,renderer:$})},createAddAudioParamConnections=a=>(o,$)=>{a.set(o,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:$})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=a=>{try{const o=new Proxy(a,handler);new o}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(a,o)=>{const $=[];let j=a.replace(/^[\s]+/,""),_e=j.match(IMPORT_STATEMENT_REGEX);for(;_e!==null;){const et=_e[1].slice(1,-1),tt=_e[0].replace(/([\s]+)?;?$/,"").replace(et,new URL(et,o).toString());$.push(tt),j=j.slice(_e[0].length).replace(/^[\s]+/,""),_e=j.match(IMPORT_STATEMENT_REGEX)}return[$.join(";"),j]},verifyParameterDescriptors=a=>{if(a!==void 0&&!Array.isArray(a))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=a=>{if(!isConstructible(a))throw new TypeError("The given value for processorCtor should be a constructor.");if(a.prototype===null||typeof a.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct)=>{let vt=0;return(ht,yt,bt={credentials:"omit"})=>{const dt=at.get(ht);if(dt!==void 0&&dt.has(yt))return Promise.resolve();const xt=st.get(ht);if(xt!==void 0){const Et=xt.get(yt);if(Et!==void 0)return Et}const Tt=et(ht),Ct=Tt.audioWorklet===void 0?_e(yt).then(([Et,St])=>{const[gt,wt]=splitImportStatements(Et,St),Mt=`${gt};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${wt}
})})(window,'_AWGS')`;return $(Mt)}).then(()=>{const Et=ct._AWGS.pop();if(Et===void 0)throw new SyntaxError;j(Tt.currentTime,Tt.sampleRate,()=>Et(class{},void 0,(St,gt)=>{if(St.trim()==="")throw o();const wt=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(Tt);if(wt!==void 0){if(wt.has(St))throw o();verifyProcessorCtor(gt),verifyParameterDescriptors(gt.parameterDescriptors),wt.set(St,gt)}else verifyProcessorCtor(gt),verifyParameterDescriptors(gt.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(Tt,new Map([[St,gt]]))},Tt.sampleRate,void 0,void 0))}):Promise.all([_e(yt),Promise.resolve(a(ut,ut))]).then(([[Et,St],gt])=>{const wt=vt+1;vt=wt;const[Mt,Ot]=splitImportStatements(Et,St),qt=`${Mt};((AudioWorkletProcessor,registerProcessor)=>{${Ot}
})(${gt?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${gt?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${gt?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${wt}',class extends AudioWorkletProcessor{process(){return !1}})`,rn=new Blob([qt],{type:"application/javascript; charset=utf-8"}),an=URL.createObjectURL(rn);return Tt.audioWorklet.addModule(an,bt).then(()=>{if(rt(Tt))return Tt;const pn=tt(Tt);return pn.audioWorklet.addModule(an,bt).then(()=>pn)}).then(pn=>{if(ot===null)throw new SyntaxError;try{new ot(pn,`__sac${wt}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(an))});return xt===void 0?st.set(ht,new Map([[yt,Ct]])):xt.set(yt,Ct),Ct.then(()=>{const Et=at.get(ht);Et===void 0?at.set(ht,new Set([yt])):Et.add(yt)}).finally(()=>{const Et=st.get(ht);Et!==void 0&&Et.delete(yt)}),Ct}},getValueForKey=(a,o)=>{const $=a.get(o);if($===void 0)throw new Error("A value with the given key could not be found.");return $},pickElementFromSet=(a,o)=>{const $=Array.from(a).filter(o);if($.length>1)throw Error("More than one element was found.");if($.length===0)throw Error("No element was found.");const[j]=$;return a.delete(j),j},deletePassiveInputConnectionToAudioNode=(a,o,$,j)=>{const _e=getValueForKey(a,o),et=pickElementFromSet(_e,tt=>tt[0]===$&&tt[1]===j);return _e.size===0&&a.delete(o),et},getEventListenersOfAudioNode=a=>getValueForKey(EVENT_LISTENERS,a),setInternalStateToActive=a=>{if(ACTIVE_AUDIO_NODE_STORE.has(a))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(a),getEventListenersOfAudioNode(a).forEach(o=>o(!0))},isAudioWorkletNode=a=>"port"in a,setInternalStateToPassive=a=>{if(!ACTIVE_AUDIO_NODE_STORE.has(a))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(a),getEventListenersOfAudioNode(a).forEach(o=>o(!1))},setInternalStateToPassiveWhenNecessary=(a,o)=>{!isAudioWorkletNode(a)&&o.every($=>$.size===0)&&setInternalStateToPassive(a)},createAddConnectionToAudioNode=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct)=>{const vt=new WeakMap;return(ht,yt,bt,dt,xt)=>{const{activeInputs:Tt,passiveInputs:Ct}=et(yt),{outputs:Et}=et(ht),St=rt(ht),gt=wt=>{const Mt=ot(yt),Ot=ot(ht);if(wt){const Lt=deletePassiveInputConnectionToAudioNode(Ct,ht,bt,dt);a(Tt,ht,Lt,!1),!xt&&!ut(ht)&&$(Ot,Mt,bt,dt),ct(yt)&&setInternalStateToActive(yt)}else{const Lt=j(Tt,ht,bt,dt);o(Ct,dt,Lt,!1),!xt&&!ut(ht)&&_e(Ot,Mt,bt,dt);const jt=tt(yt);if(jt===0)at(yt)&&setInternalStateToPassiveWhenNecessary(yt,Tt);else{const Jt=vt.get(yt);Jt!==void 0&&clearTimeout(Jt),vt.set(yt,setTimeout(()=>{at(yt)&&setInternalStateToPassiveWhenNecessary(yt,Tt)},jt*1e3))}}};return st(Et,[yt,bt,dt],wt=>wt[0]===yt&&wt[1]===bt&&wt[2]===dt,!0)?(St.add(gt),at(ht)?a(Tt,ht,[bt,dt,gt],!0):o(Ct,dt,[ht,bt,gt],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=a=>(o,$,[j,_e,et],tt)=>{const rt=o.get(j);rt===void 0?o.set(j,new Set([[_e,$,et]])):a(rt,[_e,$,et],ot=>ot[0]===_e&&ot[1]===$,tt)},createAddSilentConnection=a=>(o,$)=>{const j=a(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});$.connect(j).connect(o.destination);const _e=()=>{$.removeEventListener("ended",_e),$.disconnect(j),j.disconnect()};$.addEventListener("ended",_e)},createAddUnrenderedAudioWorkletNode=a=>(o,$)=>{a(o).add($)},DEFAULT_OPTIONS$j={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=_e(rt),at={...DEFAULT_OPTIONS$j,...ot},ut=j(st,at),ct=et(st)?o():null;super(rt,!1,ut,ct),this._nativeAnalyserNode=ut}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(rt){this._nativeAnalyserNode.fftSize=rt}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(rt){const ot=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=rt,!(rt>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=ot,$()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(rt){const ot=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=rt,!(this._nativeAnalyserNode.maxDecibels>rt))throw this._nativeAnalyserNode.minDecibels=ot,$()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(rt){this._nativeAnalyserNode.smoothingTimeConstant=rt}getByteFrequencyData(rt){this._nativeAnalyserNode.getByteFrequencyData(rt)}getByteTimeDomainData(rt){this._nativeAnalyserNode.getByteTimeDomainData(rt)}getFloatFrequencyData(rt){this._nativeAnalyserNode.getFloatFrequencyData(rt)}getFloatTimeDomainData(rt){this._nativeAnalyserNode.getFloatTimeDomainData(rt)}},isOwnedByContext=(a,o)=>a.context===o,createAnalyserNodeRendererFactory=(a,o,$)=>()=>{const j=new WeakMap,_e=async(et,tt)=>{let rt=o(et);if(!isOwnedByContext(rt,tt)){const st={channelCount:rt.channelCount,channelCountMode:rt.channelCountMode,channelInterpretation:rt.channelInterpretation,fftSize:rt.fftSize,maxDecibels:rt.maxDecibels,minDecibels:rt.minDecibels,smoothingTimeConstant:rt.smoothingTimeConstant};rt=a(tt,st)}return j.set(tt,rt),await $(et,tt,rt),rt};return{render(et,tt){const rt=j.get(tt);return rt!==void 0?Promise.resolve(rt):_e(et,tt)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=a=>{try{a.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=a=>{a.getChannelData=(o=>$=>{try{return o.call(a,$)}catch(j){throw j.code===12?createIndexSizeError():j}})(a.getChannelData)},DEFAULT_OPTIONS$i={numberOfChannels:1},createAudioBufferConstructor=(a,o,$,j,_e,et,tt,rt)=>{let ot=null;return class Qm{constructor(at){if(_e===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:ut,numberOfChannels:ct,sampleRate:vt}={...DEFAULT_OPTIONS$i,...at};ot===null&&(ot=new _e(1,1,44100));const ht=j!==null&&o(et,et)?new j({length:ut,numberOfChannels:ct,sampleRate:vt}):ot.createBuffer(ct,ut,vt);if(ht.numberOfChannels===0)throw $();return typeof ht.copyFromChannel!="function"?(tt(ht),wrapAudioBufferGetChannelDataMethod(ht)):o(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(ht))||rt(ht),a.add(ht),ht}static[Symbol.hasInstance](at){return at!==null&&typeof at=="object"&&Object.getPrototypeOf(at)===Qm.prototype||a.has(at)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=a=>ACTIVE_AUDIO_NODE_STORE.has(a),DEFAULT_OPTIONS$h={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(a,o,$,j,_e,et,tt,rt)=>class extends a{constructor(st,at){const ut=et(st),ct={...DEFAULT_OPTIONS$h,...at},vt=_e(ut,ct),ht=tt(ut),yt=ht?o():null;super(st,!1,vt,yt),this._audioBufferSourceNodeRenderer=yt,this._isBufferNullified=!1,this._isBufferSet=ct.buffer!==null,this._nativeAudioBufferSourceNode=vt,this._onended=null,this._playbackRate=$(this,ht,vt.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(st){if(this._nativeAudioBufferSourceNode.buffer=st,st!==null){if(this._isBufferSet)throw j();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(st){this._nativeAudioBufferSourceNode.loop=st}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(st){this._nativeAudioBufferSourceNode.loopEnd=st}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(st){this._nativeAudioBufferSourceNode.loopStart=st}get onended(){return this._onended}set onended(st){const at=typeof st=="function"?rt(this,st):null;this._nativeAudioBufferSourceNode.onended=at;const ut=this._nativeAudioBufferSourceNode.onended;this._onended=ut!==null&&ut===at?st:ut}get playbackRate(){return this._playbackRate}start(st=0,at=0,ut){if(this._nativeAudioBufferSourceNode.start(st,at,ut),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=ut===void 0?[st,at]:[st,at,ut]),this.context.state!=="closed"){setInternalStateToActive(this);const ct=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",ct),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",ct)}}stop(st=0){this._nativeAudioBufferSourceNode.stop(st),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=st)}},createAudioBufferSourceNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap;let tt=null,rt=null;const ot=async(st,at)=>{let ut=$(st);const ct=isOwnedByContext(ut,at);if(!ct){const vt={buffer:ut.buffer,channelCount:ut.channelCount,channelCountMode:ut.channelCountMode,channelInterpretation:ut.channelInterpretation,loop:ut.loop,loopEnd:ut.loopEnd,loopStart:ut.loopStart,playbackRate:ut.playbackRate.value};ut=o(at,vt),tt!==null&&ut.start(...tt),rt!==null&&ut.stop(rt)}return et.set(at,ut),ct?await a(at,st.playbackRate,ut.playbackRate):await j(at,st.playbackRate,ut.playbackRate),await _e(st,at,ut),ut};return{set start(st){tt=st},set stop(st){rt=st},render(st,at){const ut=et.get(at);return ut!==void 0?Promise.resolve(ut):ot(st,at)}}},isAudioBufferSourceNode=a=>"playbackRate"in a,isBiquadFilterNode=a=>"frequency"in a&&"gain"in a,isConstantSourceNode=a=>"offset"in a,isGainNode=a=>!("frequency"in a)&&"gain"in a,isOscillatorNode=a=>"detune"in a&&"frequency"in a,isStereoPannerNode=a=>"pan"in a,getAudioNodeConnections=a=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,a),getAudioParamConnections=a=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,a),deactivateActiveAudioNodeInputConnections=(a,o)=>{const{activeInputs:$}=getAudioNodeConnections(a);$.forEach(_e=>_e.forEach(([et])=>{o.includes(a)||deactivateActiveAudioNodeInputConnections(et,[...o,a])}));const j=isAudioBufferSourceNode(a)?[a.playbackRate]:isAudioWorkletNode(a)?Array.from(a.parameters.values()):isBiquadFilterNode(a)?[a.Q,a.detune,a.frequency,a.gain]:isConstantSourceNode(a)?[a.offset]:isGainNode(a)?[a.gain]:isOscillatorNode(a)?[a.detune,a.frequency]:isStereoPannerNode(a)?[a.pan]:[];for(const _e of j){const et=getAudioParamConnections(_e);et!==void 0&&et.activeInputs.forEach(([tt])=>deactivateActiveAudioNodeInputConnections(tt,o))}isActiveAudioNode(a)&&setInternalStateToPassive(a)},deactivateAudioGraph=a=>{deactivateActiveAudioNodeInputConnections(a.destination,[])},isValidLatencyHint=a=>a===void 0||typeof a=="number"||typeof a=="string"&&(a==="balanced"||a==="interactive"||a==="playback"),createAudioContextConstructor=(a,o,$,j,_e,et,tt,rt,ot)=>class extends a{constructor(at={}){if(ot===null)throw new Error("Missing the native AudioContext constructor.");let ut;try{ut=new ot(at)}catch(ht){throw ht.code===12&&ht.message==="sampleRate is not in range"?$():ht}if(ut===null)throw j();if(!isValidLatencyHint(at.latencyHint))throw new TypeError(`The provided value '${at.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(at.sampleRate!==void 0&&ut.sampleRate!==at.sampleRate)throw $();super(ut,2);const{latencyHint:ct}=at,{sampleRate:vt}=ut;if(this._baseLatency=typeof ut.baseLatency=="number"?ut.baseLatency:ct==="balanced"?512/vt:ct==="interactive"||ct===void 0?256/vt:ct==="playback"?1024/vt:Math.max(2,Math.min(128,Math.round(ct*vt/128)))*128/vt,this._nativeAudioContext=ut,ot.name==="webkitAudioContext"?(this._nativeGainNode=ut.createGain(),this._nativeOscillatorNode=ut.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(ut.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,ut.state==="running"){this._state="suspended";const ht=()=>{this._state==="suspended"&&(this._state=null),ut.removeEventListener("statechange",ht)};ut.addEventListener("statechange",ht)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw o()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(at){return new _e(this,{mediaElement:at})}createMediaStreamDestination(){return new et(this)}createMediaStreamSource(at){return new tt(this,{mediaStream:at})}createMediaStreamTrackSource(at){return new rt(this,{mediaStreamTrack:at})}resume(){return this._state==="suspended"?new Promise((at,ut)=>{const ct=()=>{this._nativeAudioContext.removeEventListener("statechange",ct),this._nativeAudioContext.state==="running"?at():this.resume().then(at,ut)};this._nativeAudioContext.addEventListener("statechange",ct)}):this._nativeAudioContext.resume().catch(at=>{throw at===void 0||at.code===15?o():at})}suspend(){return this._nativeAudioContext.suspend().catch(at=>{throw at===void 0?o():at})}},createAudioDestinationNodeConstructor=(a,o,$,j,_e,et,tt,rt)=>class extends a{constructor(st,at){const ut=et(st),ct=tt(ut),vt=_e(ut,at,ct),ht=ct?o(rt):null;super(st,!1,vt,ht),this._isNodeOfNativeOfflineAudioContext=ct,this._nativeAudioDestinationNode=vt}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(st){if(this._isNodeOfNativeOfflineAudioContext)throw j();if(st>this._nativeAudioDestinationNode.maxChannelCount)throw $();this._nativeAudioDestinationNode.channelCount=st}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(st){if(this._isNodeOfNativeOfflineAudioContext)throw j();this._nativeAudioDestinationNode.channelCountMode=st}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=a=>{const o=new WeakMap,$=async(j,_e)=>{const et=_e.destination;return o.set(_e,et),await a(j,_e,et),et};return{render(j,_e){const et=o.get(_e);return et!==void 0?Promise.resolve(et):$(j,_e)}}},createAudioListenerFactory=(a,o,$,j,_e,et,tt,rt)=>(ot,st)=>{const at=st.listener,ut=()=>{const Et=new Float32Array(1),St=o(st,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),gt=tt(st);let wt=!1,Mt=[0,0,-1,0,1,0],Ot=[0,0,0];const Lt=()=>{if(wt)return;wt=!0;const rn=j(st,256,9,0);rn.onaudioprocess=({inputBuffer:an})=>{const pn=[et(an,Et,0),et(an,Et,1),et(an,Et,2),et(an,Et,3),et(an,Et,4),et(an,Et,5)];pn.some((Qt,fn)=>Qt!==Mt[fn])&&(at.setOrientation(...pn),Mt=pn);const Kt=[et(an,Et,6),et(an,Et,7),et(an,Et,8)];Kt.some((Qt,fn)=>Qt!==Ot[fn])&&(at.setPosition(...Kt),Ot=Kt)},St.connect(rn)},jt=rn=>an=>{an!==Mt[rn]&&(Mt[rn]=an,at.setOrientation(...Mt))},Jt=rn=>an=>{an!==Ot[rn]&&(Ot[rn]=an,at.setPosition(...Ot))},qt=(rn,an,pn)=>{const Kt=$(st,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:an});Kt.connect(St,0,rn),Kt.start(),Object.defineProperty(Kt.offset,"defaultValue",{get(){return an}});const Qt=a({context:ot},gt,Kt.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return rt(Qt,"value",fn=>()=>fn.call(Qt),fn=>ln=>{try{fn.call(Qt,ln)}catch(vn){if(vn.code!==9)throw vn}Lt(),gt&&pn(ln)}),Qt.cancelAndHoldAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.cancelAndHoldAtTime),Qt.cancelScheduledValues=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.cancelScheduledValues),Qt.exponentialRampToValueAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.exponentialRampToValueAtTime),Qt.linearRampToValueAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.linearRampToValueAtTime),Qt.setTargetAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.setTargetAtTime),Qt.setValueAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.setValueAtTime),Qt.setValueCurveAtTime=(fn=>gt?()=>{throw _e()}:(...ln)=>{const vn=fn.apply(Qt,ln);return Lt(),vn})(Qt.setValueCurveAtTime),Qt};return{forwardX:qt(0,0,jt(0)),forwardY:qt(1,0,jt(1)),forwardZ:qt(2,-1,jt(2)),positionX:qt(6,0,Jt(0)),positionY:qt(7,0,Jt(1)),positionZ:qt(8,0,Jt(2)),upX:qt(3,0,jt(3)),upY:qt(4,1,jt(4)),upZ:qt(5,0,jt(5))}},{forwardX:ct,forwardY:vt,forwardZ:ht,positionX:yt,positionY:bt,positionZ:dt,upX:xt,upY:Tt,upZ:Ct}=at.forwardX===void 0?ut():at;return{get forwardX(){return ct},get forwardY(){return vt},get forwardZ(){return ht},get positionX(){return yt},get positionY(){return bt},get positionZ(){return dt},get upX(){return xt},get upY(){return Tt},get upZ(){return Ct}}},isAudioNode$1=a=>"context"in a,isAudioNodeOutputConnection=a=>isAudioNode$1(a[0]),insertElementInSet=(a,o,$,j)=>{for(const _e of a)if($(_e)){if(j)return!1;throw Error("The set contains at least one similar element.")}return a.add(o),!0},addActiveInputConnectionToAudioParam=(a,o,[$,j],_e)=>{insertElementInSet(a,[o,$,j],et=>et[0]===o&&et[1]===$,_e)},addPassiveInputConnectionToAudioParam=(a,[o,$,j],_e)=>{const et=a.get(o);et===void 0?a.set(o,new Set([[$,j]])):insertElementInSet(et,[$,j],tt=>tt[0]===$,_e)},isNativeAudioNodeFaker=a=>"inputs"in a,connectNativeAudioNodeToNativeAudioNode=(a,o,$,j)=>{if(isNativeAudioNodeFaker(o)){const _e=o.inputs[j];return a.connect(_e,$,0),[_e,$,0]}return a.connect(o,$,j),[o,$,j]},deleteActiveInputConnection=(a,o,$)=>{for(const j of a)if(j[0]===o&&j[1]===$)return a.delete(j),j;return null},deleteActiveInputConnectionToAudioParam=(a,o,$)=>pickElementFromSet(a,j=>j[0]===o&&j[1]===$),deleteEventListenerOfAudioNode=(a,o)=>{if(!getEventListenersOfAudioNode(a).delete(o))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(a,o,$)=>{const j=getValueForKey(a,o),_e=pickElementFromSet(j,et=>et[0]===$);return j.size===0&&a.delete(o),_e},disconnectNativeAudioNodeFromNativeAudioNode=(a,o,$,j)=>{isNativeAudioNodeFaker(o)?a.disconnect(o.inputs[j],$,0):a.disconnect(o,$,j)},getNativeAudioNode=a=>getValueForKey(AUDIO_NODE_STORE,a),getNativeAudioParam=a=>getValueForKey(AUDIO_PARAM_STORE,a),isPartOfACycle=a=>CYCLE_COUNTERS.has(a),isPassiveAudioNode=a=>!ACTIVE_AUDIO_NODE_STORE.has(a),testAudioNodeDisconnectMethodSupport=(a,o)=>new Promise($=>{if(o!==null)$(!0);else{const j=a.createScriptProcessor(256,1,1),_e=a.createGain(),et=a.createBuffer(1,2,44100),tt=et.getChannelData(0);tt[0]=1,tt[1]=1;const rt=a.createBufferSource();rt.buffer=et,rt.loop=!0,rt.connect(j).connect(a.destination),rt.connect(_e),rt.disconnect(_e),j.onaudioprocess=ot=>{const st=ot.inputBuffer.getChannelData(0);Array.prototype.some.call(st,at=>at===1)?$(!0):$(!1),rt.stop(),j.onaudioprocess=null,rt.disconnect(j),j.disconnect(a.destination)},rt.start()}}),visitEachAudioNodeOnce=(a,o)=>{const $=new Map;for(const j of a)for(const _e of j){const et=$.get(_e);$.set(_e,et===void 0?1:et+1)}$.forEach((j,_e)=>o(_e,j))},isNativeAudioNode$1=a=>"context"in a,wrapAudioNodeDisconnectMethod=a=>{const o=new Map;a.connect=($=>(j,_e=0,et=0)=>{const tt=isNativeAudioNode$1(j)?$(j,_e,et):$(j,_e),rt=o.get(j);return rt===void 0?o.set(j,[{input:et,output:_e}]):rt.every(ot=>ot.input!==et||ot.output!==_e)&&rt.push({input:et,output:_e}),tt})(a.connect.bind(a)),a.disconnect=($=>(j,_e,et)=>{if($.apply(a),j===void 0)o.clear();else if(typeof j=="number")for(const[tt,rt]of o){const ot=rt.filter(st=>st.output!==j);ot.length===0?o.delete(tt):o.set(tt,ot)}else if(o.has(j))if(_e===void 0)o.delete(j);else{const tt=o.get(j);if(tt!==void 0){const rt=tt.filter(ot=>ot.output!==_e&&(ot.input!==et||et===void 0));rt.length===0?o.delete(j):o.set(j,rt)}}for(const[tt,rt]of o)rt.forEach(ot=>{isNativeAudioNode$1(tt)?a.connect(tt,ot.output,ot.input):a.connect(tt,ot.output)})})(a.disconnect)},addConnectionToAudioParamOfAudioContext=(a,o,$,j)=>{const{activeInputs:_e,passiveInputs:et}=getAudioParamConnections(o),{outputs:tt}=getAudioNodeConnections(a),rt=getEventListenersOfAudioNode(a),ot=st=>{const at=getNativeAudioNode(a),ut=getNativeAudioParam(o);if(st){const ct=deletePassiveInputConnectionToAudioParam(et,a,$);addActiveInputConnectionToAudioParam(_e,a,ct,!1),!j&&!isPartOfACycle(a)&&at.connect(ut,$)}else{const ct=deleteActiveInputConnectionToAudioParam(_e,a,$);addPassiveInputConnectionToAudioParam(et,ct,!1),!j&&!isPartOfACycle(a)&&at.disconnect(ut,$)}};return insertElementInSet(tt,[o,$],st=>st[0]===o&&st[1]===$,!0)?(rt.add(ot),isActiveAudioNode(a)?addActiveInputConnectionToAudioParam(_e,a,[$,ot],!0):addPassiveInputConnectionToAudioParam(et,[a,$,ot],!0),!0):!1},deleteInputConnectionOfAudioNode=(a,o,$,j)=>{const{activeInputs:_e,passiveInputs:et}=getAudioNodeConnections(o),tt=deleteActiveInputConnection(_e[j],a,$);return tt===null?[deletePassiveInputConnectionToAudioNode(et,a,$,j)[2],!1]:[tt[2],!0]},deleteInputConnectionOfAudioParam=(a,o,$)=>{const{activeInputs:j,passiveInputs:_e}=getAudioParamConnections(o),et=deleteActiveInputConnection(j,a,$);return et===null?[deletePassiveInputConnectionToAudioParam(_e,a,$)[1],!1]:[et[2],!0]},deleteInputsOfAudioNode=(a,o,$,j,_e)=>{const[et,tt]=deleteInputConnectionOfAudioNode(a,$,j,_e);if(et!==null&&(deleteEventListenerOfAudioNode(a,et),tt&&!o&&!isPartOfACycle(a)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(a),getNativeAudioNode($),j,_e)),isActiveAudioNode($)){const{activeInputs:rt}=getAudioNodeConnections($);setInternalStateToPassiveWhenNecessary($,rt)}},deleteInputsOfAudioParam=(a,o,$,j)=>{const[_e,et]=deleteInputConnectionOfAudioParam(a,$,j);_e!==null&&(deleteEventListenerOfAudioNode(a,_e),et&&!o&&!isPartOfACycle(a)&&getNativeAudioNode(a).disconnect(getNativeAudioParam($),j))},deleteAnyConnection=(a,o)=>{const $=getAudioNodeConnections(a),j=[];for(const _e of $.outputs)isAudioNodeOutputConnection(_e)?deleteInputsOfAudioNode(a,o,..._e):deleteInputsOfAudioParam(a,o,..._e),j.push(_e[0]);return $.outputs.clear(),j},deleteConnectionAtOutput=(a,o,$)=>{const j=getAudioNodeConnections(a),_e=[];for(const et of j.outputs)et[1]===$&&(isAudioNodeOutputConnection(et)?deleteInputsOfAudioNode(a,o,...et):deleteInputsOfAudioParam(a,o,...et),_e.push(et[0]),j.outputs.delete(et));return _e},deleteConnectionToDestination=(a,o,$,j,_e)=>{const et=getAudioNodeConnections(a);return Array.from(et.outputs).filter(tt=>tt[0]===$&&(j===void 0||tt[1]===j)&&(_e===void 0||tt[2]===_e)).map(tt=>(isAudioNodeOutputConnection(tt)?deleteInputsOfAudioNode(a,o,...tt):deleteInputsOfAudioParam(a,o,...tt),et.outputs.delete(tt),tt[0]))},createAudioNodeConstructor=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct,vt,ht,yt)=>class extends st{constructor(dt,xt,Tt,Ct){super(Tt),this._context=dt,this._nativeAudioNode=Tt;const Et=at(dt);ut(Et)&&$(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(Et,yt))!==!0&&wrapAudioNodeDisconnectMethod(Tt),AUDIO_NODE_STORE.set(this,Tt),EVENT_LISTENERS.set(this,new Set),dt.state!=="closed"&&xt&&setInternalStateToActive(this),a(this,Ct,Tt)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(dt){this._nativeAudioNode.channelCount=dt}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(dt){this._nativeAudioNode.channelCountMode=dt}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(dt){this._nativeAudioNode.channelInterpretation=dt}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(dt,xt=0,Tt=0){if(xt<0||xt>=this._nativeAudioNode.numberOfOutputs)throw _e();const Ct=at(this._context),Et=ht(Ct);if(ct(dt)||vt(dt))throw et();if(isAudioNode$1(dt)){const wt=getNativeAudioNode(dt);try{const Ot=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,wt,xt,Tt),Lt=isPassiveAudioNode(this);(Et||Lt)&&this._nativeAudioNode.disconnect(...Ot),this.context.state!=="closed"&&!Lt&&isPassiveAudioNode(dt)&&setInternalStateToActive(dt)}catch(Ot){throw Ot.code===12?et():Ot}if(o(this,dt,xt,Tt,Et)){const Ot=ot([this],dt);visitEachAudioNodeOnce(Ot,j(Et))}return dt}const St=getNativeAudioParam(dt);if(St.name==="playbackRate"&&St.maxValue===1024)throw tt();try{this._nativeAudioNode.connect(St,xt),(Et||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(St,xt)}catch(wt){throw wt.code===12?et():wt}if(addConnectionToAudioParamOfAudioContext(this,dt,xt,Et)){const wt=ot([this],dt);visitEachAudioNodeOnce(wt,j(Et))}}disconnect(dt,xt,Tt){let Ct;const Et=at(this._context),St=ht(Et);if(dt===void 0)Ct=deleteAnyConnection(this,St);else if(typeof dt=="number"){if(dt<0||dt>=this.numberOfOutputs)throw _e();Ct=deleteConnectionAtOutput(this,St,dt)}else{if(xt!==void 0&&(xt<0||xt>=this.numberOfOutputs)||isAudioNode$1(dt)&&Tt!==void 0&&(Tt<0||Tt>=dt.numberOfInputs))throw _e();if(Ct=deleteConnectionToDestination(this,St,dt,xt,Tt),Ct.length===0)throw et()}for(const gt of Ct){const wt=ot([this],gt);visitEachAudioNodeOnce(wt,rt)}}},createAudioParamFactory=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct)=>(vt,ht,yt,bt=null,dt=null)=>{const xt=yt.value,Tt=new AutomationEventList(xt),Ct=ht?j(Tt):null,Et={get defaultValue(){return xt},get maxValue(){return bt===null?yt.maxValue:bt},get minValue(){return dt===null?yt.minValue:dt},get value(){return yt.value},set value(St){yt.value=St,Et.setValueAtTime(St,vt.context.currentTime)},cancelAndHoldAtTime(St){if(typeof yt.cancelAndHoldAtTime=="function")Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(_e(St)),yt.cancelAndHoldAtTime(St);else{const gt=Array.from(Tt).pop();Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(_e(St));const wt=Array.from(Tt).pop();yt.cancelScheduledValues(St),gt!==wt&&wt!==void 0&&(wt.type==="exponentialRampToValue"?yt.exponentialRampToValueAtTime(wt.value,wt.endTime):wt.type==="linearRampToValue"?yt.linearRampToValueAtTime(wt.value,wt.endTime):wt.type==="setValue"?yt.setValueAtTime(wt.value,wt.startTime):wt.type==="setValueCurve"&&yt.setValueCurveAtTime(wt.values,wt.startTime,wt.duration))}return Et},cancelScheduledValues(St){return Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(et(St)),yt.cancelScheduledValues(St),Et},exponentialRampToValueAtTime(St,gt){if(St===0)throw new RangeError;if(!Number.isFinite(gt)||gt<0)throw new RangeError;const wt=vt.context.currentTime;return Ct===null&&Tt.flush(wt),Array.from(Tt).length===0&&(Tt.add(st(xt,wt)),yt.setValueAtTime(xt,wt)),Tt.add(tt(St,gt)),yt.exponentialRampToValueAtTime(St,gt),Et},linearRampToValueAtTime(St,gt){const wt=vt.context.currentTime;return Ct===null&&Tt.flush(wt),Array.from(Tt).length===0&&(Tt.add(st(xt,wt)),yt.setValueAtTime(xt,wt)),Tt.add(rt(St,gt)),yt.linearRampToValueAtTime(St,gt),Et},setTargetAtTime(St,gt,wt){return Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(ot(St,gt,wt)),yt.setTargetAtTime(St,gt,wt),Et},setValueAtTime(St,gt){return Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(st(St,gt)),yt.setValueAtTime(St,gt),Et},setValueCurveAtTime(St,gt,wt){const Mt=St instanceof Float32Array?St:new Float32Array(St);if(ut!==null&&ut.name==="webkitAudioContext"){const Ot=gt+wt,Lt=vt.context.sampleRate,jt=Math.ceil(gt*Lt),Jt=Math.floor(Ot*Lt),qt=Jt-jt,rn=new Float32Array(qt);for(let pn=0;pn<qt;pn+=1){const Kt=(Mt.length-1)/wt*((jt+pn)/Lt-gt),Qt=Math.floor(Kt),fn=Math.ceil(Kt);rn[pn]=Qt===fn?Mt[Qt]:(1-(Kt-Qt))*Mt[Qt]+(1-(fn-Kt))*Mt[fn]}Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(at(rn,gt,wt)),yt.setValueCurveAtTime(rn,gt,wt);const an=Jt/Lt;an<Ot&&ct(Et,rn[rn.length-1],an),ct(Et,Mt[Mt.length-1],Ot)}else Ct===null&&Tt.flush(vt.context.currentTime),Tt.add(at(Mt,gt,wt)),yt.setValueCurveAtTime(Mt,gt,wt);return Et}};return $.set(Et,yt),o.set(Et,vt),a(Et,Ct),Et},createAudioParamRenderer=a=>({replay(o){for(const $ of a)if($.type==="exponentialRampToValue"){const{endTime:j,value:_e}=$;o.exponentialRampToValueAtTime(_e,j)}else if($.type==="linearRampToValue"){const{endTime:j,value:_e}=$;o.linearRampToValueAtTime(_e,j)}else if($.type==="setTarget"){const{startTime:j,target:_e,timeConstant:et}=$;o.setTargetAtTime(_e,j,et)}else if($.type==="setValue"){const{startTime:j,value:_e}=$;o.setValueAtTime(_e,j)}else if($.type==="setValueCurve"){const{duration:j,startTime:_e,values:et}=$;o.setValueCurveAtTime(et,_e,j)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(o){this._map=new Map(o)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(o,$=null){return this._map.forEach((j,_e)=>o.call($,j,_e,this))}get(o){return this._map.get(o)}has(o){return this._map.has(o)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$g={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct,vt)=>class extends o{constructor(yt,bt,dt){var xt;const Tt=rt(yt),Ct=ot(Tt),Et=at({...DEFAULT_OPTIONS$g,...dt});ct(Et);const St=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(Tt),gt=St==null?void 0:St.get(bt),wt=Ct||Tt.state!=="closed"?Tt:(xt=tt(Tt))!==null&&xt!==void 0?xt:Tt,Mt=_e(wt,Ct?null:yt.baseLatency,st,bt,gt,Et),Ot=Ct?j(bt,Et,gt):null;super(yt,!0,Mt,Ot);const Lt=[];Mt.parameters.forEach((Jt,qt)=>{const rn=$(this,Ct,Jt);Lt.push([qt,rn])}),this._nativeAudioWorkletNode=Mt,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(Lt),Ct&&a(Tt,this);const{activeInputs:jt}=et(this);ut(Mt,jt)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(yt){const bt=typeof yt=="function"?vt(this,yt):null;this._nativeAudioWorkletNode.onprocessorerror=bt;const dt=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=dt!==null&&dt===bt?yt:dt}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(a,o,$,j,_e){if(typeof a.copyFromChannel=="function")o[$].byteLength===0&&(o[$]=new Float32Array(128)),a.copyFromChannel(o[$],j,_e);else{const et=a.getChannelData(j);if(o[$].byteLength===0)o[$]=et.slice(_e,_e+128);else{const tt=new Float32Array(et.buffer,_e*Float32Array.BYTES_PER_ELEMENT,128);o[$].set(tt)}}}const copyToChannel=(a,o,$,j,_e)=>{typeof a.copyToChannel=="function"?o[$].byteLength!==0&&a.copyToChannel(o[$],j,_e):o[$].byteLength!==0&&a.getChannelData(j).set(o[$],_e)},createNestedArrays=(a,o)=>{const $=[];for(let j=0;j<a;j+=1){const _e=[],et=typeof o=="number"?o:o[j];for(let tt=0;tt<et;tt+=1)_e.push(new Float32Array(128));$.push(_e)}return $},getAudioWorkletProcessor=(a,o)=>{const $=getValueForKey(NODE_TO_PROCESSOR_MAPS,a),j=getNativeAudioNode(o);return getValueForKey($,j)},processBuffer=async(a,o,$,j,_e,et,tt)=>{const rt=o===null?Math.ceil(a.context.length/128)*128:o.length,ot=j.channelCount*j.numberOfInputs,st=_e.reduce((bt,dt)=>bt+dt,0),at=st===0?null:$.createBuffer(st,rt,$.sampleRate);if(et===void 0)throw new Error("Missing the processor constructor.");const ut=getAudioNodeConnections(a),ct=await getAudioWorkletProcessor($,a),vt=createNestedArrays(j.numberOfInputs,j.channelCount),ht=createNestedArrays(j.numberOfOutputs,_e),yt=Array.from(a.parameters.keys()).reduce((bt,dt)=>({...bt,[dt]:new Float32Array(128)}),{});for(let bt=0;bt<rt;bt+=128){if(j.numberOfInputs>0&&o!==null)for(let dt=0;dt<j.numberOfInputs;dt+=1)for(let xt=0;xt<j.channelCount;xt+=1)copyFromChannel(o,vt[dt],xt,xt,bt);et.parameterDescriptors!==void 0&&o!==null&&et.parameterDescriptors.forEach(({name:dt},xt)=>{copyFromChannel(o,yt,dt,ot+xt,bt)});for(let dt=0;dt<j.numberOfInputs;dt+=1)for(let xt=0;xt<_e[dt];xt+=1)ht[dt][xt].byteLength===0&&(ht[dt][xt]=new Float32Array(128));try{const dt=vt.map((Tt,Ct)=>ut.activeInputs[Ct].size===0?[]:Tt),xt=tt(bt/$.sampleRate,$.sampleRate,()=>ct.process(dt,ht,yt));if(at!==null)for(let Tt=0,Ct=0;Tt<j.numberOfOutputs;Tt+=1){for(let Et=0;Et<_e[Tt];Et+=1)copyToChannel(at,ht[Tt],Et,Ct+Et,bt);Ct+=_e[Tt]}if(!xt)break}catch(dt){a.dispatchEvent(new ErrorEvent("processorerror",{colno:dt.colno,filename:dt.filename,lineno:dt.lineno,message:dt.message}));break}}return at},createAudioWorkletNodeRendererFactory=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct,vt,ht,yt)=>(bt,dt,xt)=>{const Tt=new WeakMap;let Ct=null;const Et=async(St,gt)=>{let wt=at(St),Mt=null;const Ot=isOwnedByContext(wt,gt),Lt=Array.isArray(dt.outputChannelCount)?dt.outputChannelCount:Array.from(dt.outputChannelCount);if(ut===null){const jt=Lt.reduce((an,pn)=>an+pn,0),Jt=_e(gt,{channelCount:Math.max(1,jt),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,jt)}),qt=[];for(let an=0;an<St.numberOfOutputs;an+=1)qt.push(j(gt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Lt[an]}));const rn=tt(gt,{channelCount:dt.channelCount,channelCountMode:dt.channelCountMode,channelInterpretation:dt.channelInterpretation,gain:1});rn.connect=o.bind(null,qt),rn.disconnect=ot.bind(null,qt),Mt=[Jt,qt,rn]}else Ot||(wt=new ut(gt,bt));if(Tt.set(gt,Mt===null?wt:Mt[2]),Mt!==null){if(Ct===null){if(xt===void 0)throw new Error("Missing the processor constructor.");if(ct===null)throw new Error("Missing the native OfflineAudioContext constructor.");const pn=St.channelCount*St.numberOfInputs,Kt=xt.parameterDescriptors===void 0?0:xt.parameterDescriptors.length,Qt=pn+Kt;Ct=processBuffer(St,Qt===0?null:await(async()=>{const ln=new ct(Qt,Math.ceil(St.context.length/128)*128,gt.sampleRate),vn=[],Cn=[];for(let Ut=0;Ut<dt.numberOfInputs;Ut+=1)vn.push(tt(ln,{channelCount:dt.channelCount,channelCountMode:dt.channelCountMode,channelInterpretation:dt.channelInterpretation,gain:1})),Cn.push(_e(ln,{channelCount:dt.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:dt.channelCount}));const kn=await Promise.all(Array.from(St.parameters.values()).map(async Ut=>{const Vt=et(ln,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Ut.value});return await vt(ln,Ut,Vt.offset),Vt})),_n=j(ln,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,pn+Kt)});for(let Ut=0;Ut<dt.numberOfInputs;Ut+=1){vn[Ut].connect(Cn[Ut]);for(let Vt=0;Vt<dt.channelCount;Vt+=1)Cn[Ut].connect(_n,Vt,Ut*dt.channelCount+Vt)}for(const[Ut,Vt]of kn.entries())Vt.connect(_n,0,pn+Ut),Vt.start(0);return _n.connect(ln.destination),await Promise.all(vn.map(Ut=>ht(St,ln,Ut))),yt(ln)})(),gt,dt,Lt,xt,st)}const jt=await Ct,Jt=$(gt,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[qt,rn,an]=Mt;jt!==null&&(Jt.buffer=jt,Jt.start(0)),Jt.connect(qt);for(let pn=0,Kt=0;pn<St.numberOfOutputs;pn+=1){const Qt=rn[pn];for(let fn=0;fn<Lt[pn];fn+=1)qt.connect(Qt,Kt+fn,fn);Kt+=Lt[pn]}return an}if(Ot)for(const[jt,Jt]of St.parameters.entries())await a(gt,Jt,wt.parameters.get(jt));else for(const[jt,Jt]of St.parameters.entries())await vt(gt,Jt,wt.parameters.get(jt));return await ht(St,gt,wt),wt};return{render(St,gt){rt(gt,St);const wt=Tt.get(gt);return wt!==void 0?Promise.resolve(wt):Et(St,gt)}}},createBaseAudioContextConstructor=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct,vt,ht,yt,bt,dt,xt,Tt)=>class extends ht{constructor(Et,St){super(Et,St),this._nativeContext=Et,this._audioWorklet=a===void 0?void 0:{addModule:(gt,wt)=>a(this,gt,wt)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new o(this)}createBiquadFilter(){return new _e(this)}createBuffer(Et,St,gt){return new $({length:St,numberOfChannels:Et,sampleRate:gt})}createBufferSource(){return new j(this)}createChannelMerger(Et=6){return new et(this,{numberOfInputs:Et})}createChannelSplitter(Et=6){return new tt(this,{numberOfOutputs:Et})}createConstantSource(){return new rt(this)}createConvolver(){return new ot(this)}createDelay(Et=1){return new at(this,{maxDelayTime:Et})}createDynamicsCompressor(){return new ut(this)}createGain(){return new ct(this)}createIIRFilter(Et,St){return new vt(this,{feedback:St,feedforward:Et})}createOscillator(){return new yt(this)}createPanner(){return new bt(this)}createPeriodicWave(Et,St,gt={disableNormalization:!1}){return new dt(this,{...gt,imag:St,real:Et})}createStereoPanner(){return new xt(this)}createWaveShaper(){return new Tt(this)}decodeAudioData(Et,St,gt){return st(this._nativeContext,Et).then(wt=>(typeof St=="function"&&St(wt),wt),wt=>{throw typeof gt=="function"&&gt(wt),wt})}},DEFAULT_OPTIONS$f={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(a,o,$,j,_e,et,tt,rt)=>class extends a{constructor(st,at){const ut=et(st),ct={...DEFAULT_OPTIONS$f,...at},vt=_e(ut,ct),ht=tt(ut),yt=ht?$():null;super(st,!1,vt,yt),this._Q=o(this,ht,vt.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=o(this,ht,vt.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=o(this,ht,vt.frequency,st.sampleRate/2,0),this._gain=o(this,ht,vt.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=vt,rt(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(st){this._nativeBiquadFilterNode.type=st}getFrequencyResponse(st,at,ut){try{this._nativeBiquadFilterNode.getFrequencyResponse(st,at,ut)}catch(ct){throw ct.code===11?j():ct}if(st.length!==at.length||at.length!==ut.length)throw j()}},createBiquadFilterNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap,tt=async(rt,ot)=>{let st=$(rt);const at=isOwnedByContext(st,ot);if(!at){const ut={Q:st.Q.value,channelCount:st.channelCount,channelCountMode:st.channelCountMode,channelInterpretation:st.channelInterpretation,detune:st.detune.value,frequency:st.frequency.value,gain:st.gain.value,type:st.type};st=o(ot,ut)}return et.set(ot,st),at?(await a(ot,rt.Q,st.Q),await a(ot,rt.detune,st.detune),await a(ot,rt.frequency,st.frequency),await a(ot,rt.gain,st.gain)):(await j(ot,rt.Q,st.Q),await j(ot,rt.detune,st.detune),await j(ot,rt.frequency,st.frequency),await j(ot,rt.gain,st.gain)),await _e(rt,ot,st),st};return{render(rt,ot){const st=et.get(ot);return st!==void 0?Promise.resolve(st):tt(rt,ot)}}},createCacheTestResult=(a,o)=>($,j)=>{const _e=o.get($);if(_e!==void 0)return _e;const et=a.get($);if(et!==void 0)return et;try{const tt=j();return tt instanceof Promise?(a.set($,tt),tt.catch(()=>!1).then(rt=>(a.delete($),o.set($,rt),rt))):(o.set($,tt),tt)}catch{return o.set($,!1),!1}},DEFAULT_OPTIONS$e={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(a,o,$,j,_e)=>class extends a{constructor(tt,rt){const ot=j(tt),st={...DEFAULT_OPTIONS$e,...rt},at=$(ot,st),ut=_e(ot)?o():null;super(tt,!1,at,ut)}},createChannelMergerNodeRendererFactory=(a,o,$)=>()=>{const j=new WeakMap,_e=async(et,tt)=>{let rt=o(et);if(!isOwnedByContext(rt,tt)){const st={channelCount:rt.channelCount,channelCountMode:rt.channelCountMode,channelInterpretation:rt.channelInterpretation,numberOfInputs:rt.numberOfInputs};rt=a(tt,st)}return j.set(tt,rt),await $(et,tt,rt),rt};return{render(et,tt){const rt=j.get(tt);return rt!==void 0?Promise.resolve(rt):_e(et,tt)}}},DEFAULT_OPTIONS$d={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=j(rt),at=et({...DEFAULT_OPTIONS$d,...ot}),ut=$(st,at),ct=_e(st)?o():null;super(rt,!1,ut,ct)}},createChannelSplitterNodeRendererFactory=(a,o,$)=>()=>{const j=new WeakMap,_e=async(et,tt)=>{let rt=o(et);if(!isOwnedByContext(rt,tt)){const st={channelCount:rt.channelCount,channelCountMode:rt.channelCountMode,channelInterpretation:rt.channelInterpretation,numberOfOutputs:rt.numberOfOutputs};rt=a(tt,st)}return j.set(tt,rt),await $(et,tt,rt),rt};return{render(et,tt){const rt=j.get(tt);return rt!==void 0?Promise.resolve(rt):_e(et,tt)}}},createConnectAudioParam=a=>(o,$,j)=>a($,o,j),createConnectMultipleOutputs=a=>(o,$,j=0,_e=0)=>{const et=o[j];if(et===void 0)throw a();return isNativeAudioNode$1($)?et.connect($,0,_e):et.connect($,0)},createConnectedNativeAudioBufferSourceNodeFactory=a=>(o,$)=>{const j=a(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),_e=o.createBuffer(1,2,44100);return j.buffer=_e,j.loop=!0,j.connect($),j.start(),()=>{j.stop(),j.disconnect($)}},DEFAULT_OPTIONS$c={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(a,o,$,j,_e,et,tt)=>class extends a{constructor(ot,st){const at=_e(ot),ut={...DEFAULT_OPTIONS$c,...st},ct=j(at,ut),vt=et(at),ht=vt?$():null;super(ot,!1,ct,ht),this._constantSourceNodeRenderer=ht,this._nativeConstantSourceNode=ct,this._offset=o(this,vt,ct.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(ot){const st=typeof ot=="function"?tt(this,ot):null;this._nativeConstantSourceNode.onended=st;const at=this._nativeConstantSourceNode.onended;this._onended=at!==null&&at===st?ot:at}start(ot=0){if(this._nativeConstantSourceNode.start(ot),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=ot),this.context.state!=="closed"){setInternalStateToActive(this);const st=()=>{this._nativeConstantSourceNode.removeEventListener("ended",st),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",st)}}stop(ot=0){this._nativeConstantSourceNode.stop(ot),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=ot)}},createConstantSourceNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap;let tt=null,rt=null;const ot=async(st,at)=>{let ut=$(st);const ct=isOwnedByContext(ut,at);if(!ct){const vt={channelCount:ut.channelCount,channelCountMode:ut.channelCountMode,channelInterpretation:ut.channelInterpretation,offset:ut.offset.value};ut=o(at,vt),tt!==null&&ut.start(tt),rt!==null&&ut.stop(rt)}return et.set(at,ut),ct?await a(at,st.offset,ut.offset):await j(at,st.offset,ut.offset),await _e(st,at,ut),ut};return{set start(st){tt=st},set stop(st){rt=st},render(st,at){const ut=et.get(at);return ut!==void 0?Promise.resolve(ut):ot(st,at)}}},createConvertNumberToUnsignedLong=a=>o=>(a[0]=o,a[0]),DEFAULT_OPTIONS$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=j(rt),at={...DEFAULT_OPTIONS$b,...ot},ut=$(st,at),vt=_e(st)?o():null;super(rt,!1,ut,vt),this._isBufferNullified=!1,this._nativeConvolverNode=ut,at.buffer!==null&&et(this,at.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(rt){if(this._nativeConvolverNode.buffer=rt,rt===null&&this._nativeConvolverNode.buffer!==null){const ot=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=ot.createBuffer(1,1,ot.sampleRate),this._isBufferNullified=!0,et(this,0)}else this._isBufferNullified=!1,et(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(rt){this._nativeConvolverNode.normalize=rt}},createConvolverNodeRendererFactory=(a,o,$)=>()=>{const j=new WeakMap,_e=async(et,tt)=>{let rt=o(et);if(!isOwnedByContext(rt,tt)){const st={buffer:rt.buffer,channelCount:rt.channelCount,channelCountMode:rt.channelCountMode,channelInterpretation:rt.channelInterpretation,disableNormalization:!rt.normalize};rt=a(tt,st)}return j.set(tt,rt),isNativeAudioNodeFaker(rt)?await $(et,tt,rt.inputs[0]):await $(et,tt,rt),rt};return{render(et,tt){const rt=j.get(tt);return rt!==void 0?Promise.resolve(rt):_e(et,tt)}}},createCreateNativeOfflineAudioContext=(a,o)=>($,j,_e)=>{if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new o($,j,_e)}catch(et){throw et.name==="SyntaxError"?a():et}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=a=>{const{port1:o,port2:$}=new MessageChannel;return new Promise(j=>{const _e=()=>{$.onmessage=null,o.close(),$.close(),j()};$.onmessage=()=>_e();try{o.postMessage(a,[a])}catch{}finally{_e()}})},createDecodeAudioData=(a,o,$,j,_e,et,tt,rt,ot,st,at)=>(ut,ct)=>{const vt=tt(ut)?ut:et(ut);if(_e.has(ct)){const ht=$();return Promise.reject(ht)}try{_e.add(ct)}catch{}return o(ot,()=>ot(vt))?vt.decodeAudioData(ct).then(ht=>(detachArrayBuffer(ct).catch(()=>{}),o(rt,()=>rt(ht))||at(ht),a.add(ht),ht)):new Promise((ht,yt)=>{const bt=async()=>{try{await detachArrayBuffer(ct)}catch{}},dt=xt=>{yt(xt),bt()};try{vt.decodeAudioData(ct,xt=>{typeof xt.copyFromChannel!="function"&&(st(xt),wrapAudioBufferGetChannelDataMethod(xt)),a.add(xt),bt().then(()=>ht(xt))},xt=>{dt(xt===null?j():xt)})}catch(xt){dt(xt)}})},createDecrementCycleCounter=(a,o,$,j,_e,et,tt,rt)=>(ot,st)=>{const at=o.get(ot);if(at===void 0)throw new Error("Missing the expected cycle count.");const ut=et(ot.context),ct=rt(ut);if(at===st){if(o.delete(ot),!ct&&tt(ot)){const vt=j(ot),{outputs:ht}=$(ot);for(const yt of ht)if(isAudioNodeOutputConnection(yt)){const bt=j(yt[0]);a(vt,bt,yt[1],yt[2])}else{const bt=_e(yt[0]);vt.connect(bt,yt[1])}}}else o.set(ot,at-st)},DEFAULT_OPTIONS$a={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(a,o,$,j,_e,et,tt)=>class extends a{constructor(ot,st){const at=_e(ot),ut={...DEFAULT_OPTIONS$a,...st},ct=j(at,ut),vt=et(at),ht=vt?$(ut.maxDelayTime):null;super(ot,!1,ct,ht),this._delayTime=o(this,vt,ct.delayTime),tt(this,ut.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(a,o,$,j,_e)=>et=>{const tt=new WeakMap,rt=async(ot,st)=>{let at=$(ot);const ut=isOwnedByContext(at,st);if(!ut){const ct={channelCount:at.channelCount,channelCountMode:at.channelCountMode,channelInterpretation:at.channelInterpretation,delayTime:at.delayTime.value,maxDelayTime:et};at=o(st,ct)}return tt.set(st,at),ut?await a(st,ot.delayTime,at.delayTime):await j(st,ot.delayTime,at.delayTime),await _e(ot,st,at),at};return{render(ot,st){const at=tt.get(st);return at!==void 0?Promise.resolve(at):rt(ot,st)}}},createDeleteActiveInputConnectionToAudioNode=a=>(o,$,j,_e)=>a(o[_e],et=>et[0]===$&&et[1]===j),createDeleteUnrenderedAudioWorkletNode=a=>(o,$)=>{a(o).delete($)},isDelayNode=a=>"delayTime"in a,createDetectCycles=(a,o,$)=>function j(_e,et){const tt=isAudioNode$1(et)?et:$(a,et);if(isDelayNode(tt))return[];if(_e[0]===tt)return[_e];if(_e.includes(tt))return[];const{outputs:rt}=o(tt);return Array.from(rt).map(ot=>j([..._e,tt],ot[0])).reduce((ot,st)=>ot.concat(st),[])},getOutputAudioNodeAtIndex=(a,o,$)=>{const j=o[$];if(j===void 0)throw a();return j},createDisconnectMultipleOutputs=a=>(o,$=void 0,j=void 0,_e=0)=>$===void 0?o.forEach(et=>et.disconnect()):typeof $=="number"?getOutputAudioNodeAtIndex(a,o,$).disconnect():isNativeAudioNode$1($)?j===void 0?o.forEach(et=>et.disconnect($)):_e===void 0?getOutputAudioNodeAtIndex(a,o,j).disconnect($,0):getOutputAudioNodeAtIndex(a,o,j).disconnect($,0,_e):j===void 0?o.forEach(et=>et.disconnect($)):getOutputAudioNodeAtIndex(a,o,j).disconnect($,0),DEFAULT_OPTIONS$9={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(a,o,$,j,_e,et,tt,rt)=>class extends a{constructor(st,at){const ut=et(st),ct={...DEFAULT_OPTIONS$9,...at},vt=j(ut,ct),ht=tt(ut),yt=ht?$():null;super(st,!1,vt,yt),this._attack=o(this,ht,vt.attack),this._knee=o(this,ht,vt.knee),this._nativeDynamicsCompressorNode=vt,this._ratio=o(this,ht,vt.ratio),this._release=o(this,ht,vt.release),this._threshold=o(this,ht,vt.threshold),rt(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(st){const at=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=st,st>2)throw this._nativeDynamicsCompressorNode.channelCount=at,_e()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(st){const at=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=st,st==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=at,_e()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap,tt=async(rt,ot)=>{let st=$(rt);const at=isOwnedByContext(st,ot);if(!at){const ut={attack:st.attack.value,channelCount:st.channelCount,channelCountMode:st.channelCountMode,channelInterpretation:st.channelInterpretation,knee:st.knee.value,ratio:st.ratio.value,release:st.release.value,threshold:st.threshold.value};st=o(ot,ut)}return et.set(ot,st),at?(await a(ot,rt.attack,st.attack),await a(ot,rt.knee,st.knee),await a(ot,rt.ratio,st.ratio),await a(ot,rt.release,st.release),await a(ot,rt.threshold,st.threshold)):(await j(ot,rt.attack,st.attack),await j(ot,rt.knee,st.knee),await j(ot,rt.ratio,st.ratio),await j(ot,rt.release,st.release),await j(ot,rt.threshold,st.threshold)),await _e(rt,ot,st),st};return{render(rt,ot){const st=et.get(ot);return st!==void 0?Promise.resolve(st):tt(rt,ot)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=a=>o=>new Promise(($,j)=>{if(a===null){j(new SyntaxError);return}const _e=a.document.head;if(_e===null)j(new SyntaxError);else{const et=a.document.createElement("script"),tt=new Blob([o],{type:"application/javascript"}),rt=URL.createObjectURL(tt),ot=a.onerror,st=()=>{a.onerror=ot,URL.revokeObjectURL(rt)};a.onerror=(at,ut,ct,vt,ht)=>{if(ut===rt||ut===a.location.href&&ct===1&&vt===1)return st(),j(ht),!1;if(ot!==null)return ot(at,ut,ct,vt,ht)},et.onerror=()=>{st(),j(new SyntaxError)},et.onload=()=>{st(),$()},et.src=rt,et.type="module",_e.appendChild(et)}}),createEventTargetConstructor=a=>class{constructor($){this._nativeEventTarget=$,this._listeners=new WeakMap}addEventListener($,j,_e){if(j!==null){let et=this._listeners.get(j);et===void 0&&(et=a(this,j),typeof j=="function"&&this._listeners.set(j,et)),this._nativeEventTarget.addEventListener($,et,_e)}}dispatchEvent($){return this._nativeEventTarget.dispatchEvent($)}removeEventListener($,j,_e){const et=j===null?void 0:this._listeners.get(j);this._nativeEventTarget.removeEventListener($,et===void 0?null:et,_e)}},createExposeCurrentFrameAndCurrentTime=a=>(o,$,j)=>{Object.defineProperties(a,{currentFrame:{configurable:!0,get(){return Math.round(o*$)}},currentTime:{configurable:!0,get(){return o}}});try{return j()}finally{a!==null&&(delete a.currentFrame,delete a.currentTime)}},createFetchSource=a=>async o=>{try{const $=await fetch(o);if($.ok)return[await $.text(),$.url]}catch{}throw a()},DEFAULT_OPTIONS$8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=_e(rt),at={...DEFAULT_OPTIONS$8,...ot},ut=j(st,at),ct=et(st),vt=ct?$():null;super(rt,!1,ut,vt),this._gain=o(this,ct,ut.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap,tt=async(rt,ot)=>{let st=$(rt);const at=isOwnedByContext(st,ot);if(!at){const ut={channelCount:st.channelCount,channelCountMode:st.channelCountMode,channelInterpretation:st.channelInterpretation,gain:st.gain.value};st=o(ot,ut)}return et.set(ot,st),at?await a(ot,rt.gain,st.gain):await j(ot,rt.gain,st.gain),await _e(rt,ot,st),st};return{render(rt,ot){const st=et.get(ot);return st!==void 0?Promise.resolve(st):tt(rt,ot)}}},createGetActiveAudioWorkletNodeInputs=(a,o)=>$=>o(a,$),createGetAudioNodeRenderer=a=>o=>{const $=a(o);if($.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return $.renderer},createGetAudioNodeTailTime=a=>o=>{var $;return($=a.get(o))!==null&&$!==void 0?$:0},createGetAudioParamRenderer=a=>o=>{const $=a(o);if($.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return $.renderer},createGetBackupOfflineAudioContext=a=>o=>a.get(o),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=a=>o=>{const $=a.get(o);if($===void 0)throw createInvalidStateError();return $},createGetOrCreateBackupOfflineAudioContext=(a,o)=>$=>{let j=a.get($);if(j!==void 0)return j;if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");return j=new o(1,1,44100),a.set($,j),j},createGetUnrenderedAudioWorkletNodes=a=>o=>{const $=a.get(o);if($===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return $},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=a=>{a.getFrequencyResponse=(o=>($,j,_e)=>{if($.length!==j.length||j.length!==_e.length)throw createInvalidAccessError();return o.call(a,$,j,_e)})(a.getFrequencyResponse)},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=j(rt),at=_e(st),ut={...DEFAULT_OPTIONS$7,...ot},ct=o(st,at?null:rt.baseLatency,ut),vt=at?$(ut.feedback,ut.feedforward):null;super(rt,!1,ct,vt),wrapIIRFilterNodeGetFrequencyResponseMethod(ct),this._nativeIIRFilterNode=ct,et(this,1)}getFrequencyResponse(rt,ot,st){return this._nativeIIRFilterNode.getFrequencyResponse(rt,ot,st)}},filterBuffer=(a,o,$,j,_e,et,tt,rt,ot,st,at)=>{const ut=st.length;let ct=rt;for(let vt=0;vt<ut;vt+=1){let ht=$[0]*st[vt];for(let yt=1;yt<_e;yt+=1){const bt=ct-yt&ot-1;ht+=$[yt]*et[bt],ht-=a[yt]*tt[bt]}for(let yt=_e;yt<j;yt+=1)ht+=$[yt]*et[ct-yt&ot-1];for(let yt=_e;yt<o;yt+=1)ht-=a[yt]*tt[ct-yt&ot-1];et[ct]=st[vt],tt[ct]=ht,ct=ct+1&ot-1,at[vt]=ht}return ct},filterFullBuffer=(a,o,$,j)=>{const _e=$ instanceof Float64Array?$:new Float64Array($),et=j instanceof Float64Array?j:new Float64Array(j),tt=_e.length,rt=et.length,ot=Math.min(tt,rt);if(_e[0]!==1){for(let ht=0;ht<tt;ht+=1)et[ht]/=_e[0];for(let ht=1;ht<rt;ht+=1)_e[ht]/=_e[0]}const st=32,at=new Float32Array(st),ut=new Float32Array(st),ct=o.createBuffer(a.numberOfChannels,a.length,a.sampleRate),vt=a.numberOfChannels;for(let ht=0;ht<vt;ht+=1){const yt=a.getChannelData(ht),bt=ct.getChannelData(ht);at.fill(0),ut.fill(0),filterBuffer(_e,tt,et,rt,ot,at,ut,0,st,yt,bt)}return ct},createIIRFilterNodeRendererFactory=(a,o,$,j,_e)=>(et,tt)=>{const rt=new WeakMap;let ot=null;const st=async(at,ut)=>{let ct=null,vt=o(at);const ht=isOwnedByContext(vt,ut);if(ut.createIIRFilter===void 0?ct=a(ut,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):ht||(vt=ut.createIIRFilter(tt,et)),rt.set(ut,ct===null?vt:ct),ct!==null){if(ot===null){if($===null)throw new Error("Missing the native OfflineAudioContext constructor.");const bt=new $(at.context.destination.channelCount,at.context.length,ut.sampleRate);ot=(async()=>{await j(at,bt,bt.destination);const dt=await _e(bt);return filterFullBuffer(dt,ut,et,tt)})()}const yt=await ot;return ct.buffer=yt,ct.start(0),ct}return await j(at,ut,vt),vt};return{render(at,ut){const ct=rt.get(ut);return ct!==void 0?Promise.resolve(ct):st(at,ut)}}},createIncrementCycleCounterFactory=(a,o,$,j,_e,et)=>tt=>(rt,ot)=>{const st=a.get(rt);if(st===void 0){if(!tt&&et(rt)){const at=j(rt),{outputs:ut}=$(rt);for(const ct of ut)if(isAudioNodeOutputConnection(ct)){const vt=j(ct[0]);o(at,vt,ct[1],ct[2])}else{const vt=_e(ct[0]);at.disconnect(vt,ct[1])}}a.set(rt,ot)}else a.set(rt,st+ot)},createIsAnyAudioContext=(a,o)=>$=>{const j=a.get($);return o(j)||o($)},createIsAnyAudioNode=(a,o)=>$=>a.has($)||o($),createIsAnyAudioParam=(a,o)=>$=>a.has($)||o($),createIsAnyOfflineAudioContext=(a,o)=>$=>{const j=a.get($);return o(j)||o($)},createIsNativeAudioContext=a=>o=>a!==null&&o instanceof a,createIsNativeAudioNode=a=>o=>a!==null&&typeof a.AudioNode=="function"&&o instanceof a.AudioNode,createIsNativeAudioParam=a=>o=>a!==null&&typeof a.AudioParam=="function"&&o instanceof a.AudioParam,createIsNativeContext=(a,o)=>$=>a($)||o($),createIsNativeOfflineAudioContext=a=>o=>a!==null&&o instanceof a,createIsSecureContext=a=>a!==null&&a.isSecureContext,createMediaElementAudioSourceNodeConstructor=(a,o,$,j)=>class extends a{constructor(et,tt){const rt=$(et),ot=o(rt,tt);if(j(rt))throw TypeError();super(et,!0,ot,null),this._nativeMediaElementAudioSourceNode=ot}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(a,o,$,j)=>class extends a{constructor(et,tt){const rt=$(et);if(j(rt))throw new TypeError;const ot={...DEFAULT_OPTIONS$6,...tt},st=o(rt,ot);super(et,!1,st,null),this._nativeMediaStreamAudioDestinationNode=st}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(a,o,$,j)=>class extends a{constructor(et,tt){const rt=$(et),ot=o(rt,tt);if(j(rt))throw new TypeError;super(et,!0,ot,null),this._nativeMediaStreamAudioSourceNode=ot}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(a,o,$)=>class extends a{constructor(_e,et){const tt=$(_e),rt=o(tt,et);super(_e,!0,rt,null)}},createMinimalBaseAudioContextConstructor=(a,o,$,j,_e,et)=>class extends ${constructor(rt,ot){super(rt),this._nativeContext=rt,CONTEXT_STORE.set(this,rt),j(rt)&&_e.set(rt,new Set),this._destination=new a(this,ot),this._listener=o(this,rt),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(rt){const ot=typeof rt=="function"?et(this,rt):null;this._nativeContext.onstatechange=ot;const st=this._nativeContext.onstatechange;this._onstatechange=st!==null&&st===ot?rt:st}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=a=>{const o=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const $=a.decodeAudioData(o.buffer,()=>{});return $===void 0?!1:($.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(a,o)=>($,j,_e)=>{const et=new Set;return $.connect=(tt=>(rt,ot=0,st=0)=>{const at=et.size===0;if(o(rt))return tt.call($,rt,ot,st),a(et,[rt,ot,st],ut=>ut[0]===rt&&ut[1]===ot&&ut[2]===st,!0),at&&j(),rt;tt.call($,rt,ot),a(et,[rt,ot],ut=>ut[0]===rt&&ut[1]===ot,!0),at&&j()})($.connect),$.disconnect=(tt=>(rt,ot,st)=>{const at=et.size>0;if(rt===void 0)tt.apply($),et.clear();else if(typeof rt=="number"){tt.call($,rt);for(const ct of et)ct[1]===rt&&et.delete(ct)}else{o(rt)?tt.call($,rt,ot,st):tt.call($,rt,ot);for(const ct of et)ct[0]===rt&&(ot===void 0||ct[1]===ot)&&(st===void 0||ct[2]===st)&&et.delete(ct)}const ut=et.size===0;at&&ut&&_e()})($.disconnect),$},assignNativeAudioNodeOption=(a,o,$)=>{const j=o[$];j!==void 0&&j!==a[$]&&(a[$]=j)},assignNativeAudioNodeOptions=(a,o)=>{assignNativeAudioNodeOption(a,o,"channelCount"),assignNativeAudioNodeOption(a,o,"channelCountMode"),assignNativeAudioNodeOption(a,o,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=a=>typeof a.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=a=>{a.getFloatTimeDomainData=o=>{const $=new Uint8Array(o.length);a.getByteTimeDomainData($);const j=Math.max($.length,a.fftSize);for(let _e=0;_e<j;_e+=1)o[_e]=($[_e]-128)*.0078125;return o}},createNativeAnalyserNodeFactory=(a,o)=>($,j)=>{const _e=$.createAnalyser();if(assignNativeAudioNodeOptions(_e,j),!(j.maxDecibels>j.minDecibels))throw o();return assignNativeAudioNodeOption(_e,j,"fftSize"),assignNativeAudioNodeOption(_e,j,"maxDecibels"),assignNativeAudioNodeOption(_e,j,"minDecibels"),assignNativeAudioNodeOption(_e,j,"smoothingTimeConstant"),a(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(_e))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(_e),_e},createNativeAudioBufferConstructor=a=>a===null?null:a.hasOwnProperty("AudioBuffer")?a.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(a,o,$)=>{const j=o[$];j!==void 0&&j!==a[$].value&&(a[$].value=j)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=a=>{a.start=(o=>{let $=!1;return(j=0,_e=0,et)=>{if($)throw createInvalidStateError();o.call(a,j,_e,et),$=!0}})(a.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=a=>{a.start=(o=>($=0,j=0,_e)=>{if(typeof _e=="number"&&_e<0||j<0||$<0)throw new RangeError("The parameters can't be negative.");o.call(a,$,j,_e)})(a.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=a=>{a.stop=(o=>($=0)=>{if($<0)throw new RangeError("The parameter can't be negative.");o.call(a,$)})(a.stop)},createNativeAudioBufferSourceNodeFactory=(a,o,$,j,_e,et,tt,rt,ot,st,at)=>(ut,ct)=>{const vt=ut.createBufferSource();return assignNativeAudioNodeOptions(vt,ct),assignNativeAudioNodeAudioParamValue(vt,ct,"playbackRate"),assignNativeAudioNodeOption(vt,ct,"buffer"),assignNativeAudioNodeOption(vt,ct,"loop"),assignNativeAudioNodeOption(vt,ct,"loopEnd"),assignNativeAudioNodeOption(vt,ct,"loopStart"),o($,()=>$(ut))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(vt),o(j,()=>j(ut))||ot(vt),o(_e,()=>_e(ut))||st(vt,ut),o(et,()=>et(ut))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(vt),o(tt,()=>tt(ut))||at(vt,ut),o(rt,()=>rt(ut))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(vt),a(ut,vt),vt},createNativeAudioContextConstructor=a=>a===null?null:a.hasOwnProperty("AudioContext")?a.AudioContext:a.hasOwnProperty("webkitAudioContext")?a.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(a,o)=>($,j,_e)=>{const et=$.destination;if(et.channelCount!==j)try{et.channelCount=j}catch{}_e&&et.channelCountMode!=="explicit"&&(et.channelCountMode="explicit"),et.maxChannelCount===0&&Object.defineProperty(et,"maxChannelCount",{value:j});const tt=a($,{channelCount:j,channelCountMode:et.channelCountMode,channelInterpretation:et.channelInterpretation,gain:1});return o(tt,"channelCount",rt=>()=>rt.call(tt),rt=>ot=>{rt.call(tt,ot);try{et.channelCount=ot}catch(st){if(ot>et.maxChannelCount)throw st}}),o(tt,"channelCountMode",rt=>()=>rt.call(tt),rt=>ot=>{rt.call(tt,ot),et.channelCountMode=ot}),o(tt,"channelInterpretation",rt=>()=>rt.call(tt),rt=>ot=>{rt.call(tt,ot),et.channelInterpretation=ot}),Object.defineProperty(tt,"maxChannelCount",{get:()=>et.maxChannelCount}),tt.connect(et),tt},createNativeAudioWorkletNodeConstructor=a=>a===null?null:a.hasOwnProperty("AudioWorkletNode")?a.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=a=>{const{port1:o}=new MessageChannel;try{o.postMessage(a)}finally{o.close()}},createNativeAudioWorkletNodeFactory=(a,o,$,j,_e)=>(et,tt,rt,ot,st,at)=>{if(rt!==null)try{const ut=new rt(et,ot,at),ct=new Map;let vt=null;if(Object.defineProperties(ut,{channelCount:{get:()=>at.channelCount,set:()=>{throw a()}},channelCountMode:{get:()=>"explicit",set:()=>{throw a()}},onprocessorerror:{get:()=>vt,set:ht=>{typeof vt=="function"&&ut.removeEventListener("processorerror",vt),vt=typeof ht=="function"?ht:null,typeof vt=="function"&&ut.addEventListener("processorerror",vt)}}}),ut.addEventListener=(ht=>(...yt)=>{if(yt[0]==="processorerror"){const bt=typeof yt[1]=="function"?yt[1]:typeof yt[1]=="object"&&yt[1]!==null&&typeof yt[1].handleEvent=="function"?yt[1].handleEvent:null;if(bt!==null){const dt=ct.get(yt[1]);dt!==void 0?yt[1]=dt:(yt[1]=xt=>{xt.type==="error"?(Object.defineProperties(xt,{type:{value:"processorerror"}}),bt(xt)):bt(new ErrorEvent(yt[0],{...xt}))},ct.set(bt,yt[1]))}}return ht.call(ut,"error",yt[1],yt[2]),ht.call(ut,...yt)})(ut.addEventListener),ut.removeEventListener=(ht=>(...yt)=>{if(yt[0]==="processorerror"){const bt=ct.get(yt[1]);bt!==void 0&&(ct.delete(yt[1]),yt[1]=bt)}return ht.call(ut,"error",yt[1],yt[2]),ht.call(ut,yt[0],yt[1],yt[2])})(ut.removeEventListener),at.numberOfOutputs!==0){const ht=$(et,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return ut.connect(ht).connect(et.destination),_e(ut,()=>ht.disconnect(),()=>ht.connect(et.destination))}return ut}catch(ut){throw ut.code===11?j():ut}if(st===void 0)throw j();return testClonabilityOfAudioWorkletNodeOptions(at),o(et,tt,st,at)},computeBufferSize=(a,o)=>a===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(a*o))))),cloneAudioWorkletNodeOptions=a=>new Promise((o,$)=>{const{port1:j,port2:_e}=new MessageChannel;j.onmessage=({data:et})=>{j.close(),_e.close(),o(et)},j.onmessageerror=({data:et})=>{j.close(),_e.close(),$(et)},_e.postMessage(a)}),createAudioWorkletProcessorPromise=async(a,o)=>{const $=await cloneAudioWorkletNodeOptions(o);return new a($)},createAudioWorkletProcessor=(a,o,$,j)=>{let _e=NODE_TO_PROCESSOR_MAPS.get(a);_e===void 0&&(_e=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(a,_e));const et=createAudioWorkletProcessorPromise($,j);return _e.set(o,et),et},createNativeAudioWorkletNodeFakerFactory=(a,o,$,j,_e,et,tt,rt,ot,st,at,ut,ct)=>(vt,ht,yt,bt)=>{if(bt.numberOfInputs===0&&bt.numberOfOutputs===0)throw ot();const dt=Array.isArray(bt.outputChannelCount)?bt.outputChannelCount:Array.from(bt.outputChannelCount);if(dt.some(en=>en<1))throw ot();if(dt.length!==bt.numberOfOutputs)throw o();if(bt.channelCountMode!=="explicit")throw ot();const xt=bt.channelCount*bt.numberOfInputs,Tt=dt.reduce((en,mn)=>en+mn,0),Ct=yt.parameterDescriptors===void 0?0:yt.parameterDescriptors.length;if(xt+Ct>6||Tt>6)throw ot();const Et=new MessageChannel,St=[],gt=[];for(let en=0;en<bt.numberOfInputs;en+=1)St.push(tt(vt,{channelCount:bt.channelCount,channelCountMode:bt.channelCountMode,channelInterpretation:bt.channelInterpretation,gain:1})),gt.push(_e(vt,{channelCount:bt.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:bt.channelCount}));const wt=[];if(yt.parameterDescriptors!==void 0)for(const{defaultValue:en,maxValue:mn,minValue:gn,name:Rn}of yt.parameterDescriptors){const In=et(vt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:bt.parameterData[Rn]!==void 0?bt.parameterData[Rn]:en===void 0?0:en});Object.defineProperties(In.offset,{defaultValue:{get:()=>en===void 0?0:en},maxValue:{get:()=>mn===void 0?MOST_POSITIVE_SINGLE_FLOAT:mn},minValue:{get:()=>gn===void 0?MOST_NEGATIVE_SINGLE_FLOAT:gn}}),wt.push(In)}const Mt=j(vt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,xt+Ct)}),Ot=computeBufferSize(ht,vt.sampleRate),Lt=rt(vt,Ot,xt+Ct,Math.max(1,Tt)),jt=_e(vt,{channelCount:Math.max(1,Tt),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Tt)}),Jt=[];for(let en=0;en<bt.numberOfOutputs;en+=1)Jt.push(j(vt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:dt[en]}));for(let en=0;en<bt.numberOfInputs;en+=1){St[en].connect(gt[en]);for(let mn=0;mn<bt.channelCount;mn+=1)gt[en].connect(Mt,mn,en*bt.channelCount+mn)}const qt=new ReadOnlyMap(yt.parameterDescriptors===void 0?[]:yt.parameterDescriptors.map(({name:en},mn)=>{const gn=wt[mn];return gn.connect(Mt,0,xt+mn),gn.start(0),[en,gn.offset]}));Mt.connect(Lt);let rn=bt.channelInterpretation,an=null;const pn=bt.numberOfOutputs===0?[Lt]:Jt,Kt={get bufferSize(){return Ot},get channelCount(){return bt.channelCount},set channelCount(en){throw $()},get channelCountMode(){return bt.channelCountMode},set channelCountMode(en){throw $()},get channelInterpretation(){return rn},set channelInterpretation(en){for(const mn of St)mn.channelInterpretation=en;rn=en},get context(){return Lt.context},get inputs(){return St},get numberOfInputs(){return bt.numberOfInputs},get numberOfOutputs(){return bt.numberOfOutputs},get onprocessorerror(){return an},set onprocessorerror(en){typeof an=="function"&&Kt.removeEventListener("processorerror",an),an=typeof en=="function"?en:null,typeof an=="function"&&Kt.addEventListener("processorerror",an)},get parameters(){return qt},get port(){return Et.port2},addEventListener(...en){return Lt.addEventListener(en[0],en[1],en[2])},connect:a.bind(null,pn),disconnect:st.bind(null,pn),dispatchEvent(...en){return Lt.dispatchEvent(en[0])},removeEventListener(...en){return Lt.removeEventListener(en[0],en[1],en[2])}},Qt=new Map;Et.port1.addEventListener=(en=>(...mn)=>{if(mn[0]==="message"){const gn=typeof mn[1]=="function"?mn[1]:typeof mn[1]=="object"&&mn[1]!==null&&typeof mn[1].handleEvent=="function"?mn[1].handleEvent:null;if(gn!==null){const Rn=Qt.get(mn[1]);Rn!==void 0?mn[1]=Rn:(mn[1]=In=>{at(vt.currentTime,vt.sampleRate,()=>gn(In))},Qt.set(gn,mn[1]))}}return en.call(Et.port1,mn[0],mn[1],mn[2])})(Et.port1.addEventListener),Et.port1.removeEventListener=(en=>(...mn)=>{if(mn[0]==="message"){const gn=Qt.get(mn[1]);gn!==void 0&&(Qt.delete(mn[1]),mn[1]=gn)}return en.call(Et.port1,mn[0],mn[1],mn[2])})(Et.port1.removeEventListener);let fn=null;Object.defineProperty(Et.port1,"onmessage",{get:()=>fn,set:en=>{typeof fn=="function"&&Et.port1.removeEventListener("message",fn),fn=typeof en=="function"?en:null,typeof fn=="function"&&(Et.port1.addEventListener("message",fn),Et.port1.start())}}),yt.prototype.port=Et.port1;let ln=null;createAudioWorkletProcessor(vt,Kt,yt,bt).then(en=>ln=en);const Cn=createNestedArrays(bt.numberOfInputs,bt.channelCount),kn=createNestedArrays(bt.numberOfOutputs,dt),_n=yt.parameterDescriptors===void 0?[]:yt.parameterDescriptors.reduce((en,{name:mn})=>({...en,[mn]:new Float32Array(128)}),{});let Ut=!0;const Vt=()=>{bt.numberOfOutputs>0&&Lt.disconnect(jt);for(let en=0,mn=0;en<bt.numberOfOutputs;en+=1){const gn=Jt[en];for(let Rn=0;Rn<dt[en];Rn+=1)jt.disconnect(gn,mn+Rn,Rn);mn+=dt[en]}},Ht=new Map;Lt.onaudioprocess=({inputBuffer:en,outputBuffer:mn})=>{if(ln!==null){const gn=ut(Kt);for(let Rn=0;Rn<Ot;Rn+=128){for(let In=0;In<bt.numberOfInputs;In+=1)for(let bn=0;bn<bt.channelCount;bn+=1)copyFromChannel(en,Cn[In],bn,bn,Rn);yt.parameterDescriptors!==void 0&&yt.parameterDescriptors.forEach(({name:In},bn)=>{copyFromChannel(en,_n,In,xt+bn,Rn)});for(let In=0;In<bt.numberOfInputs;In+=1)for(let bn=0;bn<dt[In];bn+=1)kn[In][bn].byteLength===0&&(kn[In][bn]=new Float32Array(128));try{const In=Cn.map((On,Gn)=>{if(gn[Gn].size>0)return Ht.set(Gn,Ot/128),On;const Xt=Ht.get(Gn);return Xt===void 0?[]:(On.every(nn=>nn.every(Tn=>Tn===0))&&(Xt===1?Ht.delete(Gn):Ht.set(Gn,Xt-1)),On)});Ut=at(vt.currentTime+Rn/vt.sampleRate,vt.sampleRate,()=>ln.process(In,kn,_n));for(let On=0,Gn=0;On<bt.numberOfOutputs;On+=1){for(let Jn=0;Jn<dt[On];Jn+=1)copyToChannel(mn,kn[On],Jn,Gn+Jn,Rn);Gn+=dt[On]}}catch(In){Ut=!1,Kt.dispatchEvent(new ErrorEvent("processorerror",{colno:In.colno,filename:In.filename,lineno:In.lineno,message:In.message}))}if(!Ut){for(let In=0;In<bt.numberOfInputs;In+=1){St[In].disconnect(gt[In]);for(let bn=0;bn<bt.channelCount;bn+=1)gt[Rn].disconnect(Mt,bn,In*bt.channelCount+bn)}if(yt.parameterDescriptors!==void 0){const In=yt.parameterDescriptors.length;for(let bn=0;bn<In;bn+=1){const On=wt[bn];On.disconnect(Mt,0,xt+bn),On.stop()}}Mt.disconnect(Lt),Lt.onaudioprocess=null,yn?Vt():$t();break}}}};let yn=!1;const En=tt(vt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Rt=()=>Lt.connect(En).connect(vt.destination),$t=()=>{Lt.disconnect(En),En.disconnect()},tn=()=>{if(Ut){$t(),bt.numberOfOutputs>0&&Lt.connect(jt);for(let en=0,mn=0;en<bt.numberOfOutputs;en+=1){const gn=Jt[en];for(let Rn=0;Rn<dt[en];Rn+=1)jt.connect(gn,mn+Rn,Rn);mn+=dt[en]}}yn=!0},dn=()=>{Ut&&(Rt(),Vt()),yn=!1};return Rt(),ct(Kt,tn,dn)},createNativeBiquadFilterNode=(a,o)=>{const $=a.createBiquadFilter();return assignNativeAudioNodeOptions($,o),assignNativeAudioNodeAudioParamValue($,o,"Q"),assignNativeAudioNodeAudioParamValue($,o,"detune"),assignNativeAudioNodeAudioParamValue($,o,"frequency"),assignNativeAudioNodeAudioParamValue($,o,"gain"),assignNativeAudioNodeOption($,o,"type"),$},createNativeChannelMergerNodeFactory=(a,o)=>($,j)=>{const _e=$.createChannelMerger(j.numberOfInputs);return a!==null&&a.name==="webkitAudioContext"&&o($,_e),assignNativeAudioNodeOptions(_e,j),_e},wrapChannelSplitterNode=a=>{const o=a.numberOfOutputs;Object.defineProperty(a,"channelCount",{get:()=>o,set:$=>{if($!==o)throw createInvalidStateError()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:$=>{if($!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(a,"channelInterpretation",{get:()=>"discrete",set:$=>{if($!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(a,o)=>{const $=a.createChannelSplitter(o.numberOfOutputs);return assignNativeAudioNodeOptions($,o),wrapChannelSplitterNode($),$},createNativeConstantSourceNodeFactory=(a,o,$,j,_e)=>(et,tt)=>{if(et.createConstantSource===void 0)return $(et,tt);const rt=et.createConstantSource();return assignNativeAudioNodeOptions(rt,tt),assignNativeAudioNodeAudioParamValue(rt,tt,"offset"),o(j,()=>j(et))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(rt),o(_e,()=>_e(et))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(rt),a(et,rt),rt},interceptConnections=(a,o)=>(a.connect=o.connect.bind(o),a.disconnect=o.disconnect.bind(o),a),createNativeConstantSourceNodeFakerFactory=(a,o,$,j)=>(_e,{offset:et,...tt})=>{const rt=_e.createBuffer(1,2,44100),ot=o(_e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),st=$(_e,{...tt,gain:et}),at=rt.getChannelData(0);at[0]=1,at[1]=1,ot.buffer=rt,ot.loop=!0;const ut={get bufferSize(){},get channelCount(){return st.channelCount},set channelCount(ht){st.channelCount=ht},get channelCountMode(){return st.channelCountMode},set channelCountMode(ht){st.channelCountMode=ht},get channelInterpretation(){return st.channelInterpretation},set channelInterpretation(ht){st.channelInterpretation=ht},get context(){return st.context},get inputs(){return[]},get numberOfInputs(){return ot.numberOfInputs},get numberOfOutputs(){return st.numberOfOutputs},get offset(){return st.gain},get onended(){return ot.onended},set onended(ht){ot.onended=ht},addEventListener(...ht){return ot.addEventListener(ht[0],ht[1],ht[2])},dispatchEvent(...ht){return ot.dispatchEvent(ht[0])},removeEventListener(...ht){return ot.removeEventListener(ht[0],ht[1],ht[2])},start(ht=0){ot.start.call(ot,ht)},stop(ht=0){ot.stop.call(ot,ht)}},ct=()=>ot.connect(st),vt=()=>ot.disconnect(st);return a(_e,ot),j(interceptConnections(ut,st),ct,vt)},createNativeConvolverNodeFactory=(a,o)=>($,j)=>{const _e=$.createConvolver();if(assignNativeAudioNodeOptions(_e,j),j.disableNormalization===_e.normalize&&(_e.normalize=!j.disableNormalization),assignNativeAudioNodeOption(_e,j,"buffer"),j.channelCount>2||(o(_e,"channelCount",et=>()=>et.call(_e),et=>tt=>{if(tt>2)throw a();return et.call(_e,tt)}),j.channelCountMode==="max"))throw a();return o(_e,"channelCountMode",et=>()=>et.call(_e),et=>tt=>{if(tt==="max")throw a();return et.call(_e,tt)}),_e},createNativeDelayNode=(a,o)=>{const $=a.createDelay(o.maxDelayTime);return assignNativeAudioNodeOptions($,o),assignNativeAudioNodeAudioParamValue($,o,"delayTime"),$},createNativeDynamicsCompressorNodeFactory=a=>(o,$)=>{const j=o.createDynamicsCompressor();if(assignNativeAudioNodeOptions(j,$),$.channelCount>2||$.channelCountMode==="max")throw a();return assignNativeAudioNodeAudioParamValue(j,$,"attack"),assignNativeAudioNodeAudioParamValue(j,$,"knee"),assignNativeAudioNodeAudioParamValue(j,$,"ratio"),assignNativeAudioNodeAudioParamValue(j,$,"release"),assignNativeAudioNodeAudioParamValue(j,$,"threshold"),j},createNativeGainNode=(a,o)=>{const $=a.createGain();return assignNativeAudioNodeOptions($,o),assignNativeAudioNodeAudioParamValue($,o,"gain"),$},createNativeIIRFilterNodeFactory=a=>(o,$,j)=>{if(o.createIIRFilter===void 0)return a(o,$,j);const _e=o.createIIRFilter(j.feedforward,j.feedback);return assignNativeAudioNodeOptions(_e,j),_e};function divide(a,o){const $=o[0]*o[0]+o[1]*o[1];return[(a[0]*o[0]+a[1]*o[1])/$,(a[1]*o[0]-a[0]*o[1])/$]}function multiply(a,o){return[a[0]*o[0]-a[1]*o[1],a[0]*o[1]+a[1]*o[0]]}function evaluatePolynomial(a,o){let $=[0,0];for(let j=a.length-1;j>=0;j-=1)$=multiply($,o),$[0]+=a[j];return $}const createNativeIIRFilterNodeFakerFactory=(a,o,$,j)=>(_e,et,{channelCount:tt,channelCountMode:rt,channelInterpretation:ot,feedback:st,feedforward:at})=>{const ut=computeBufferSize(et,_e.sampleRate),ct=st instanceof Float64Array?st:new Float64Array(st),vt=at instanceof Float64Array?at:new Float64Array(at),ht=ct.length,yt=vt.length,bt=Math.min(ht,yt);if(ht===0||ht>20)throw j();if(ct[0]===0)throw o();if(yt===0||yt>20)throw j();if(vt[0]===0)throw o();if(ct[0]!==1){for(let wt=0;wt<yt;wt+=1)vt[wt]/=ct[0];for(let wt=1;wt<ht;wt+=1)ct[wt]/=ct[0]}const dt=$(_e,ut,tt,tt);dt.channelCount=tt,dt.channelCountMode=rt,dt.channelInterpretation=ot;const xt=32,Tt=[],Ct=[],Et=[];for(let wt=0;wt<tt;wt+=1){Tt.push(0);const Mt=new Float32Array(xt),Ot=new Float32Array(xt);Mt.fill(0),Ot.fill(0),Ct.push(Mt),Et.push(Ot)}dt.onaudioprocess=wt=>{const Mt=wt.inputBuffer,Ot=wt.outputBuffer,Lt=Mt.numberOfChannels;for(let jt=0;jt<Lt;jt+=1){const Jt=Mt.getChannelData(jt),qt=Ot.getChannelData(jt);Tt[jt]=filterBuffer(ct,ht,vt,yt,bt,Ct[jt],Et[jt],Tt[jt],xt,Jt,qt)}};const St=_e.sampleRate/2;return interceptConnections({get bufferSize(){return ut},get channelCount(){return dt.channelCount},set channelCount(wt){dt.channelCount=wt},get channelCountMode(){return dt.channelCountMode},set channelCountMode(wt){dt.channelCountMode=wt},get channelInterpretation(){return dt.channelInterpretation},set channelInterpretation(wt){dt.channelInterpretation=wt},get context(){return dt.context},get inputs(){return[dt]},get numberOfInputs(){return dt.numberOfInputs},get numberOfOutputs(){return dt.numberOfOutputs},addEventListener(...wt){return dt.addEventListener(wt[0],wt[1],wt[2])},dispatchEvent(...wt){return dt.dispatchEvent(wt[0])},getFrequencyResponse(wt,Mt,Ot){if(wt.length!==Mt.length||Mt.length!==Ot.length)throw a();const Lt=wt.length;for(let jt=0;jt<Lt;jt+=1){const Jt=-Math.PI*(wt[jt]/St),qt=[Math.cos(Jt),Math.sin(Jt)],rn=evaluatePolynomial(vt,qt),an=evaluatePolynomial(ct,qt),pn=divide(rn,an);Mt[jt]=Math.sqrt(pn[0]*pn[0]+pn[1]*pn[1]),Ot[jt]=Math.atan2(pn[1],pn[0])}},removeEventListener(...wt){return dt.removeEventListener(wt[0],wt[1],wt[2])}},dt)},createNativeMediaElementAudioSourceNode=(a,o)=>a.createMediaElementSource(o.mediaElement),createNativeMediaStreamAudioDestinationNode=(a,o)=>{const $=a.createMediaStreamDestination();return assignNativeAudioNodeOptions($,o),$.numberOfOutputs===1&&Object.defineProperty($,"numberOfOutputs",{get:()=>0}),$},createNativeMediaStreamAudioSourceNode=(a,{mediaStream:o})=>{const $=o.getAudioTracks();$.sort((et,tt)=>et.id<tt.id?-1:et.id>tt.id?1:0);const j=$.slice(0,1),_e=a.createMediaStreamSource(new MediaStream(j));return Object.defineProperty(_e,"mediaStream",{value:o}),_e},createNativeMediaStreamTrackAudioSourceNodeFactory=(a,o)=>($,{mediaStreamTrack:j})=>{if(typeof $.createMediaStreamTrackSource=="function")return $.createMediaStreamTrackSource(j);const _e=new MediaStream([j]),et=$.createMediaStreamSource(_e);if(j.kind!=="audio")throw a();if(o($))throw new TypeError;return et},createNativeOfflineAudioContextConstructor=a=>a===null?null:a.hasOwnProperty("OfflineAudioContext")?a.OfflineAudioContext:a.hasOwnProperty("webkitOfflineAudioContext")?a.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(a,o,$,j,_e,et)=>(tt,rt)=>{const ot=tt.createOscillator();return assignNativeAudioNodeOptions(ot,rt),assignNativeAudioNodeAudioParamValue(ot,rt,"detune"),assignNativeAudioNodeAudioParamValue(ot,rt,"frequency"),rt.periodicWave!==void 0?ot.setPeriodicWave(rt.periodicWave):assignNativeAudioNodeOption(ot,rt,"type"),o($,()=>$(tt))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(ot),o(j,()=>j(tt))||et(ot,tt),o(_e,()=>_e(tt))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(ot),a(tt,ot),ot},createNativePannerNodeFactory=a=>(o,$)=>{const j=o.createPanner();return j.orientationX===void 0?a(o,$):(assignNativeAudioNodeOptions(j,$),assignNativeAudioNodeAudioParamValue(j,$,"orientationX"),assignNativeAudioNodeAudioParamValue(j,$,"orientationY"),assignNativeAudioNodeAudioParamValue(j,$,"orientationZ"),assignNativeAudioNodeAudioParamValue(j,$,"positionX"),assignNativeAudioNodeAudioParamValue(j,$,"positionY"),assignNativeAudioNodeAudioParamValue(j,$,"positionZ"),assignNativeAudioNodeOption(j,$,"coneInnerAngle"),assignNativeAudioNodeOption(j,$,"coneOuterAngle"),assignNativeAudioNodeOption(j,$,"coneOuterGain"),assignNativeAudioNodeOption(j,$,"distanceModel"),assignNativeAudioNodeOption(j,$,"maxDistance"),assignNativeAudioNodeOption(j,$,"panningModel"),assignNativeAudioNodeOption(j,$,"refDistance"),assignNativeAudioNodeOption(j,$,"rolloffFactor"),j)},createNativePannerNodeFakerFactory=(a,o,$,j,_e,et,tt,rt,ot,st)=>(at,{coneInnerAngle:ut,coneOuterAngle:ct,coneOuterGain:vt,distanceModel:ht,maxDistance:yt,orientationX:bt,orientationY:dt,orientationZ:xt,panningModel:Tt,positionX:Ct,positionY:Et,positionZ:St,refDistance:gt,rolloffFactor:wt,...Mt})=>{const Ot=at.createPanner();if(Mt.channelCount>2||Mt.channelCountMode==="max")throw tt();assignNativeAudioNodeOptions(Ot,Mt);const Lt={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},jt=$(at,{...Lt,channelInterpretation:"speakers",numberOfInputs:6}),Jt=j(at,{...Mt,gain:1}),qt=j(at,{...Lt,gain:1}),rn=j(at,{...Lt,gain:0}),an=j(at,{...Lt,gain:0}),pn=j(at,{...Lt,gain:0}),Kt=j(at,{...Lt,gain:0}),Qt=j(at,{...Lt,gain:0}),fn=_e(at,256,6,1),ln=et(at,{...Lt,curve:new Float32Array([1,1]),oversample:"none"});let vn=[bt,dt,xt],Cn=[Ct,Et,St];const kn=new Float32Array(1);fn.onaudioprocess=({inputBuffer:Ht})=>{const yn=[ot(Ht,kn,0),ot(Ht,kn,1),ot(Ht,kn,2)];yn.some((Rt,$t)=>Rt!==vn[$t])&&(Ot.setOrientation(...yn),vn=yn);const En=[ot(Ht,kn,3),ot(Ht,kn,4),ot(Ht,kn,5)];En.some((Rt,$t)=>Rt!==Cn[$t])&&(Ot.setPosition(...En),Cn=En)},Object.defineProperty(rn.gain,"defaultValue",{get:()=>0}),Object.defineProperty(an.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pn.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Kt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Qt.gain,"defaultValue",{get:()=>0});const _n={get bufferSize(){},get channelCount(){return Ot.channelCount},set channelCount(Ht){if(Ht>2)throw tt();Jt.channelCount=Ht,Ot.channelCount=Ht},get channelCountMode(){return Ot.channelCountMode},set channelCountMode(Ht){if(Ht==="max")throw tt();Jt.channelCountMode=Ht,Ot.channelCountMode=Ht},get channelInterpretation(){return Ot.channelInterpretation},set channelInterpretation(Ht){Jt.channelInterpretation=Ht,Ot.channelInterpretation=Ht},get coneInnerAngle(){return Ot.coneInnerAngle},set coneInnerAngle(Ht){Ot.coneInnerAngle=Ht},get coneOuterAngle(){return Ot.coneOuterAngle},set coneOuterAngle(Ht){Ot.coneOuterAngle=Ht},get coneOuterGain(){return Ot.coneOuterGain},set coneOuterGain(Ht){if(Ht<0||Ht>1)throw o();Ot.coneOuterGain=Ht},get context(){return Ot.context},get distanceModel(){return Ot.distanceModel},set distanceModel(Ht){Ot.distanceModel=Ht},get inputs(){return[Jt]},get maxDistance(){return Ot.maxDistance},set maxDistance(Ht){if(Ht<0)throw new RangeError;Ot.maxDistance=Ht},get numberOfInputs(){return Ot.numberOfInputs},get numberOfOutputs(){return Ot.numberOfOutputs},get orientationX(){return qt.gain},get orientationY(){return rn.gain},get orientationZ(){return an.gain},get panningModel(){return Ot.panningModel},set panningModel(Ht){Ot.panningModel=Ht},get positionX(){return pn.gain},get positionY(){return Kt.gain},get positionZ(){return Qt.gain},get refDistance(){return Ot.refDistance},set refDistance(Ht){if(Ht<0)throw new RangeError;Ot.refDistance=Ht},get rolloffFactor(){return Ot.rolloffFactor},set rolloffFactor(Ht){if(Ht<0)throw new RangeError;Ot.rolloffFactor=Ht},addEventListener(...Ht){return Jt.addEventListener(Ht[0],Ht[1],Ht[2])},dispatchEvent(...Ht){return Jt.dispatchEvent(Ht[0])},removeEventListener(...Ht){return Jt.removeEventListener(Ht[0],Ht[1],Ht[2])}};ut!==_n.coneInnerAngle&&(_n.coneInnerAngle=ut),ct!==_n.coneOuterAngle&&(_n.coneOuterAngle=ct),vt!==_n.coneOuterGain&&(_n.coneOuterGain=vt),ht!==_n.distanceModel&&(_n.distanceModel=ht),yt!==_n.maxDistance&&(_n.maxDistance=yt),bt!==_n.orientationX.value&&(_n.orientationX.value=bt),dt!==_n.orientationY.value&&(_n.orientationY.value=dt),xt!==_n.orientationZ.value&&(_n.orientationZ.value=xt),Tt!==_n.panningModel&&(_n.panningModel=Tt),Ct!==_n.positionX.value&&(_n.positionX.value=Ct),Et!==_n.positionY.value&&(_n.positionY.value=Et),St!==_n.positionZ.value&&(_n.positionZ.value=St),gt!==_n.refDistance&&(_n.refDistance=gt),wt!==_n.rolloffFactor&&(_n.rolloffFactor=wt),(vn[0]!==1||vn[1]!==0||vn[2]!==0)&&Ot.setOrientation(...vn),(Cn[0]!==0||Cn[1]!==0||Cn[2]!==0)&&Ot.setPosition(...Cn);const Ut=()=>{Jt.connect(Ot),a(Jt,ln,0,0),ln.connect(qt).connect(jt,0,0),ln.connect(rn).connect(jt,0,1),ln.connect(an).connect(jt,0,2),ln.connect(pn).connect(jt,0,3),ln.connect(Kt).connect(jt,0,4),ln.connect(Qt).connect(jt,0,5),jt.connect(fn).connect(at.destination)},Vt=()=>{Jt.disconnect(Ot),rt(Jt,ln,0,0),ln.disconnect(qt),qt.disconnect(jt),ln.disconnect(rn),rn.disconnect(jt),ln.disconnect(an),an.disconnect(jt),ln.disconnect(pn),pn.disconnect(jt),ln.disconnect(Kt),Kt.disconnect(jt),ln.disconnect(Qt),Qt.disconnect(jt),jt.disconnect(fn),fn.disconnect(at.destination)};return st(interceptConnections(_n,Ot),Ut,Vt)},createNativePeriodicWaveFactory=a=>(o,{disableNormalization:$,imag:j,real:_e})=>{const et=j instanceof Float32Array?j:new Float32Array(j),tt=_e instanceof Float32Array?_e:new Float32Array(_e),rt=o.createPeriodicWave(tt,et,{disableNormalization:$});if(Array.from(j).length<2)throw a();return rt},createNativeScriptProcessorNode=(a,o,$,j)=>a.createScriptProcessor(o,$,j),createNativeStereoPannerNodeFactory=(a,o)=>($,j)=>{const _e=j.channelCountMode;if(_e==="clamped-max")throw o();if($.createStereoPanner===void 0)return a($,j);const et=$.createStereoPanner();return assignNativeAudioNodeOptions(et,j),assignNativeAudioNodeAudioParamValue(et,j,"pan"),Object.defineProperty(et,"channelCountMode",{get:()=>_e,set:tt=>{if(tt!==_e)throw o()}}),et},createNativeStereoPannerNodeFakerFactory=(a,o,$,j,_e,et)=>{const rt=new Float32Array([1,1]),ot=Math.PI/2,st={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},at={...st,oversample:"none"},ut=(ht,yt,bt,dt)=>{const xt=new Float32Array(16385),Tt=new Float32Array(16385);for(let Mt=0;Mt<16385;Mt+=1){const Ot=Mt/16384*ot;xt[Mt]=Math.cos(Ot),Tt[Mt]=Math.sin(Ot)}const Ct=$(ht,{...st,gain:0}),Et=j(ht,{...at,curve:xt}),St=j(ht,{...at,curve:rt}),gt=$(ht,{...st,gain:0}),wt=j(ht,{...at,curve:Tt});return{connectGraph(){yt.connect(Ct),yt.connect(St.inputs===void 0?St:St.inputs[0]),yt.connect(gt),St.connect(bt),bt.connect(Et.inputs===void 0?Et:Et.inputs[0]),bt.connect(wt.inputs===void 0?wt:wt.inputs[0]),Et.connect(Ct.gain),wt.connect(gt.gain),Ct.connect(dt,0,0),gt.connect(dt,0,1)},disconnectGraph(){yt.disconnect(Ct),yt.disconnect(St.inputs===void 0?St:St.inputs[0]),yt.disconnect(gt),St.disconnect(bt),bt.disconnect(Et.inputs===void 0?Et:Et.inputs[0]),bt.disconnect(wt.inputs===void 0?wt:wt.inputs[0]),Et.disconnect(Ct.gain),wt.disconnect(gt.gain),Ct.disconnect(dt,0,0),gt.disconnect(dt,0,1)}}},ct=(ht,yt,bt,dt)=>{const xt=new Float32Array(16385),Tt=new Float32Array(16385),Ct=new Float32Array(16385),Et=new Float32Array(16385),St=Math.floor(16385/2);for(let pn=0;pn<16385;pn+=1)if(pn>St){const Kt=(pn-St)/(16384-St)*ot;xt[pn]=Math.cos(Kt),Tt[pn]=Math.sin(Kt),Ct[pn]=0,Et[pn]=1}else{const Kt=pn/(16384-St)*ot;xt[pn]=1,Tt[pn]=0,Ct[pn]=Math.cos(Kt),Et[pn]=Math.sin(Kt)}const gt=o(ht,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),wt=$(ht,{...st,gain:0}),Mt=j(ht,{...at,curve:xt}),Ot=$(ht,{...st,gain:0}),Lt=j(ht,{...at,curve:Tt}),jt=j(ht,{...at,curve:rt}),Jt=$(ht,{...st,gain:0}),qt=j(ht,{...at,curve:Ct}),rn=$(ht,{...st,gain:0}),an=j(ht,{...at,curve:Et});return{connectGraph(){yt.connect(gt),yt.connect(jt.inputs===void 0?jt:jt.inputs[0]),gt.connect(wt,0),gt.connect(Ot,0),gt.connect(Jt,1),gt.connect(rn,1),jt.connect(bt),bt.connect(Mt.inputs===void 0?Mt:Mt.inputs[0]),bt.connect(Lt.inputs===void 0?Lt:Lt.inputs[0]),bt.connect(qt.inputs===void 0?qt:qt.inputs[0]),bt.connect(an.inputs===void 0?an:an.inputs[0]),Mt.connect(wt.gain),Lt.connect(Ot.gain),qt.connect(Jt.gain),an.connect(rn.gain),wt.connect(dt,0,0),Jt.connect(dt,0,0),Ot.connect(dt,0,1),rn.connect(dt,0,1)},disconnectGraph(){yt.disconnect(gt),yt.disconnect(jt.inputs===void 0?jt:jt.inputs[0]),gt.disconnect(wt,0),gt.disconnect(Ot,0),gt.disconnect(Jt,1),gt.disconnect(rn,1),jt.disconnect(bt),bt.disconnect(Mt.inputs===void 0?Mt:Mt.inputs[0]),bt.disconnect(Lt.inputs===void 0?Lt:Lt.inputs[0]),bt.disconnect(qt.inputs===void 0?qt:qt.inputs[0]),bt.disconnect(an.inputs===void 0?an:an.inputs[0]),Mt.disconnect(wt.gain),Lt.disconnect(Ot.gain),qt.disconnect(Jt.gain),an.disconnect(rn.gain),wt.disconnect(dt,0,0),Jt.disconnect(dt,0,0),Ot.disconnect(dt,0,1),rn.disconnect(dt,0,1)}}},vt=(ht,yt,bt,dt,xt)=>{if(yt===1)return ut(ht,bt,dt,xt);if(yt===2)return ct(ht,bt,dt,xt);throw _e()};return(ht,{channelCount:yt,channelCountMode:bt,pan:dt,...xt})=>{if(bt==="max")throw _e();const Tt=a(ht,{...xt,channelCount:1,channelCountMode:bt,numberOfInputs:2}),Ct=$(ht,{...xt,channelCount:yt,channelCountMode:bt,gain:1}),Et=$(ht,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:dt});let{connectGraph:St,disconnectGraph:gt}=vt(ht,yt,Ct,Et,Tt);Object.defineProperty(Et.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Et.gain,"maxValue",{get:()=>1}),Object.defineProperty(Et.gain,"minValue",{get:()=>-1});const wt={get bufferSize(){},get channelCount(){return Ct.channelCount},set channelCount(jt){Ct.channelCount!==jt&&(Mt&&gt(),{connectGraph:St,disconnectGraph:gt}=vt(ht,jt,Ct,Et,Tt),Mt&&St()),Ct.channelCount=jt},get channelCountMode(){return Ct.channelCountMode},set channelCountMode(jt){if(jt==="clamped-max"||jt==="max")throw _e();Ct.channelCountMode=jt},get channelInterpretation(){return Ct.channelInterpretation},set channelInterpretation(jt){Ct.channelInterpretation=jt},get context(){return Ct.context},get inputs(){return[Ct]},get numberOfInputs(){return Ct.numberOfInputs},get numberOfOutputs(){return Ct.numberOfOutputs},get pan(){return Et.gain},addEventListener(...jt){return Ct.addEventListener(jt[0],jt[1],jt[2])},dispatchEvent(...jt){return Ct.dispatchEvent(jt[0])},removeEventListener(...jt){return Ct.removeEventListener(jt[0],jt[1],jt[2])}};let Mt=!1;const Ot=()=>{St(),Mt=!0},Lt=()=>{gt(),Mt=!1};return et(interceptConnections(wt,Tt),Ot,Lt)}},createNativeWaveShaperNodeFactory=(a,o,$,j,_e,et,tt)=>(rt,ot)=>{const st=rt.createWaveShaper();if(et!==null&&et.name==="webkitAudioContext"&&rt.createGain().gain.automationRate===void 0)return $(rt,ot);assignNativeAudioNodeOptions(st,ot);const at=ot.curve===null||ot.curve instanceof Float32Array?ot.curve:new Float32Array(ot.curve);if(at!==null&&at.length<2)throw o();assignNativeAudioNodeOption(st,{curve:at},"curve"),assignNativeAudioNodeOption(st,ot,"oversample");let ut=null,ct=!1;return tt(st,"curve",yt=>()=>yt.call(st),yt=>bt=>(yt.call(st,bt),ct&&(j(bt)&&ut===null?ut=a(rt,st):!j(bt)&&ut!==null&&(ut(),ut=null)),bt)),_e(st,()=>{ct=!0,j(st.curve)&&(ut=a(rt,st))},()=>{ct=!1,ut!==null&&(ut(),ut=null)})},createNativeWaveShaperNodeFakerFactory=(a,o,$,j,_e)=>(et,{curve:tt,oversample:rt,...ot})=>{const st=et.createWaveShaper(),at=et.createWaveShaper();assignNativeAudioNodeOptions(st,ot),assignNativeAudioNodeOptions(at,ot);const ut=$(et,{...ot,gain:1}),ct=$(et,{...ot,gain:-1}),vt=$(et,{...ot,gain:1}),ht=$(et,{...ot,gain:-1});let yt=null,bt=!1,dt=null;const xt={get bufferSize(){},get channelCount(){return st.channelCount},set channelCount(Et){ut.channelCount=Et,ct.channelCount=Et,st.channelCount=Et,vt.channelCount=Et,at.channelCount=Et,ht.channelCount=Et},get channelCountMode(){return st.channelCountMode},set channelCountMode(Et){ut.channelCountMode=Et,ct.channelCountMode=Et,st.channelCountMode=Et,vt.channelCountMode=Et,at.channelCountMode=Et,ht.channelCountMode=Et},get channelInterpretation(){return st.channelInterpretation},set channelInterpretation(Et){ut.channelInterpretation=Et,ct.channelInterpretation=Et,st.channelInterpretation=Et,vt.channelInterpretation=Et,at.channelInterpretation=Et,ht.channelInterpretation=Et},get context(){return st.context},get curve(){return dt},set curve(Et){if(Et!==null&&Et.length<2)throw o();if(Et===null)st.curve=Et,at.curve=Et;else{const St=Et.length,gt=new Float32Array(St+2-St%2),wt=new Float32Array(St+2-St%2);gt[0]=Et[0],wt[0]=-Et[St-1];const Mt=Math.ceil((St+1)/2),Ot=(St+1)/2-1;for(let Lt=1;Lt<Mt;Lt+=1){const jt=Lt/Mt*Ot,Jt=Math.floor(jt),qt=Math.ceil(jt);gt[Lt]=Jt===qt?Et[Jt]:(1-(jt-Jt))*Et[Jt]+(1-(qt-jt))*Et[qt],wt[Lt]=Jt===qt?-Et[St-1-Jt]:-((1-(jt-Jt))*Et[St-1-Jt])-(1-(qt-jt))*Et[St-1-qt]}gt[Mt]=St%2===1?Et[Mt-1]:(Et[Mt-2]+Et[Mt-1])/2,st.curve=gt,at.curve=wt}dt=Et,bt&&(j(dt)&&yt===null?yt=a(et,ut):yt!==null&&(yt(),yt=null))},get inputs(){return[ut]},get numberOfInputs(){return st.numberOfInputs},get numberOfOutputs(){return st.numberOfOutputs},get oversample(){return st.oversample},set oversample(Et){st.oversample=Et,at.oversample=Et},addEventListener(...Et){return ut.addEventListener(Et[0],Et[1],Et[2])},dispatchEvent(...Et){return ut.dispatchEvent(Et[0])},removeEventListener(...Et){return ut.removeEventListener(Et[0],Et[1],Et[2])}};tt!==null&&(xt.curve=tt instanceof Float32Array?tt:new Float32Array(tt)),rt!==xt.oversample&&(xt.oversample=rt);const Tt=()=>{ut.connect(st).connect(vt),ut.connect(ct).connect(at).connect(ht).connect(vt),bt=!0,j(dt)&&(yt=a(et,ut))},Ct=()=>{ut.disconnect(st),st.disconnect(vt),ut.disconnect(ct),ct.disconnect(at),at.disconnect(ht),ht.disconnect(vt),bt=!1,yt!==null&&(yt(),yt=null)};return _e(interceptConnections(xt,vt),Tt,Ct)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$5={numberOfChannels:1},createOfflineAudioContextConstructor=(a,o,$,j,_e)=>class extends a{constructor(tt,rt,ot){let st;if(typeof tt=="number"&&rt!==void 0&&ot!==void 0)st={length:rt,numberOfChannels:tt,sampleRate:ot};else if(typeof tt=="object")st=tt;else throw new Error("The given parameters are not valid.");const{length:at,numberOfChannels:ut,sampleRate:ct}={...DEFAULT_OPTIONS$5,...st},vt=j(ut,at,ct);o(testPromiseSupport,()=>testPromiseSupport(vt))||vt.addEventListener("statechange",(()=>{let ht=0;const yt=bt=>{this._state==="running"&&(ht>0?(vt.removeEventListener("statechange",yt),bt.stopImmediatePropagation(),this._waitForThePromiseToSettle(bt)):ht+=1)};return yt})()),super(vt,ut),this._length=at,this._nativeOfflineAudioContext=vt,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject($()):(this._state="running",_e(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,deactivateAudioGraph(this)}))}_waitForThePromiseToSettle(tt){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(tt):setTimeout(()=>this._waitForThePromiseToSettle(tt))}},DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(a,o,$,j,_e,et,tt)=>class extends a{constructor(ot,st){const at=_e(ot),ut={...DEFAULT_OPTIONS$4,...st},ct=$(at,ut),vt=et(at),ht=vt?j():null,yt=ot.sampleRate/2;super(ot,!1,ct,ht),this._detune=o(this,vt,ct.detune,153600,-153600),this._frequency=o(this,vt,ct.frequency,yt,-yt),this._nativeOscillatorNode=ct,this._onended=null,this._oscillatorNodeRenderer=ht,this._oscillatorNodeRenderer!==null&&ut.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=ut.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(ot){const st=typeof ot=="function"?tt(this,ot):null;this._nativeOscillatorNode.onended=st;const at=this._nativeOscillatorNode.onended;this._onended=at!==null&&at===st?ot:at}get type(){return this._nativeOscillatorNode.type}set type(ot){this._nativeOscillatorNode.type=ot,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(ot){this._nativeOscillatorNode.setPeriodicWave(ot),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=ot)}start(ot=0){if(this._nativeOscillatorNode.start(ot),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=ot),this.context.state!=="closed"){setInternalStateToActive(this);const st=()=>{this._nativeOscillatorNode.removeEventListener("ended",st),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",st)}}stop(ot=0){this._nativeOscillatorNode.stop(ot),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=ot)}},createOscillatorNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap;let tt=null,rt=null,ot=null;const st=async(at,ut)=>{let ct=$(at);const vt=isOwnedByContext(ct,ut);if(!vt){const ht={channelCount:ct.channelCount,channelCountMode:ct.channelCountMode,channelInterpretation:ct.channelInterpretation,detune:ct.detune.value,frequency:ct.frequency.value,periodicWave:tt===null?void 0:tt,type:ct.type};ct=o(ut,ht),rt!==null&&ct.start(rt),ot!==null&&ct.stop(ot)}return et.set(ut,ct),vt?(await a(ut,at.detune,ct.detune),await a(ut,at.frequency,ct.frequency)):(await j(ut,at.detune,ct.detune),await j(ut,at.frequency,ct.frequency)),await _e(at,ut,ct),ct};return{set periodicWave(at){tt=at},set start(at){rt=at},set stop(at){ot=at},render(at,ut){const ct=et.get(ut);return ct!==void 0?Promise.resolve(ct):st(at,ut)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(a,o,$,j,_e,et,tt)=>class extends a{constructor(ot,st){const at=_e(ot),ut={...DEFAULT_OPTIONS$3,...st},ct=$(at,ut),vt=et(at),ht=vt?j():null;super(ot,!1,ct,ht),this._nativePannerNode=ct,this._orientationX=o(this,vt,ct.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=o(this,vt,ct.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=o(this,vt,ct.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=o(this,vt,ct.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=o(this,vt,ct.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=o(this,vt,ct.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),tt(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(ot){this._nativePannerNode.coneInnerAngle=ot}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(ot){this._nativePannerNode.coneOuterAngle=ot}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(ot){this._nativePannerNode.coneOuterGain=ot}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(ot){this._nativePannerNode.distanceModel=ot}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(ot){this._nativePannerNode.maxDistance=ot}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(ot){this._nativePannerNode.panningModel=ot}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(ot){this._nativePannerNode.refDistance=ot}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(ot){this._nativePannerNode.rolloffFactor=ot}},createPannerNodeRendererFactory=(a,o,$,j,_e,et,tt,rt,ot,st)=>()=>{const at=new WeakMap;let ut=null;const ct=async(vt,ht)=>{let yt=null,bt=et(vt);const dt={channelCount:bt.channelCount,channelCountMode:bt.channelCountMode,channelInterpretation:bt.channelInterpretation},xt={...dt,coneInnerAngle:bt.coneInnerAngle,coneOuterAngle:bt.coneOuterAngle,coneOuterGain:bt.coneOuterGain,distanceModel:bt.distanceModel,maxDistance:bt.maxDistance,panningModel:bt.panningModel,refDistance:bt.refDistance,rolloffFactor:bt.rolloffFactor},Tt=isOwnedByContext(bt,ht);if("bufferSize"in bt)yt=j(ht,{...dt,gain:1});else if(!Tt){const Ct={...xt,orientationX:bt.orientationX.value,orientationY:bt.orientationY.value,orientationZ:bt.orientationZ.value,positionX:bt.positionX.value,positionY:bt.positionY.value,positionZ:bt.positionZ.value};bt=_e(ht,Ct)}if(at.set(ht,yt===null?bt:yt),yt!==null){if(ut===null){if(tt===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Lt=new tt(6,vt.context.length,ht.sampleRate),jt=o(Lt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});jt.connect(Lt.destination),ut=(async()=>{const Jt=await Promise.all([vt.orientationX,vt.orientationY,vt.orientationZ,vt.positionX,vt.positionY,vt.positionZ].map(async(qt,rn)=>{const an=$(Lt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:rn===0?1:0});return await rt(Lt,qt,an.offset),an}));for(let qt=0;qt<6;qt+=1)Jt[qt].connect(jt,0,qt),Jt[qt].start(0);return st(Lt)})()}const Ct=await ut,Et=j(ht,{...dt,gain:1});await ot(vt,ht,Et);const St=[];for(let Lt=0;Lt<Ct.numberOfChannels;Lt+=1)St.push(Ct.getChannelData(Lt));let gt=[St[0][0],St[1][0],St[2][0]],wt=[St[3][0],St[4][0],St[5][0]],Mt=j(ht,{...dt,gain:1}),Ot=_e(ht,{...xt,orientationX:gt[0],orientationY:gt[1],orientationZ:gt[2],positionX:wt[0],positionY:wt[1],positionZ:wt[2]});Et.connect(Mt).connect(Ot.inputs[0]),Ot.connect(yt);for(let Lt=128;Lt<Ct.length;Lt+=128){const jt=[St[0][Lt],St[1][Lt],St[2][Lt]],Jt=[St[3][Lt],St[4][Lt],St[5][Lt]];if(jt.some((qt,rn)=>qt!==gt[rn])||Jt.some((qt,rn)=>qt!==wt[rn])){gt=jt,wt=Jt;const qt=Lt/ht.sampleRate;Mt.gain.setValueAtTime(0,qt),Mt=j(ht,{...dt,gain:0}),Ot=_e(ht,{...xt,orientationX:gt[0],orientationY:gt[1],orientationZ:gt[2],positionX:wt[0],positionY:wt[1],positionZ:wt[2]}),Mt.gain.setValueAtTime(1,qt),Et.connect(Mt).connect(Ot.inputs[0]),Ot.connect(yt)}}return yt}return Tt?(await a(ht,vt.orientationX,bt.orientationX),await a(ht,vt.orientationY,bt.orientationY),await a(ht,vt.orientationZ,bt.orientationZ),await a(ht,vt.positionX,bt.positionX),await a(ht,vt.positionY,bt.positionY),await a(ht,vt.positionZ,bt.positionZ)):(await rt(ht,vt.orientationX,bt.orientationX),await rt(ht,vt.orientationY,bt.orientationY),await rt(ht,vt.orientationZ,bt.orientationZ),await rt(ht,vt.positionX,bt.positionX),await rt(ht,vt.positionY,bt.positionY),await rt(ht,vt.positionZ,bt.positionZ)),isNativeAudioNodeFaker(bt)?await ot(vt,ht,bt.inputs[0]):await ot(vt,ht,bt),bt};return{render(vt,ht){const yt=at.get(ht);return yt!==void 0?Promise.resolve(yt):ct(vt,ht)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(a,o,$,j)=>class Jm{constructor(et,tt){const rt=o(et),ot=j({...DEFAULT_OPTIONS$2,...tt}),st=a(rt,ot);return $.add(st),st}static[Symbol.hasInstance](et){return et!==null&&typeof et=="object"&&Object.getPrototypeOf(et)===Jm.prototype||$.has(et)}},createRenderAutomation=(a,o)=>($,j,_e)=>(a(j).replay(_e),o(j,$,_e)),createRenderInputsOfAudioNode=(a,o,$)=>async(j,_e,et)=>{const tt=a(j);await Promise.all(tt.activeInputs.map((rt,ot)=>Array.from(rt).map(async([st,at])=>{const ct=await o(st).render(st,_e),vt=j.context.destination;!$(st)&&(j!==vt||!$(j))&&ct.connect(et,at,ot)})).reduce((rt,ot)=>[...rt,...ot],[]))},createRenderInputsOfAudioParam=(a,o,$)=>async(j,_e,et)=>{const tt=o(j);await Promise.all(Array.from(tt.activeInputs).map(async([rt,ot])=>{const at=await a(rt).render(rt,_e);$(rt)||at.connect(et,ot)}))},createRenderNativeOfflineAudioContext=(a,o,$,j)=>_e=>a(testPromiseSupport,()=>testPromiseSupport(_e))?Promise.resolve(a(j,j)).then(et=>{if(!et){const tt=$(_e,512,0,1);_e.oncomplete=()=>{tt.onaudioprocess=null,tt.disconnect()},tt.onaudioprocess=()=>_e.currentTime,tt.connect(_e.destination)}return _e.startRendering()}):new Promise(et=>{const tt=o(_e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});_e.oncomplete=rt=>{tt.disconnect(),et(rt.renderedBuffer)},tt.connect(_e.destination),_e.startRendering()}),createSetActiveAudioWorkletNodeInputs=a=>(o,$)=>{a.set(o,$)},createSetAudioNodeTailTime=a=>(o,$)=>a.set(o,$),createStartRendering=(a,o,$,j,_e,et,tt,rt)=>(ot,st)=>$(ot).render(ot,st).then(()=>Promise.all(Array.from(j(st)).map(at=>$(at).render(at,st)))).then(()=>_e(st)).then(at=>(typeof at.copyFromChannel!="function"?(tt(at),wrapAudioBufferGetChannelDataMethod(at)):o(et,()=>et(at))||rt(at),a.add(at),at)),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(a,o,$,j,_e,et)=>class extends a{constructor(rt,ot){const st=_e(rt),at={...DEFAULT_OPTIONS$1,...ot},ut=$(st,at),ct=et(st),vt=ct?j():null;super(rt,!1,ut,vt),this._pan=o(this,ct,ut.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(a,o,$,j,_e)=>()=>{const et=new WeakMap,tt=async(rt,ot)=>{let st=$(rt);const at=isOwnedByContext(st,ot);if(!at){const ut={channelCount:st.channelCount,channelCountMode:st.channelCountMode,channelInterpretation:st.channelInterpretation,pan:st.pan.value};st=o(ot,ut)}return et.set(ot,st),at?await a(ot,rt.pan,st.pan):await j(ot,rt.pan,st.pan),isNativeAudioNodeFaker(st)?await _e(rt,ot,st.inputs[0]):await _e(rt,ot,st),st};return{render(rt,ot){const st=et.get(ot);return st!==void 0?Promise.resolve(st):tt(rt,ot)}}},createTestAudioBufferConstructorSupport=a=>()=>{if(a===null)return!1;try{new a({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(a,o)=>async()=>{if(a===null)return!0;if(o===null)return!1;const $=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),j=new o(1,128,44100),_e=URL.createObjectURL($);let et=!1,tt=!1;try{await j.audioWorklet.addModule(_e);const rt=new a(j,"a",{numberOfOutputs:0}),ot=j.createOscillator();rt.port.onmessage=()=>et=!0,rt.onprocessorerror=()=>tt=!0,ot.connect(rt),ot.start(0),await j.startRendering(),await new Promise(st=>setTimeout(st))}catch{}finally{URL.revokeObjectURL(_e)}return et&&!tt},createTestOfflineAudioContextCurrentTimeSupport=(a,o)=>()=>{if(o===null)return Promise.resolve(!1);const $=new o(1,1,44100),j=a($,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(_e=>{$.oncomplete=()=>{j.disconnect(),_e($.currentTime!==0)},$.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(a,o,$,j,_e,et,tt)=>class extends a{constructor(ot,st){const at=_e(ot),ut={...DEFAULT_OPTIONS,...st},ct=$(at,ut),ht=et(at)?j():null;super(ot,!0,ct,ht),this._isCurveNullified=!1,this._nativeWaveShaperNode=ct,tt(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(ot){if(ot===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(ot.length<2)throw o();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=ot}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(ot){this._nativeWaveShaperNode.oversample=ot}},createWaveShaperNodeRendererFactory=(a,o,$)=>()=>{const j=new WeakMap,_e=async(et,tt)=>{let rt=o(et);if(!isOwnedByContext(rt,tt)){const st={channelCount:rt.channelCount,channelCountMode:rt.channelCountMode,channelInterpretation:rt.channelInterpretation,curve:rt.curve,oversample:rt.oversample};rt=a(tt,st)}return j.set(tt,rt),isNativeAudioNodeFaker(rt)?await $(et,tt,rt.inputs[0]):await $(et,tt,rt),rt};return{render(et,tt){const rt=j.get(tt);return rt!==void 0?Promise.resolve(rt):_e(et,tt)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(a,o)=>$=>{$.copyFromChannel=(j,_e,et=0)=>{const tt=a(et),rt=a(_e);if(rt>=$.numberOfChannels)throw o();const ot=$.length,st=$.getChannelData(rt),at=j.length;for(let ut=tt<0?-tt:0;ut+tt<ot&&ut<at;ut+=1)j[ut]=st[ut+tt]},$.copyToChannel=(j,_e,et=0)=>{const tt=a(et),rt=a(_e);if(rt>=$.numberOfChannels)throw o();const ot=$.length,st=$.getChannelData(rt),at=j.length;for(let ut=tt<0?-tt:0;ut+tt<ot&&ut<at;ut+=1)st[ut+tt]=j[ut]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=a=>o=>{o.copyFromChannel=($=>(j,_e,et=0)=>{const tt=a(et),rt=a(_e);if(tt<o.length)return $.call(o,j,rt,tt)})(o.copyFromChannel),o.copyToChannel=($=>(j,_e,et=0)=>{const tt=a(et),rt=a(_e);if(tt<o.length)return $.call(o,j,rt,tt)})(o.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=a=>(o,$)=>{const j=$.createBuffer(1,1,44100);o.buffer===null&&(o.buffer=j),a(o,"buffer",_e=>()=>{const et=_e.call(o);return et===j?null:et},_e=>et=>_e.call(o,et===null?j:et))},createWrapChannelMergerNode=(a,o)=>($,j)=>{j.channelCount=1,j.channelCountMode="explicit",Object.defineProperty(j,"channelCount",{get:()=>1,set:()=>{throw a()}}),Object.defineProperty(j,"channelCountMode",{get:()=>"explicit",set:()=>{throw a()}});const _e=$.createBufferSource();o(j,()=>{const rt=j.numberOfInputs;for(let ot=0;ot<rt;ot+=1)_e.connect(j,0,ot)},()=>_e.disconnect(j))},getFirstSample=(a,o,$)=>a.copyFromChannel===void 0?a.getChannelData($)[0]:(a.copyFromChannel(o,$),o[0]),isDCCurve=a=>{if(a===null)return!1;const o=a.length;return o%2!==0?a[Math.floor(o/2)]!==0:a[o/2-1]+a[o/2]!==0},overwriteAccessors=(a,o,$,j)=>{let _e=a;for(;!_e.hasOwnProperty(o);)_e=Object.getPrototypeOf(_e);const{get:et,set:tt}=Object.getOwnPropertyDescriptor(_e,o);Object.defineProperty(a,o,{get:$(et),set:j(tt)})},sanitizeAudioWorkletNodeOptions=a=>({...a,outputChannelCount:a.outputChannelCount!==void 0?a.outputChannelCount:a.numberOfInputs===1&&a.numberOfOutputs===1?[a.channelCount]:Array.from({length:a.numberOfOutputs},()=>1)}),sanitizeChannelSplitterOptions=a=>({...a,channelCount:a.numberOfOutputs}),sanitizePeriodicWaveOptions=a=>{const{imag:o,real:$}=a;return o===void 0?$===void 0?{...a,imag:[0,0],real:[0,0]}:{...a,imag:Array.from($,()=>0),real:$}:$===void 0?{...a,imag:o,real:Array.from(o,()=>0)}:{...a,imag:o,real:$}},setValueAtTimeUntilPossible=(a,o,$)=>{try{a.setValueAtTime(o,$)}catch(j){if(j.code!==9)throw j;setValueAtTimeUntilPossible(a,o,$+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=a=>{const o=a.createBufferSource();o.start();try{o.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=a=>{const o=a.createBufferSource(),$=a.createBuffer(1,1,44100);o.buffer=$;try{o.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=a=>{const o=a.createBufferSource();o.start();try{o.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=a=>{const o=a.createOscillator();try{o.start(-1)}catch($){return $ instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=a=>{const o=a.createBuffer(1,1,44100),$=a.createBufferSource();$.buffer=o,$.start(),$.stop();try{return $.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=a=>{const o=a.createOscillator();try{o.stop(-1)}catch($){return $ instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=a=>{const{port1:o,port2:$}=new MessageChannel;try{o.postMessage(a)}finally{o.close(),$.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=a=>{a.start=(o=>($=0,j=0,_e)=>{const et=a.buffer,tt=et===null?j:Math.min(et.duration,j);et!==null&&tt>et.duration-.5/a.context.sampleRate?o.call(a,$,0,0):o.call(a,$,tt,_e)})(a.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(a,o)=>{const $=o.createGain();a.connect($);const j=(_e=>()=>{_e.call(a,$),a.removeEventListener("ended",j)})(a.disconnect);a.addEventListener("ended",j),interceptConnections(a,$),a.stop=(_e=>{let et=!1;return(tt=0)=>{if(et)try{_e.call(a,tt)}catch{$.gain.setValueAtTime(0,tt)}else _e.call(a,tt),et=!0}})(a.stop)},wrapEventListener=(a,o)=>$=>{const j={value:a};return Object.defineProperties($,{currentTarget:j,target:j}),typeof o=="function"?o.call(a,$):o.handleEvent.call(a,$)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$1=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$1),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$1),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$1),isNativeAudioParam=createIsNativeAudioParam(window$1),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$1),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$1),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext=createIsSecureContext(window$1),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$1),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$1),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$1):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener):void 0,createNativeOfflineAudioContext=createCreateNativeOfflineAudioContext(createNotSupportedError,nativeOfflineAudioContextConstructor),startRendering=createStartRendering(audioBufferStore,cacheTestResult,getAudioNodeRenderer,getUnrenderedAudioWorkletNodes,renderNativeOfflineAudioContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),offlineAudioContextConstructor=createOfflineAudioContextConstructor(baseAudioContextConstructor,cacheTestResult,createInvalidStateError,createNativeOfflineAudioContext,startRendering),isAnyAudioContext=createIsAnyAudioContext(CONTEXT_STORE,isNativeAudioContext),isAnyAudioNode=createIsAnyAudioNode(AUDIO_NODE_STORE,isNativeAudioNode),isAnyAudioParam=createIsAnyAudioParam(AUDIO_PARAM_STORE,isNativeAudioParam),isAnyOfflineAudioContext=createIsAnyOfflineAudioContext(CONTEXT_STORE,isNativeOfflineAudioContext);function assert(a,o){if(!a)throw new Error(o)}function assertRange(a,o,$=1/0){if(!(o<=a&&a<=$))throw new RangeError(`Value must be within [${o}, ${$}], got: ${a}`)}function assertContextRunning(a){!a.isOffline&&a.state!=="running"&&warn('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let defaultLogger=console;function log(...a){defaultLogger.log(...a)}function warn(...a){defaultLogger.warn(...a)}function isUndef(a){return typeof a>"u"}function isDefined(a){return!isUndef(a)}function isFunction(a){return typeof a=="function"}function isNumber(a){return typeof a=="number"}function isObject(a){return Object.prototype.toString.call(a)==="[object Object]"&&a.constructor===Object}function isBoolean(a){return typeof a=="boolean"}function isArray(a){return Array.isArray(a)}function isString(a){return typeof a=="string"}function isNote(a){return isString(a)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(a)}function createAudioContext(a){return new audioContextConstructor(a)}function createOfflineAudioContext(a,o,$){return new offlineAudioContextConstructor(a,o,$)}const theWindow=typeof self=="object"?self:null,hasAudioContext=theWindow&&(theWindow.hasOwnProperty("AudioContext")||theWindow.hasOwnProperty("webkitAudioContext"));function createAudioWorkletNode(a,o,$){return assert(isDefined(audioWorkletNodeConstructor),"This node only works in a secure context (https or localhost)"),new audioWorkletNodeConstructor(a,o,$)}function __decorate(a,o,$,j){var _e=arguments.length,et=_e<3?o:j===null?j=Object.getOwnPropertyDescriptor(o,$):j,tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(a,o,$,j);else for(var rt=a.length-1;rt>=0;rt--)(tt=a[rt])&&(et=(_e<3?tt(et):_e>3?tt(o,$,et):tt(o,$))||et);return _e>3&&et&&Object.defineProperty(o,$,et),et}function __awaiter(a,o,$,j){function _e(et){return et instanceof $?et:new $(function(tt){tt(et)})}return new($||($=Promise))(function(et,tt){function rt(at){try{st(j.next(at))}catch(ut){tt(ut)}}function ot(at){try{st(j.throw(at))}catch(ut){tt(ut)}}function st(at){at.done?et(at.value):_e(at.value).then(rt,ot)}st((j=j.apply(a,o||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Ticker{constructor(o,$,j){this._callback=o,this._type=$,this._updateInterval=j,this._createClock()}_createWorker(){const o=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),$=URL.createObjectURL(o),j=new Worker($);j.onmessage=this._callback.bind(this),this._worker=j}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(o){this._updateInterval=Math.max(o,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(o*1e3,1))}get type(){return this._type}set type(o){this._disposeClock(),this._type=o,this._createClock()}dispose(){this._disposeClock()}}function isAudioParam(a){return isAnyAudioParam(a)}function isAudioNode(a){return isAnyAudioNode(a)}function isOfflineAudioContext(a){return isAnyOfflineAudioContext(a)}function isAudioContext(a){return isAnyAudioContext(a)}function isAudioBuffer(a){return a instanceof AudioBuffer}function noCopy(a,o){return a==="value"||isAudioParam(o)||isAudioNode(o)||isAudioBuffer(o)}function deepMerge(a,...o){if(!o.length)return a;const $=o.shift();if(isObject(a)&&isObject($))for(const j in $)noCopy(j,$[j])?a[j]=$[j]:isObject($[j])?(a[j]||Object.assign(a,{[j]:{}}),deepMerge(a[j],$[j])):Object.assign(a,{[j]:$[j]});return deepMerge(a,...o)}function deepEquals(a,o){return a.length===o.length&&a.every(($,j)=>o[j]===$)}function optionsFromArguments(a,o,$=[],j){const _e={},et=Array.from(o);if(isObject(et[0])&&j&&!Reflect.has(et[0],j)&&(Object.keys(et[0]).some(rt=>Reflect.has(a,rt))||(deepMerge(_e,{[j]:et[0]}),$.splice($.indexOf(j),1),et.shift())),et.length===1&&isObject(et[0]))deepMerge(_e,et[0]);else for(let tt=0;tt<$.length;tt++)isDefined(et[tt])&&(_e[$[tt]]=et[tt]);return deepMerge(a,_e)}function getDefaultsFromInstance(a){return a.constructor.getDefaults()}function defaultArg(a,o){return isUndef(a)?o:a}function omitFromObject(a,o){return o.forEach($=>{Reflect.has(a,$)&&delete a[$]}),a}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Tone{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...o){(this.debug||theWindow&&this.toString()===theWindow.TONE_DEBUG_CLASS)&&log(this,...o)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tone.version=version;const EPSILON=1e-6;function GT(a,o){return a>o+EPSILON}function GTE(a,o){return GT(a,o)||EQ(a,o)}function LT(a,o){return a+EPSILON<o}function EQ(a,o){return Math.abs(a-o)<EPSILON}function clamp(a,o,$){return Math.max(Math.min(a,$),o)}class Timeline extends Tone{constructor(){super(),this.name="Timeline",this._timeline=[];const o=optionsFromArguments(Timeline.getDefaults(),arguments,["memory"]);this.memory=o.memory,this.increasing=o.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(o){if(assert(Reflect.has(o,"time"),"Timeline: events must have a time attribute"),o.time=o.time.valueOf(),this.increasing&&this.length){const $=this._timeline[this.length-1];assert(GTE(o.time,$.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(o)}else{const $=this._search(o.time);this._timeline.splice($+1,0,o)}if(this.length>this.memory){const $=this.length-this.memory;this._timeline.splice(0,$)}return this}remove(o){const $=this._timeline.indexOf(o);return $!==-1&&this._timeline.splice($,1),this}get(o,$="time"){const j=this._search(o,$);return j!==-1?this._timeline[j]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(o,$="time"){const j=this._search(o,$);return j+1<this._timeline.length?this._timeline[j+1]:null}getBefore(o){const $=this._timeline.length;if($>0&&this._timeline[$-1].time<o)return this._timeline[$-1];const j=this._search(o);return j-1>=0?this._timeline[j-1]:null}cancel(o){if(this._timeline.length>1){let $=this._search(o);if($>=0)if(EQ(this._timeline[$].time,o)){for(let j=$;j>=0&&EQ(this._timeline[j].time,o);j--)$=j;this._timeline=this._timeline.slice(0,$)}else this._timeline=this._timeline.slice(0,$+1);else this._timeline=[]}else this._timeline.length===1&&GTE(this._timeline[0].time,o)&&(this._timeline=[]);return this}cancelBefore(o){const $=this._search(o);return $>=0&&(this._timeline=this._timeline.slice($+1)),this}previousEvent(o){const $=this._timeline.indexOf(o);return $>0?this._timeline[$-1]:null}_search(o,$="time"){if(this._timeline.length===0)return-1;let j=0;const _e=this._timeline.length;let et=_e;if(_e>0&&this._timeline[_e-1][$]<=o)return _e-1;for(;j<et;){let tt=Math.floor(j+(et-j)/2);const rt=this._timeline[tt],ot=this._timeline[tt+1];if(EQ(rt[$],o)){for(let st=tt;st<this._timeline.length;st++){const at=this._timeline[st];if(EQ(at[$],o))tt=st;else break}return tt}else{if(LT(rt[$],o)&&GT(ot[$],o))return tt;GT(rt[$],o)?et=tt:j=tt+1}}return-1}_iterate(o,$=0,j=this._timeline.length-1){this._timeline.slice($,j+1).forEach(o)}forEach(o){return this._iterate(o),this}forEachBefore(o,$){const j=this._search(o);return j!==-1&&this._iterate($,0,j),this}forEachAfter(o,$){const j=this._search(o);return this._iterate($,j+1),this}forEachBetween(o,$,j){let _e=this._search(o),et=this._search($);return _e!==-1&&et!==-1?(this._timeline[_e].time!==o&&(_e+=1),this._timeline[et].time===$&&(et-=1),this._iterate(j,_e,et)):_e===-1&&this._iterate(j,0,et),this}forEachFrom(o,$){let j=this._search(o);for(;j>=0&&this._timeline[j].time>=o;)j--;return this._iterate($,j+1),this}forEachAtTime(o,$){const j=this._search(o);if(j!==-1&&EQ(this._timeline[j].time,o)){let _e=j;for(let et=j;et>=0&&EQ(this._timeline[et].time,o);et--)_e=et;this._iterate(et=>{$(et)},_e,j)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const notifyNewContext=[];function onContextInit(a){notifyNewContext.push(a)}function initializeContext(a){notifyNewContext.forEach(o=>o(a))}const notifyCloseContext=[];function onContextClose(a){notifyCloseContext.push(a)}function closeContext(a){notifyCloseContext.forEach(o=>o(a))}class Emitter extends Tone{constructor(){super(...arguments),this.name="Emitter"}on(o,$){return o.split(/\W+/).forEach(_e=>{isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(_e)||(this._events[_e]=[]),this._events[_e].push($)}),this}once(o,$){const j=(..._e)=>{$(..._e),this.off(o,j)};return this.on(o,j),this}off(o,$){return o.split(/\W+/).forEach(_e=>{if(isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(isUndef($))this._events[o]=[];else{const et=this._events[o];for(let tt=et.length-1;tt>=0;tt--)et[tt]===$&&et.splice(tt,1)}}),this}emit(o,...$){if(this._events&&this._events.hasOwnProperty(o)){const j=this._events[o].slice(0);for(let _e=0,et=j.length;_e<et;_e++)j[_e].apply(this,$)}return this}static mixin(o){["on","once","off","emit"].forEach($=>{const j=Object.getOwnPropertyDescriptor(Emitter.prototype,$);Object.defineProperty(o.prototype,$,j)})}dispose(){return super.dispose(),this._events=void 0,this}}class BaseContext extends Emitter{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Context extends BaseContext{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Timeline,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const o=optionsFromArguments(Context.getDefaults(),arguments,["context"]);o.context?this._context=o.context:this._context=createAudioContext({latencyHint:o.latencyHint}),this._ticker=new Ticker(this.emit.bind(this,"tick"),o.clockSource,o.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(o.latencyHint),this.lookAhead=o.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(initializeContext(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(o,$,j){return this._context.createBuffer(o,$,j)}createChannelMerger(o){return this._context.createChannelMerger(o)}createChannelSplitter(o){return this._context.createChannelSplitter(o)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(o){return this._context.createDelay(o)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(o,$){return this._context.createIIRFilter(o,$)}createPanner(){return this._context.createPanner()}createPeriodicWave(o,$,j){return this._context.createPeriodicWave(o,$,j)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(o){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(o)}createMediaElementSource(o){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(o)}createMediaStreamDestination(){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(o){return this._context.decodeAudioData(o)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(o){assert(!this._initialized,"The listener cannot be set after initialization."),this._listener=o}get transport(){return this.initialize(),this._transport}set transport(o){assert(!this._initialized,"The transport cannot be set after initialization."),this._transport=o}get draw(){return this.initialize(),this._draw}set draw(o){assert(!this._initialized,"Draw cannot be set after initialization."),this._draw=o}get destination(){return this.initialize(),this._destination}set destination(o){assert(!this._initialized,"The destination cannot be set after initialization."),this._destination=o}createAudioWorkletNode(o,$){return createAudioWorkletNode(this.rawContext,o,$)}addAudioWorkletModule(o,$){return __awaiter(this,void 0,void 0,function*(){assert(isDefined(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has($)||this._workletModules.set($,this.rawContext.audioWorklet.addModule(o)),yield this._workletModules.get($)})}workletsAreReady(){return __awaiter(this,void 0,void 0,function*(){const o=[];this._workletModules.forEach($=>o.push($)),yield Promise.all(o)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(o){this._ticker.updateInterval=o}get clockSource(){return this._ticker.type}set clockSource(o){this._ticker.type=o}get latencyHint(){return this._latencyHint}_setLatencyHint(o){let $=0;if(this._latencyHint=o,isString(o))switch(o){case"interactive":$=.1;break;case"playback":$=.5;break;case"balanced":$=.25;break}this.lookAhead=$,this.updateInterval=$/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return isAudioContext(this._context)?this._context.resume():Promise.resolve()}close(){return __awaiter(this,void 0,void 0,function*(){isAudioContext(this._context)&&(yield this._context.close()),this._initialized&&closeContext(this)})}getConstant(o){if(this._constants.has(o))return this._constants.get(o);{const $=this._context.createBuffer(1,128,this._context.sampleRate),j=$.getChannelData(0);for(let et=0;et<j.length;et++)j[et]=o;const _e=this._context.createBufferSource();return _e.channelCount=1,_e.channelCountMode="explicit",_e.buffer=$,_e.loop=!0,_e.start(0),this._constants.set(o,_e),_e}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(o=>this._constants[o].disconnect()),this}_timeoutLoop(){const o=this.now();let $=this._timeouts.peek();for(;this._timeouts.length&&$&&$.time<=o;)$.callback(),this._timeouts.shift(),$=this._timeouts.peek()}setTimeout(o,$){this._timeoutIds++;const j=this.now();return this._timeouts.add({callback:o,id:this._timeoutIds,time:j+$}),this._timeoutIds}clearTimeout(o){return this._timeouts.forEach($=>{$.id===o&&this._timeouts.remove($)}),this}clearInterval(o){return this.clearTimeout(o)}setInterval(o,$){const j=++this._timeoutIds,_e=()=>{const et=this.now();this._timeouts.add({callback:()=>{o(),_e()},id:j,time:et+$})};return _e(),j}}class DummyContext extends BaseContext{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(o,$,j){return{}}createChannelMerger(o){return{}}createChannelSplitter(o){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(o){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(o,$){return{}}createPanner(){return{}}createPeriodicWave(o,$,j){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(o){return{}}createMediaElementSource(o){return{}}createMediaStreamDestination(){return{}}decodeAudioData(o){return Promise.resolve({})}createAudioWorkletNode(o,$){return{}}get rawContext(){return{}}addAudioWorkletModule(o,$){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(o,$){return 0}clearTimeout(o){return this}setInterval(o,$){return 0}clearInterval(o){return this}getConstant(o){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(o){}get destination(){return{}}set destination(o){}now(){return 0}immediate(){return 0}}function readOnly(a,o){isArray(o)?o.forEach($=>readOnly(a,$)):Object.defineProperty(a,o,{enumerable:!0,writable:!1})}function writable(a,o){isArray(o)?o.forEach($=>writable(a,$)):Object.defineProperty(a,o,{writable:!0})}const noOp=()=>{};class ToneAudioBuffer extends Tone{constructor(){super(),this.name="ToneAudioBuffer",this.onload=noOp;const o=optionsFromArguments(ToneAudioBuffer.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=o.reverse,this.onload=o.onload,o.url&&isAudioBuffer(o.url)||o.url instanceof ToneAudioBuffer?this.set(o.url):isString(o.url)&&this.load(o.url).catch(o.onerror)}static getDefaults(){return{onerror:noOp,onload:noOp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:getContext().sampleRate}set(o){return o instanceof ToneAudioBuffer?o.loaded?this._buffer=o.get():o.onload=()=>{this.set(o),this.onload(this)}:this._buffer=o,this._reversed&&this._reverse(),this}get(){return this._buffer}load(o){return __awaiter(this,void 0,void 0,function*(){const $=ToneAudioBuffer.load(o).then(j=>{this.set(j),this.onload(this)});ToneAudioBuffer.downloads.push($);try{yield $}finally{const j=ToneAudioBuffer.downloads.indexOf($);ToneAudioBuffer.downloads.splice(j,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(o){const $=isArray(o)&&o[0].length>0,j=$?o.length:1,_e=$?o[0].length:o.length,et=getContext(),tt=et.createBuffer(j,_e,et.sampleRate),rt=!$&&j===1?[o]:o;for(let ot=0;ot<j;ot++)tt.copyToChannel(rt[ot],ot);return this._buffer=tt,this}toMono(o){if(isNumber(o))this.fromArray(this.toArray(o));else{let $=new Float32Array(this.length);const j=this.numberOfChannels;for(let _e=0;_e<j;_e++){const et=this.toArray(_e);for(let tt=0;tt<et.length;tt++)$[tt]+=et[tt]}$=$.map(_e=>_e/j),this.fromArray($)}return this}toArray(o){if(isNumber(o))return this.getChannelData(o);if(this.numberOfChannels===1)return this.toArray(0);{const $=[];for(let j=0;j<this.numberOfChannels;j++)$[j]=this.getChannelData(j);return $}}getChannelData(o){return this._buffer?this._buffer.getChannelData(o):new Float32Array(0)}slice(o,$=this.duration){const j=Math.floor(o*this.sampleRate),_e=Math.floor($*this.sampleRate);assert(j<_e,"The start time must be less than the end time");const et=_e-j,tt=getContext().createBuffer(this.numberOfChannels,et,this.sampleRate);for(let rt=0;rt<this.numberOfChannels;rt++)tt.copyToChannel(this.getChannelData(rt).subarray(j,_e),rt);return new ToneAudioBuffer(tt)}_reverse(){if(this.loaded)for(let o=0;o<this.numberOfChannels;o++)this.getChannelData(o).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(o){this._reversed!==o&&(this._reversed=o,this._reverse())}static fromArray(o){return new ToneAudioBuffer().fromArray(o)}static fromUrl(o){return __awaiter(this,void 0,void 0,function*(){return yield new ToneAudioBuffer().load(o)})}static load(o){return __awaiter(this,void 0,void 0,function*(){const $=o.match(/\[([^\]\[]+\|.+)\]$/);if($){const rt=$[1].split("|");let ot=rt[0];for(const st of rt)if(ToneAudioBuffer.supportsType(st)){ot=st;break}o=o.replace($[0],ot)}const j=ToneAudioBuffer.baseUrl===""||ToneAudioBuffer.baseUrl.endsWith("/")?ToneAudioBuffer.baseUrl:ToneAudioBuffer.baseUrl+"/",_e=yield fetch(j+o);if(!_e.ok)throw new Error(`could not load url: ${o}`);const et=yield _e.arrayBuffer();return yield getContext().decodeAudioData(et)})}static supportsType(o){const $=o.split("."),j=$[$.length-1];return document.createElement("audio").canPlayType("audio/"+j)!==""}static loaded(){return __awaiter(this,void 0,void 0,function*(){for(yield Promise.resolve();ToneAudioBuffer.downloads.length;)yield ToneAudioBuffer.downloads[0]})}}ToneAudioBuffer.baseUrl="";ToneAudioBuffer.downloads=[];class OfflineContext extends Context{constructor(){super({clockSource:"offline",context:isOfflineAudioContext(arguments[0])?arguments[0]:createOfflineAudioContext(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:isOfflineAudioContext(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=isOfflineAudioContext(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(o){return __awaiter(this,void 0,void 0,function*(){let $=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,$++;const j=Math.floor(this.sampleRate/128);o&&$%j===0&&(yield new Promise(_e=>setTimeout(_e,1)))}})}render(o=!0){return __awaiter(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(o);const $=yield this._context.startRendering();return new ToneAudioBuffer($)})}close(){return Promise.resolve()}}const dummyContext=new DummyContext;let globalContext=dummyContext;function getContext(){return globalContext===dummyContext&&hasAudioContext&&setContext(new Context),globalContext}function setContext(a){isAudioContext(a)?globalContext=new Context(a):isOfflineAudioContext(a)?globalContext=new OfflineContext(a):globalContext=a}if(theWindow&&!theWindow.TONE_SILENCE_LOGGING){const o=` * Tone.js v${version} * `;console.log(`%c${o}`,"background: #000; color: #fff")}function dbToGain(a){return Math.pow(10,a/20)}function gainToDb(a){return 20*(Math.log(a)/Math.LN10)}function intervalToFrequencyRatio(a){return Math.pow(2,a/12)}let A4=440;function getA4(){return A4}function setA4(a){A4=a}function ftom(a){return Math.round(ftomf(a))}function ftomf(a){return 69+12*Math.log2(a/A4)}function mtof(a){return A4*Math.pow(2,(a-69)/12)}class TimeBaseClass extends Tone{constructor(o,$,j){super(),this.defaultUnits="s",this._val=$,this._units=j,this.context=o,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:o=>this._frequencyToUnits(parseFloat(o)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:o=>this._ticksToUnits(parseInt(o,10)),regexp:/^(\d+)i$/i},m:{method:o=>this._beatsToUnits(parseInt(o,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(o,$)=>{const j=parseInt(o,10),_e=$==="."?1.5:1;return j===1?this._beatsToUnits(this._getTimeSignature())*_e:this._beatsToUnits(4/j)*_e},regexp:/^(\d+)n(\.?)$/i},number:{method:o=>this._expressions[this.defaultUnits].method.call(this,o),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:o=>this._secondsToUnits(parseFloat(o)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:o=>parseInt(o,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:o=>{const $=parseInt(o,10);return this._beatsToUnits(8/(Math.floor($)*3))},regexp:/^(\d+)t$/i},tr:{method:(o,$,j)=>{let _e=0;return o&&o!=="0"&&(_e+=this._beatsToUnits(this._getTimeSignature()*parseFloat(o))),$&&$!=="0"&&(_e+=this._beatsToUnits(parseFloat($))),j&&j!=="0"&&(_e+=this._beatsToUnits(parseFloat(j)/4)),_e},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof TimeBaseClass&&this.fromType(this._val),isUndef(this._val))return this._noArg();if(isString(this._val)&&isUndef(this._units)){for(const o in this._expressions)if(this._expressions[o].regexp.test(this._val.trim())){this._units=o;break}}else if(isObject(this._val)){let o=0;for(const $ in this._val)if(isDefined(this._val[$])){const j=this._val[$],_e=new this.constructor(this.context,$).valueOf()*j;o+=_e}return o}if(isDefined(this._units)){const o=this._expressions[this._units],$=this._val.toString().trim().match(o.regexp);return $?o.method.apply(this,$.slice(1)):o.method.call(this,this._val)}else return isString(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(o){return 1/o}_beatsToUnits(o){return 60/this._getBpm()*o}_secondsToUnits(o){return o}_ticksToUnits(o){return o*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(o){switch(this._units=void 0,this.defaultUnits){case"s":this._val=o.toSeconds();break;case"i":this._val=o.toTicks();break;case"hz":this._val=o.toFrequency();break;case"midi":this._val=o.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class TimeClass extends TimeBaseClass{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:o=>this._now()+new this.constructor(this.context,o).valueOf(),regexp:/^\+(.+)/},quantize:{method:o=>{const $=new TimeClass(this.context,o).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision($))},regexp:/^@(.+)/}})}quantize(o,$=1){const j=new this.constructor(this.context,o).valueOf(),_e=this.valueOf(),rt=Math.round(_e/j)*j-_e;return _e+rt*$}toNotation(){const o=this.toSeconds(),$=["1m"];for(let et=1;et<9;et++){const tt=Math.pow(2,et);$.push(tt+"n."),$.push(tt+"n"),$.push(tt+"t")}$.push("0");let j=$[0],_e=new TimeClass(this.context,$[0]).toSeconds();return $.forEach(et=>{const tt=new TimeClass(this.context,et).toSeconds();Math.abs(tt-o)<Math.abs(_e-o)&&(j=et,_e=tt)}),j}toBarsBeatsSixteenths(){const o=this._beatsToUnits(1);let $=this.valueOf()/o;$=parseFloat($.toFixed(4));const j=Math.floor($/this._getTimeSignature());let _e=$%1*4;$=Math.floor($)%this._getTimeSignature();const et=_e.toString();return et.length>3&&(_e=parseFloat(parseFloat(et).toFixed(3))),[j,$,_e].join(":")}toTicks(){const o=this._beatsToUnits(1),$=this.valueOf()/o;return Math.round($*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ftom(this.toFrequency())}_now(){return this.context.now()}}class FrequencyClass extends TimeClass{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return getA4()}static set A4(o){setA4(o)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(o){return this.defaultUnits==="midi"?o:FrequencyClass.mtof(o)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(o,$){const _e=noteToScaleIndex[o.toLowerCase()]+(parseInt($,10)+1)*12;return this.defaultUnits==="midi"?_e:FrequencyClass.mtof(_e)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(o,$,j){let _e=1;return o&&o!=="0"&&(_e*=this._beatsToUnits(this._getTimeSignature()*parseFloat(o))),$&&$!=="0"&&(_e*=this._beatsToUnits(parseFloat($))),j&&j!=="0"&&(_e*=this._beatsToUnits(parseFloat(j)/4)),_e}}})}transpose(o){return new FrequencyClass(this.context,this.valueOf()*intervalToFrequencyRatio(o))}harmonize(o){return o.map($=>this.transpose($))}toMidi(){return ftom(this.valueOf())}toNote(){const o=this.toFrequency(),$=Math.log2(o/FrequencyClass.A4);let j=Math.round(12*$)+57;const _e=Math.floor(j/12);return _e<0&&(j+=-12*_e),scaleIndexToNote[j%12]+_e.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const o=this._beatsToUnits(1),$=this.valueOf()/o;return Math.floor($*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(o){return o}_ticksToUnits(o){return 1/(o*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(o){return 1/super._beatsToUnits(o)}_secondsToUnits(o){return 1/o}static mtof(o){return mtof(o)}static ftom(o){return ftom(o)}}const noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class TransportTimeClass extends TimeClass{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ToneWithContext extends Tone{constructor(){super();const o=optionsFromArguments(ToneWithContext.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=o.context}static getDefaults(){return{context:getContext()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(o){return new TimeClass(this.context,o).toSeconds()}toFrequency(o){return new FrequencyClass(this.context,o).toFrequency()}toTicks(o){return new TransportTimeClass(this.context,o).toTicks()}_getPartialProperties(o){const $=this.get();return Object.keys($).forEach(j=>{isUndef(o[j])&&delete $[j]}),$}get(){const o=getDefaultsFromInstance(this);return Object.keys(o).forEach($=>{if(Reflect.has(this,$)){const j=this[$];isDefined(j)&&isDefined(j.value)&&isDefined(j.setValueAtTime)?o[$]=j.value:j instanceof ToneWithContext?o[$]=j._getPartialProperties(o[$]):isArray(j)||isNumber(j)||isString(j)||isBoolean(j)?o[$]=j:delete o[$]}}),o}set(o){return Object.keys(o).forEach($=>{Reflect.has(this,$)&&isDefined(this[$])&&(this[$]&&isDefined(this[$].value)&&isDefined(this[$].setValueAtTime)?this[$].value!==o[$]&&(this[$].value=o[$]):this[$]instanceof ToneWithContext?this[$].set(o[$]):this[$]=o[$])}),this}}class StateTimeline extends Timeline{constructor(o="stopped"){super(),this.name="StateTimeline",this._initial=o,this.setStateAtTime(this._initial,0)}getValueAtTime(o){const $=this.get(o);return $!==null?$.state:this._initial}setStateAtTime(o,$,j){return assertRange($,0),this.add(Object.assign({},j,{state:o,time:$})),this}getLastState(o,$){const j=this._search($);for(let _e=j;_e>=0;_e--){const et=this._timeline[_e];if(et.state===o)return et}}getNextState(o,$){const j=this._search($);if(j!==-1)for(let _e=j;_e<this._timeline.length;_e++){const et=this._timeline[_e];if(et.state===o)return et}}}class Param extends ToneWithContext{constructor(){super(optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const o=optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"]);for(assert(isDefined(o.param)&&(isAudioParam(o.param)||o.param instanceof Param),"param must be an AudioParam");!isAudioParam(o.param);)o.param=o.param._param;this._swappable=isDefined(o.swappable)?o.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=o.param,this.input.connect(this._param)):this._param=this.input=o.param,this._events=new Timeline(1e3),this._initialValue=this._param.defaultValue,this.units=o.units,this.convert=o.convert,this._minValue=o.minValue,this._maxValue=o.maxValue,isDefined(o.value)&&o.value!==this._toType(this._initialValue)&&this.setValueAtTime(o.value,0)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{convert:!0,units:"number"})}get value(){const o=this.now();return this.getValueAtTime(o)}set value(o){this.cancelScheduledValues(this.now()),this.setValueAtTime(o,this.now())}get minValue(){return isDefined(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return isDefined(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(o,$){return this.units===$}_assertRange(o){return isDefined(this.maxValue)&&isDefined(this.minValue)&&assertRange(o,this._fromType(this.minValue),this._fromType(this.maxValue)),o}_fromType(o){return this.convert&&!this.overridden?this._is(o,"time")?this.toSeconds(o):this._is(o,"decibels")?dbToGain(o):this._is(o,"frequency")?this.toFrequency(o):o:this.overridden?0:o}_toType(o){return this.convert&&this.units==="decibels"?gainToDb(o):o}setValueAtTime(o,$){const j=this.toSeconds($),_e=this._fromType(o);return assert(isFinite(_e)&&isFinite(j),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(o)}, ${JSON.stringify($)}`),this._assertRange(_e),this.log(this.units,"setValueAtTime",o,j),this._events.add({time:j,type:"setValueAtTime",value:_e}),this._param.setValueAtTime(_e,j),this}getValueAtTime(o){const $=Math.max(this.toSeconds(o),0),j=this._events.getAfter($),_e=this._events.get($);let et=this._initialValue;if(_e===null)et=this._initialValue;else if(_e.type==="setTargetAtTime"&&(j===null||j.type==="setValueAtTime")){const tt=this._events.getBefore(_e.time);let rt;tt===null?rt=this._initialValue:rt=tt.value,_e.type==="setTargetAtTime"&&(et=this._exponentialApproach(_e.time,rt,_e.value,_e.constant,$))}else if(j===null)et=_e.value;else if(j.type==="linearRampToValueAtTime"||j.type==="exponentialRampToValueAtTime"){let tt=_e.value;if(_e.type==="setTargetAtTime"){const rt=this._events.getBefore(_e.time);rt===null?tt=this._initialValue:tt=rt.value}j.type==="linearRampToValueAtTime"?et=this._linearInterpolate(_e.time,tt,j.time,j.value,$):et=this._exponentialInterpolate(_e.time,tt,j.time,j.value,$)}else et=_e.value;return this._toType(et)}setRampPoint(o){o=this.toSeconds(o);let $=this.getValueAtTime(o);return this.cancelAndHoldAtTime(o),this._fromType($)===0&&($=this._toType(this._minOutput)),this.setValueAtTime($,o),this}linearRampToValueAtTime(o,$){const j=this._fromType(o),_e=this.toSeconds($);return assert(isFinite(j)&&isFinite(_e),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(o)}, ${JSON.stringify($)}`),this._assertRange(j),this._events.add({time:_e,type:"linearRampToValueAtTime",value:j}),this.log(this.units,"linearRampToValueAtTime",o,_e),this._param.linearRampToValueAtTime(j,_e),this}exponentialRampToValueAtTime(o,$){let j=this._fromType(o);j=EQ(j,0)?this._minOutput:j,this._assertRange(j);const _e=this.toSeconds($);return assert(isFinite(j)&&isFinite(_e),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(o)}, ${JSON.stringify($)}`),this._events.add({time:_e,type:"exponentialRampToValueAtTime",value:j}),this.log(this.units,"exponentialRampToValueAtTime",o,_e),this._param.exponentialRampToValueAtTime(j,_e),this}exponentialRampTo(o,$,j){return j=this.toSeconds(j),this.setRampPoint(j),this.exponentialRampToValueAtTime(o,j+this.toSeconds($)),this}linearRampTo(o,$,j){return j=this.toSeconds(j),this.setRampPoint(j),this.linearRampToValueAtTime(o,j+this.toSeconds($)),this}targetRampTo(o,$,j){return j=this.toSeconds(j),this.setRampPoint(j),this.exponentialApproachValueAtTime(o,j,$),this}exponentialApproachValueAtTime(o,$,j){$=this.toSeconds($),j=this.toSeconds(j);const _e=Math.log(j+1)/Math.log(200);return this.setTargetAtTime(o,$,_e),this.cancelAndHoldAtTime($+j*.9),this.linearRampToValueAtTime(o,$+j),this}setTargetAtTime(o,$,j){const _e=this._fromType(o);assert(isFinite(j)&&j>0,"timeConstant must be a number greater than 0");const et=this.toSeconds($);return this._assertRange(_e),assert(isFinite(_e)&&isFinite(et),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(o)}, ${JSON.stringify($)}`),this._events.add({constant:j,time:et,type:"setTargetAtTime",value:_e}),this.log(this.units,"setTargetAtTime",o,et,j),this._param.setTargetAtTime(_e,et,j),this}setValueCurveAtTime(o,$,j,_e=1){j=this.toSeconds(j),$=this.toSeconds($);const et=this._fromType(o[0])*_e;this.setValueAtTime(this._toType(et),$);const tt=j/(o.length-1);for(let rt=1;rt<o.length;rt++){const ot=this._fromType(o[rt])*_e;this.linearRampToValueAtTime(this._toType(ot),$+rt*tt)}return this}cancelScheduledValues(o){const $=this.toSeconds(o);return assert(isFinite($),`Invalid argument to cancelScheduledValues: ${JSON.stringify(o)}`),this._events.cancel($),this._param.cancelScheduledValues($),this.log(this.units,"cancelScheduledValues",$),this}cancelAndHoldAtTime(o){const $=this.toSeconds(o),j=this._fromType(this.getValueAtTime($));assert(isFinite($),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(o)}`),this.log(this.units,"cancelAndHoldAtTime",$,"value="+j);const _e=this._events.get($),et=this._events.getAfter($);return _e&&EQ(_e.time,$)?et?(this._param.cancelScheduledValues(et.time),this._events.cancel(et.time)):(this._param.cancelAndHoldAtTime($),this._events.cancel($+this.sampleTime)):et&&(this._param.cancelScheduledValues(et.time),this._events.cancel(et.time),et.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(j),$):et.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(j),$)),this._events.add({time:$,type:"setValueAtTime",value:j}),this._param.setValueAtTime(j,$),this}rampTo(o,$=.1,j){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(o,$,j):this.linearRampTo(o,$,j),this}apply(o){const $=this.context.currentTime;o.setValueAtTime(this.getValueAtTime($),$);const j=this._events.get($);if(j&&j.type==="setTargetAtTime"){const _e=this._events.getAfter(j.time),et=_e?_e.time:$+2,tt=(et-$)/10;for(let rt=$;rt<et;rt+=tt)o.linearRampToValueAtTime(this.getValueAtTime(rt),rt)}return this._events.forEachAfter(this.context.currentTime,_e=>{_e.type==="cancelScheduledValues"?o.cancelScheduledValues(_e.time):_e.type==="setTargetAtTime"?o.setTargetAtTime(_e.value,_e.time,_e.constant):o[_e.type](_e.value,_e.time)}),this}setParam(o){assert(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const $=this.input;return $.disconnect(this._param),this.apply(o),this._param=o,$.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(o,$,j,_e,et){return j+($-j)*Math.exp(-(et-o)/_e)}_linearInterpolate(o,$,j,_e,et){return $+(_e-$)*((et-o)/(j-o))}_exponentialInterpolate(o,$,j,_e,et){return $*Math.pow(_e/$,(et-o)/(j-o))}}class ToneAudioNode extends ToneWithContext{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return isDefined(this.input)?isAudioParam(this.input)||this.input instanceof Param?1:this.input.numberOfInputs:0}get numberOfOutputs(){return isDefined(this.output)?this.output.numberOfOutputs:0}_isAudioNode(o){return isDefined(o)&&(o instanceof ToneAudioNode||isAudioNode(o))}_getInternalNodes(){const o=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&o.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&o.push(this.output),o}_setChannelProperties(o){this._getInternalNodes().forEach(j=>{j.channelCount=o.channelCount,j.channelCountMode=o.channelCountMode,j.channelInterpretation=o.channelInterpretation})}_getChannelProperties(){const o=this._getInternalNodes();assert(o.length>0,"ToneAudioNode does not have any internal nodes");const $=o[0];return{channelCount:$.channelCount,channelCountMode:$.channelCountMode,channelInterpretation:$.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(o){const $=this._getChannelProperties();this._setChannelProperties(Object.assign($,{channelCount:o}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(o){const $=this._getChannelProperties();this._setChannelProperties(Object.assign($,{channelCountMode:o}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(o){const $=this._getChannelProperties();this._setChannelProperties(Object.assign($,{channelInterpretation:o}))}connect(o,$=0,j=0){return connect(this,o,$,j),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return warn("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(o,$=0,j=0){return disconnect(this,o,$,j),this}chain(...o){return connectSeries(this,...o),this}fan(...o){return o.forEach($=>this.connect($)),this}dispose(){return super.dispose(),isDefined(this.input)&&(this.input instanceof ToneAudioNode?this.input.dispose():isAudioNode(this.input)&&this.input.disconnect()),isDefined(this.output)&&(this.output instanceof ToneAudioNode?this.output.dispose():isAudioNode(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function connectSeries(...a){const o=a.shift();a.reduce(($,j)=>($ instanceof ToneAudioNode?$.connect(j):isAudioNode($)&&connect($,j),j),o)}function connect(a,o,$=0,j=0){for(assert(isDefined(a),"Cannot connect from undefined node"),assert(isDefined(o),"Cannot connect to undefined node"),(o instanceof ToneAudioNode||isAudioNode(o))&&assert(o.numberOfInputs>0,"Cannot connect to node with no inputs"),assert(a.numberOfOutputs>0,"Cannot connect from node with no outputs");o instanceof ToneAudioNode||o instanceof Param;)isDefined(o.input)&&(o=o.input);for(;a instanceof ToneAudioNode;)isDefined(a.output)&&(a=a.output);isAudioParam(o)?a.connect(o,$):a.connect(o,$,j)}function disconnect(a,o,$=0,j=0){if(isDefined(o))for(;o instanceof ToneAudioNode;)o=o.input;for(;!isAudioNode(a);)isDefined(a.output)&&(a=a.output);isAudioParam(o)?a.disconnect(o,$):isAudioNode(o)?a.disconnect(o,$,j):a.disconnect()}class Gain extends ToneAudioNode{constructor(){super(optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const o=optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"]);this.gain=new Param({context:this.context,convert:o.convert,param:this._gainNode.gain,units:o.units,value:o.gain,minValue:o.minValue,maxValue:o.maxValue}),readOnly(this,"gain")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class OneShotSource extends ToneAudioNode{constructor(o){super(o),this.onended=noOp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gain({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function($){const j=this.toSeconds($);return this._startTime!==-1&&j>=this._startTime&&(this._stopTime===-1||j<=this._stopTime)?"started":"stopped"},this._fadeIn=o.fadeIn,this._fadeOut=o.fadeOut,this._curve=o.curve,this.onended=o.onended}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:noOp})}_startGain(o,$=1){assert(this._startTime===-1,"Source cannot be started more than once");const j=this.toSeconds(this._fadeIn);return this._startTime=o+j,this._startTime=Math.max(this._startTime,this.context.currentTime),j>0?(this._gainNode.gain.setValueAtTime(0,o),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime($,o+j):this._gainNode.gain.exponentialApproachValueAtTime($,o,j)):this._gainNode.gain.setValueAtTime($,o),this}stop(o){return this.log("stop",o),this._stopGain(this.toSeconds(o)),this}_stopGain(o){assert(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const $=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(o)+$,this._stopTime=Math.max(this._stopTime,this.context.currentTime),$>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,$,o):this._gainNode.gain.targetRampTo(0,$,o):(this._gainNode.gain.cancelAndHoldAtTime(o),this._gainNode.gain.setValueAtTime(0,o)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const j=this._curve==="exponential"?$*2:0;this._stopSource(this.now()+j),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==noOp&&(this.onended(this),this.onended=noOp,!this.context.isOffline)){const o=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(o):setTimeout(o,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),assert(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ToneConstantSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const o=optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"]);connect(this._source,this._gainNode),this.offset=new Param({context:this.context,convert:o.convert,param:this._source.offset,units:o.units,value:o.offset,minValue:o.minValue,maxValue:o.maxValue})}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{convert:!0,offset:1,units:"number"})}start(o){const $=this.toSeconds(o);return this.log("start",$),this._startGain($),this._source.start($),this}_stopSource(o){this._source.stop(o)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Signal extends ToneAudioNode{constructor(){super(optionsFromArguments(Signal.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const o=optionsFromArguments(Signal.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ToneConstantSource({context:this.context,convert:o.convert,offset:o.value,units:o.units,minValue:o.minValue,maxValue:o.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,units:"number",value:0})}connect(o,$=0,j=0){return connectSignal(this,o,$,j),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(o,$){return this._param.setValueAtTime(o,$),this}getValueAtTime(o){return this._param.getValueAtTime(o)}setRampPoint(o){return this._param.setRampPoint(o),this}linearRampToValueAtTime(o,$){return this._param.linearRampToValueAtTime(o,$),this}exponentialRampToValueAtTime(o,$){return this._param.exponentialRampToValueAtTime(o,$),this}exponentialRampTo(o,$,j){return this._param.exponentialRampTo(o,$,j),this}linearRampTo(o,$,j){return this._param.linearRampTo(o,$,j),this}targetRampTo(o,$,j){return this._param.targetRampTo(o,$,j),this}exponentialApproachValueAtTime(o,$,j){return this._param.exponentialApproachValueAtTime(o,$,j),this}setTargetAtTime(o,$,j){return this._param.setTargetAtTime(o,$,j),this}setValueCurveAtTime(o,$,j,_e){return this._param.setValueCurveAtTime(o,$,j,_e),this}cancelScheduledValues(o){return this._param.cancelScheduledValues(o),this}cancelAndHoldAtTime(o){return this._param.cancelAndHoldAtTime(o),this}rampTo(o,$,j){return this._param.rampTo(o,$,j),this}get value(){return this._param.value}set value(o){this._param.value=o}get convert(){return this._param.convert}set convert(o){this._param.convert=o}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(o){this._param.overridden=o}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(o){return this._param.apply(o),this}}function connectSignal(a,o,$,j){(o instanceof Param||isAudioParam(o)||o instanceof Signal&&o.override)&&(o.cancelScheduledValues(0),o.setValueAtTime(0,0),o instanceof Signal&&(o.overridden=!0)),connect(a,o,$,j)}class TickParam extends Param{constructor(){super(optionsFromArguments(TickParam.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Timeline(1/0),this._multiplier=1;const o=optionsFromArguments(TickParam.getDefaults(),arguments,["value"]);this._multiplier=o.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(o.value)}),this.setValueAtTime(o.value,0)}static getDefaults(){return Object.assign(Param.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(o,$,j){$=this.toSeconds($),this.setRampPoint($);const _e=this._fromType(o),et=this._events.get($),tt=Math.round(Math.max(1/j,1));for(let rt=0;rt<=tt;rt++){const ot=j*rt+$,st=this._exponentialApproach(et.time,et.value,_e,j,ot);this.linearRampToValueAtTime(this._toType(st),ot)}return this}setValueAtTime(o,$){const j=this.toSeconds($);super.setValueAtTime(o,$);const _e=this._events.get(j),et=this._events.previousEvent(_e),tt=this._getTicksUntilEvent(et,j);return _e.ticks=Math.max(tt,0),this}linearRampToValueAtTime(o,$){const j=this.toSeconds($);super.linearRampToValueAtTime(o,$);const _e=this._events.get(j),et=this._events.previousEvent(_e),tt=this._getTicksUntilEvent(et,j);return _e.ticks=Math.max(tt,0),this}exponentialRampToValueAtTime(o,$){$=this.toSeconds($);const j=this._fromType(o),_e=this._events.get($),et=Math.round(Math.max(($-_e.time)*10,1)),tt=($-_e.time)/et;for(let rt=0;rt<=et;rt++){const ot=tt*rt+_e.time,st=this._exponentialInterpolate(_e.time,_e.value,$,j,ot);this.linearRampToValueAtTime(this._toType(st),ot)}return this}_getTicksUntilEvent(o,$){if(o===null)o={ticks:0,time:0,type:"setValueAtTime",value:0};else if(isUndef(o.ticks)){const tt=this._events.previousEvent(o);o.ticks=this._getTicksUntilEvent(tt,o.time)}const j=this._fromType(this.getValueAtTime(o.time));let _e=this._fromType(this.getValueAtTime($));const et=this._events.get($);return et&&et.time===$&&et.type==="setValueAtTime"&&(_e=this._fromType(this.getValueAtTime($-this.sampleTime))),.5*($-o.time)*(j+_e)+o.ticks}getTicksAtTime(o){const $=this.toSeconds(o),j=this._events.get($);return Math.max(this._getTicksUntilEvent(j,$),0)}getDurationOfTicks(o,$){const j=this.toSeconds($),_e=this.getTicksAtTime($);return this.getTimeOfTick(_e+o)-j}getTimeOfTick(o){const $=this._events.get(o,"ticks"),j=this._events.getAfter(o,"ticks");if($&&$.ticks===o)return $.time;if($&&j&&j.type==="linearRampToValueAtTime"&&$.value!==j.value){const _e=this._fromType(this.getValueAtTime($.time)),tt=(this._fromType(this.getValueAtTime(j.time))-_e)/(j.time-$.time),rt=Math.sqrt(Math.pow(_e,2)-2*tt*($.ticks-o)),ot=(-_e+rt)/tt,st=(-_e-rt)/tt;return(ot>0?ot:st)+$.time}else return $?$.value===0?1/0:$.time+(o-$.ticks)/$.value:o/this._initialValue}ticksToTime(o,$){return this.getDurationOfTicks(o,$)}timeToTicks(o,$){const j=this.toSeconds($),_e=this.toSeconds(o),et=this.getTicksAtTime(j);return this.getTicksAtTime(j+_e)-et}_fromType(o){return this.units==="bpm"&&this.multiplier?1/(60/o/this.multiplier):super._fromType(o)}_toType(o){return this.units==="bpm"&&this.multiplier?o/this.multiplier*60:super._toType(o)}get multiplier(){return this._multiplier}set multiplier(o){const $=this.value;this._multiplier=o,this.cancelScheduledValues(0),this.setValueAtTime($,0)}}class TickSignal extends Signal{constructor(){super(optionsFromArguments(TickSignal.getDefaults(),arguments,["value"])),this.name="TickSignal";const o=optionsFromArguments(TickSignal.getDefaults(),arguments,["value"]);this.input=this._param=new TickParam({context:this.context,convert:o.convert,multiplier:o.multiplier,param:this._constantSource.offset,units:o.units,value:o.value})}static getDefaults(){return Object.assign(Signal.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(o,$){return this._param.ticksToTime(o,$)}timeToTicks(o,$){return this._param.timeToTicks(o,$)}getTimeOfTick(o){return this._param.getTimeOfTick(o)}getDurationOfTicks(o,$){return this._param.getDurationOfTicks(o,$)}getTicksAtTime(o){return this._param.getTicksAtTime(o)}get multiplier(){return this._param.multiplier}set multiplier(o){this._param.multiplier=o}dispose(){return super.dispose(),this._param.dispose(),this}}class TickSource extends ToneWithContext{constructor(){super(optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new StateTimeline,this._tickOffset=new Timeline;const o=optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"]);this.frequency=new TickSignal({context:this.context,units:o.units,value:o.frequency}),readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ToneWithContext.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(o,$){const j=this.toSeconds(o);return this._state.getValueAtTime(j)!=="started"&&(this._state.setStateAtTime("started",j),isDefined($)&&this.setTicksAtTime($,j)),this}stop(o){const $=this.toSeconds(o);if(this._state.getValueAtTime($)==="stopped"){const j=this._state.get($);j&&j.time>0&&(this._tickOffset.cancel(j.time),this._state.cancel(j.time))}return this._state.cancel($),this._state.setStateAtTime("stopped",$),this.setTicksAtTime(0,$),this}pause(o){const $=this.toSeconds(o);return this._state.getValueAtTime($)==="started"&&this._state.setStateAtTime("paused",$),this}cancel(o){return o=this.toSeconds(o),this._state.cancel(o),this._tickOffset.cancel(o),this}getTicksAtTime(o){const $=this.toSeconds(o),j=this._state.getLastState("stopped",$),_e={state:"paused",time:$};this._state.add(_e);let et=j,tt=0;return this._state.forEachBetween(j.time,$+this.sampleTime,rt=>{let ot=et.time;const st=this._tickOffset.get(rt.time);st&&st.time>=et.time&&(tt=st.ticks,ot=st.time),et.state==="started"&&rt.state!=="started"&&(tt+=this.frequency.getTicksAtTime(rt.time)-this.frequency.getTicksAtTime(ot)),et=rt}),this._state.remove(_e),tt}get ticks(){return this.getTicksAtTime(this.now())}set ticks(o){this.setTicksAtTime(o,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(o){const $=this.now(),j=this.frequency.timeToTicks(o,$);this.setTicksAtTime(j,$)}getSecondsAtTime(o){o=this.toSeconds(o);const $=this._state.getLastState("stopped",o),j={state:"paused",time:o};this._state.add(j);let _e=$,et=0;return this._state.forEachBetween($.time,o+this.sampleTime,tt=>{let rt=_e.time;const ot=this._tickOffset.get(tt.time);ot&&ot.time>=_e.time&&(et=ot.seconds,rt=ot.time),_e.state==="started"&&tt.state!=="started"&&(et+=tt.time-rt),_e=tt}),this._state.remove(j),et}setTicksAtTime(o,$){return $=this.toSeconds($),this._tickOffset.cancel($),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(o,$),ticks:o,time:$}),this}getStateAtTime(o){return o=this.toSeconds(o),this._state.getValueAtTime(o)}getTimeOfTick(o,$=this.now()){const j=this._tickOffset.get($),_e=this._state.get($),et=Math.max(j.time,_e.time),tt=this.frequency.getTicksAtTime(et)+o-j.ticks;return this.frequency.getTimeOfTick(tt)}forEachTickBetween(o,$,j){let _e=this._state.get(o);this._state.forEachBetween(o,$,tt=>{_e&&_e.state==="started"&&tt.state!=="started"&&this.forEachTickBetween(Math.max(_e.time,o),tt.time-this.sampleTime,j),_e=tt});let et=null;if(_e&&_e.state==="started"){const tt=Math.max(_e.time,o),rt=this.frequency.getTicksAtTime(tt),ot=this.frequency.getTicksAtTime(_e.time),st=rt-ot;let at=Math.ceil(st)-st;at=EQ(at,1)?0:at;let ut=this.frequency.getTimeOfTick(rt+at);for(;ut<$;){try{j(ut,Math.round(this.getTicksAtTime(ut)))}catch(ct){et=ct;break}ut+=this.frequency.getDurationOfTicks(1,ut)}}if(et)throw et;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Clock extends ToneWithContext{constructor(){super(optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=noOp,this._lastUpdate=0,this._state=new StateTimeline("stopped"),this._boundLoop=this._loop.bind(this);const o=optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"]);this.callback=o.callback,this._tickSource=new TickSource({context:this.context,frequency:o.frequency,units:o.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(o,$){assertContextRunning(this.context);const j=this.toSeconds(o);return this.log("start",j),this._state.getValueAtTime(j)!=="started"&&(this._state.setStateAtTime("started",j),this._tickSource.start(j,$),j<this._lastUpdate&&this.emit("start",j,$)),this}stop(o){const $=this.toSeconds(o);return this.log("stop",$),this._state.cancel($),this._state.setStateAtTime("stopped",$),this._tickSource.stop($),$<this._lastUpdate&&this.emit("stop",$),this}pause(o){const $=this.toSeconds(o);return this._state.getValueAtTime($)==="started"&&(this._state.setStateAtTime("paused",$),this._tickSource.pause($),$<this._lastUpdate&&this.emit("pause",$)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(o){this._tickSource.ticks=o}get seconds(){return this._tickSource.seconds}set seconds(o){this._tickSource.seconds=o}getSecondsAtTime(o){return this._tickSource.getSecondsAtTime(o)}setTicksAtTime(o,$){return this._tickSource.setTicksAtTime(o,$),this}getTimeOfTick(o,$=this.now()){return this._tickSource.getTimeOfTick(o,$)}getTicksAtTime(o){return this._tickSource.getTicksAtTime(o)}nextTickTime(o,$){const j=this.toSeconds($),_e=this.getTicksAtTime(j);return this._tickSource.getTimeOfTick(_e+o,j)}_loop(){const o=this._lastUpdate,$=this.now();this._lastUpdate=$,this.log("loop",o,$),o!==$&&(this._state.forEachBetween(o,$,j=>{switch(j.state){case"started":const _e=this._tickSource.getTicksAtTime(j.time);this.emit("start",j.time,_e);break;case"stopped":j.time!==0&&this.emit("stop",j.time);break;case"paused":this.emit("pause",j.time);break}}),this._tickSource.forEachTickBetween(o,$,(j,_e)=>{this.callback(j,_e)}))}getStateAtTime(o){const $=this.toSeconds(o);return this._state.getValueAtTime($)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Emitter.mixin(Clock);class Delay extends ToneAudioNode{constructor(){super(optionsFromArguments(Delay.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const o=optionsFromArguments(Delay.getDefaults(),arguments,["delayTime","maxDelay"]),$=this.toSeconds(o.maxDelay);this._maxDelay=Math.max($,this.toSeconds(o.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay($),this.delayTime=new Param({context:this.context,param:this._delayNode.delayTime,units:"time",value:o.delayTime,minValue:0,maxValue:this.maxDelay}),readOnly(this,"delayTime")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class ToneAudioBuffers extends Tone{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const o=optionsFromArguments(ToneAudioBuffers.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=o.baseUrl,Object.keys(o.urls).forEach($=>{this._loadingCount++;const j=o.urls[$];this.add($,j,this._bufferLoaded.bind(this,o.onload),o.onerror)})}static getDefaults(){return{baseUrl:"",onerror:noOp,onload:noOp,urls:{}}}has(o){return this._buffers.has(o.toString())}get(o){return assert(this.has(o),`ToneAudioBuffers has no buffer named: ${o}`),this._buffers.get(o.toString())}_bufferLoaded(o){this._loadingCount--,this._loadingCount===0&&o&&o()}get loaded(){return Array.from(this._buffers).every(([o,$])=>$.loaded)}add(o,$,j=noOp,_e=noOp){return isString($)?this._buffers.set(o.toString(),new ToneAudioBuffer(this.baseUrl+$,j,_e)):this._buffers.set(o.toString(),new ToneAudioBuffer($,j,_e)),this}dispose(){return super.dispose(),this._buffers.forEach(o=>o.dispose()),this._buffers.clear(),this}}class TicksClass extends TransportTimeClass{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(o){return this._getPPQ()*o}_secondsToUnits(o){return Math.floor(o/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(o){return o}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Draw extends ToneWithContext{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Timeline,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(o,$){return this._events.add({callback:o,time:this.toSeconds($)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(o){return this._events.cancel(this.toSeconds(o)),this}_drawLoop(){const o=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=o;){const $=this._events.shift();$&&o-$.time<=this.expiration&&$.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}onContextInit(a=>{a.draw=new Draw({context:a})});onContextClose(a=>{a.draw.dispose()});class IntervalTimeline extends Tone{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(o){assert(isDefined(o.time),"Events must have a time property"),assert(isDefined(o.duration),"Events must have a duration parameter"),o.time=o.time.valueOf();let $=new IntervalNode(o.time,o.time+o.duration,o);for(this._root===null?this._root=$:this._root.insert($),this._length++;$!==null;)$.updateHeight(),$.updateMax(),this._rebalance($),$=$.parent;return this}remove(o){if(this._root!==null){const $=[];this._root.search(o.time,$);for(const j of $)if(j.event===o){this._removeNode(j),this._length--;break}}return this}get length(){return this._length}cancel(o){return this.forEachFrom(o,$=>this.remove($)),this}_setRoot(o){this._root=o,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(o,$){o.parent!==null?(o.isLeftChild()?o.parent.left=$:o.parent.right=$,this._rebalance(o.parent)):this._setRoot($)}_removeNode(o){if(o.left===null&&o.right===null)this._replaceNodeInParent(o,null);else if(o.right===null)this._replaceNodeInParent(o,o.left);else if(o.left===null)this._replaceNodeInParent(o,o.right);else{const $=o.getBalance();let j,_e=null;if($>0)if(o.left.right===null)j=o.left,j.right=o.right,_e=j;else{for(j=o.left.right;j.right!==null;)j=j.right;j.parent&&(j.parent.right=j.left,_e=j.parent,j.left=o.left,j.right=o.right)}else if(o.right.left===null)j=o.right,j.left=o.left,_e=j;else{for(j=o.right.left;j.left!==null;)j=j.left;j.parent&&(j.parent.left=j.right,_e=j.parent,j.left=o.left,j.right=o.right)}o.parent!==null?o.isLeftChild()?o.parent.left=j:o.parent.right=j:this._setRoot(j),_e&&this._rebalance(_e)}o.dispose()}_rotateLeft(o){const $=o.parent,j=o.isLeftChild(),_e=o.right;_e&&(o.right=_e.left,_e.left=o),$!==null?j?$.left=_e:$.right=_e:this._setRoot(_e)}_rotateRight(o){const $=o.parent,j=o.isLeftChild(),_e=o.left;_e&&(o.left=_e.right,_e.right=o),$!==null?j?$.left=_e:$.right=_e:this._setRoot(_e)}_rebalance(o){const $=o.getBalance();$>1&&o.left?o.left.getBalance()<0?this._rotateLeft(o.left):this._rotateRight(o):$<-1&&o.right&&(o.right.getBalance()>0?this._rotateRight(o.right):this._rotateLeft(o))}get(o){if(this._root!==null){const $=[];if(this._root.search(o,$),$.length>0){let j=$[0];for(let _e=1;_e<$.length;_e++)$[_e].low>j.low&&(j=$[_e]);return j.event}}return null}forEach(o){if(this._root!==null){const $=[];this._root.traverse(j=>$.push(j)),$.forEach(j=>{j.event&&o(j.event)})}return this}forEachAtTime(o,$){if(this._root!==null){const j=[];this._root.search(o,j),j.forEach(_e=>{_e.event&&$(_e.event)})}return this}forEachFrom(o,$){if(this._root!==null){const j=[];this._root.searchAfter(o,j),j.forEach(_e=>{_e.event&&$(_e.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(o=>o.dispose()),this._root=null,this}}class IntervalNode{constructor(o,$,j){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=j,this.low=o,this.high=$,this.max=this.high}insert(o){o.low<=this.low?this.left===null?this.left=o:this.left.insert(o):this.right===null?this.right=o:this.right.insert(o)}search(o,$){o>this.max||(this.left!==null&&this.left.search(o,$),this.low<=o&&this.high>o&&$.push(this),!(this.low>o)&&this.right!==null&&this.right.search(o,$))}searchAfter(o,$){this.low>=o&&($.push(this),this.left!==null&&this.left.searchAfter(o,$)),this.right!==null&&this.right.searchAfter(o,$)}traverse(o){o(this),this.left!==null&&this.left.traverse(o),this.right!==null&&this.right.traverse(o)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let o=0;return this.left!==null&&this.right!==null?o=this.left.height-this.right.height:this.left!==null?o=this.left.height+1:this.right!==null&&(o=-(this.right.height+1)),o}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(o){this._left=o,o!==null&&(o.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(o){this._right=o,o!==null&&(o.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Volume extends ToneAudioNode{constructor(){super(optionsFromArguments(Volume.getDefaults(),arguments,["volume"])),this.name="Volume";const o=optionsFromArguments(Volume.getDefaults(),arguments,["volume"]);this.input=this.output=new Gain({context:this.context,gain:o.volume,units:"decibels"}),this.volume=this.output.gain,readOnly(this,"volume"),this._unmutedVolume=o.volume,this.mute=o.mute}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(o){!this.mute&&o?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!o&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Destination extends ToneAudioNode{constructor(){super(optionsFromArguments(Destination.getDefaults(),arguments)),this.name="Destination",this.input=new Volume({context:this.context}),this.output=new Gain({context:this.context}),this.volume=this.input.volume;const o=optionsFromArguments(Destination.getDefaults(),arguments);connectSeries(this.input,this.output,this.context.rawContext.destination),this.mute=o.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(o){this.input.mute=o}chain(...o){return this.input.disconnect(),o.unshift(this.input),o.push(this.output),connectSeries(...o),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}onContextInit(a=>{a.destination=new Destination({context:a})});onContextClose(a=>{a.destination.dispose()});class TimelineValue extends Tone{constructor(o){super(),this.name="TimelineValue",this._timeline=new Timeline({memory:10}),this._initialValue=o}set(o,$){return this._timeline.add({value:o,time:$}),this}get(o){const $=this._timeline.get(o);return $?$.value:this._initialValue}}class TransportEvent{constructor(o,$){this.id=TransportEvent._eventId++;const j=Object.assign(TransportEvent.getDefaults(),$);this.transport=o,this.callback=j.callback,this._once=j.once,this.time=j.time}static getDefaults(){return{callback:noOp,once:!1,time:0}}invoke(o){this.callback&&(this.callback(o),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}TransportEvent._eventId=0;class TransportRepeatEvent extends TransportEvent{constructor(o,$){super(o,$),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const j=Object.assign(TransportRepeatEvent.getDefaults(),$);this.duration=new TicksClass(o.context,j.duration).valueOf(),this._interval=new TicksClass(o.context,j.interval).valueOf(),this._nextTick=j.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},TransportEvent.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(o){this._createEvents(o),super.invoke(o)}_createEvents(o){const $=this.transport.getTicksAtTime(o);$>=this.time&&$>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()))}_restart(o){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const $=this.transport.getTicksAtTime(o);$>this.time&&(this._nextTick=this.time+Math.ceil(($-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Transport extends ToneWithContext{constructor(){super(optionsFromArguments(Transport.getDefaults(),arguments)),this.name="Transport",this._loop=new TimelineValue(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Timeline,this._repeatedEvents=new IntervalTimeline,this._syncedSignals=[],this._swingAmount=0;const o=optionsFromArguments(Transport.getDefaults(),arguments);this._ppq=o.ppq,this._clock=new Clock({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=o.ppq,this.bpm.setValueAtTime(o.bpm,0),readOnly(this,"bpm"),this._timeSignature=o.timeSignature,this._swingTicks=o.ppq/2}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(o,$){if(this._loop.get(o)&&$>=this._loopEnd&&(this.emit("loopEnd",o),this._clock.setTicksAtTime(this._loopStart,o),$=this._loopStart,this.emit("loopStart",o,this._clock.getSecondsAtTime(o)),this.emit("loop",o)),this._swingAmount>0&&$%this._ppq!==0&&$%(this._swingTicks*2)!==0){const j=$%(this._swingTicks*2)/(this._swingTicks*2),_e=Math.sin(j*Math.PI)*this._swingAmount;o+=new TicksClass(this.context,this._swingTicks*2/3).toSeconds()*_e}this._timeline.forEachAtTime($,j=>j.invoke(o))}schedule(o,$){const j=new TransportEvent(this,{callback:o,time:new TransportTimeClass(this.context,$).toTicks()});return this._addEvent(j,this._timeline)}scheduleRepeat(o,$,j,_e=1/0){const et=new TransportRepeatEvent(this,{callback:o,duration:new TimeClass(this.context,_e).toTicks(),interval:new TimeClass(this.context,$).toTicks(),time:new TransportTimeClass(this.context,j).toTicks()});return this._addEvent(et,this._repeatedEvents)}scheduleOnce(o,$){const j=new TransportEvent(this,{callback:o,once:!0,time:new TransportTimeClass(this.context,$).toTicks()});return this._addEvent(j,this._timeline)}clear(o){if(this._scheduledEvents.hasOwnProperty(o)){const $=this._scheduledEvents[o.toString()];$.timeline.remove($.event),$.event.dispose(),delete this._scheduledEvents[o.toString()]}return this}_addEvent(o,$){return this._scheduledEvents[o.id.toString()]={event:o,timeline:$},$.add(o),o.id}cancel(o=0){const $=this.toTicks(o);return this._timeline.forEachFrom($,j=>this.clear(j.id)),this._repeatedEvents.forEachFrom($,j=>this.clear(j.id)),this}_bindClockEvents(){this._clock.on("start",(o,$)=>{$=new TicksClass(this.context,$).toSeconds(),this.emit("start",o,$)}),this._clock.on("stop",o=>{this.emit("stop",o)}),this._clock.on("pause",o=>{this.emit("pause",o)})}get state(){return this._clock.getStateAtTime(this.now())}start(o,$){let j;return isDefined($)&&(j=this.toTicks($)),this._clock.start(o,j),this}stop(o){return this._clock.stop(o),this}pause(o){return this._clock.pause(o),this}toggle(o){return o=this.toSeconds(o),this._clock.getStateAtTime(o)!=="started"?this.start(o):this.stop(o),this}get timeSignature(){return this._timeSignature}set timeSignature(o){isArray(o)&&(o=o[0]/o[1]*4),this._timeSignature=o}get loopStart(){return new TimeClass(this.context,this._loopStart,"i").toSeconds()}set loopStart(o){this._loopStart=this.toTicks(o)}get loopEnd(){return new TimeClass(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(o){this._loopEnd=this.toTicks(o)}get loop(){return this._loop.get(this.now())}set loop(o){this._loop.set(o,this.now())}setLoopPoints(o,$){return this.loopStart=o,this.loopEnd=$,this}get swing(){return this._swingAmount}set swing(o){this._swingAmount=o}get swingSubdivision(){return new TicksClass(this.context,this._swingTicks).toNotation()}set swingSubdivision(o){this._swingTicks=this.toTicks(o)}get position(){const o=this.now(),$=this._clock.getTicksAtTime(o);return new TicksClass(this.context,$).toBarsBeatsSixteenths()}set position(o){const $=this.toTicks(o);this.ticks=$}get seconds(){return this._clock.seconds}set seconds(o){const $=this.now(),j=this._clock.frequency.timeToTicks(o,$);this.ticks=j}get progress(){if(this.loop){const o=this.now();return(this._clock.getTicksAtTime(o)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(o){if(this._clock.ticks!==o){const $=this.now();if(this.state==="started"){const j=this._clock.getTicksAtTime($),_e=this._clock.frequency.getDurationOfTicks(Math.ceil(j)-j,$),et=$+_e;this.emit("stop",et),this._clock.setTicksAtTime(o,et),this.emit("start",et,this._clock.getSecondsAtTime(et))}else this._clock.setTicksAtTime(o,$)}}getTicksAtTime(o){return Math.round(this._clock.getTicksAtTime(o))}getSecondsAtTime(o){return this._clock.getSecondsAtTime(o)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(o){this._clock.frequency.multiplier=o}nextSubdivision(o){if(o=this.toTicks(o),this.state!=="started")return 0;{const $=this.now(),j=this.getTicksAtTime($),_e=o-j%o;return this._clock.nextTickTime(_e,$)}}syncSignal(o,$){if(!$){const _e=this.now();if(o.getValueAtTime(_e)!==0){const tt=1/(60/this.bpm.getValueAtTime(_e)/this.PPQ);$=o.getValueAtTime(_e)/tt}else $=0}const j=new Gain($);return this.bpm.connect(j),j.connect(o._param),this._syncedSignals.push({initial:o.value,ratio:j,signal:o}),o.value=0,this}unsyncSignal(o){for(let $=this._syncedSignals.length-1;$>=0;$--){const j=this._syncedSignals[$];j.signal===o&&(j.ratio.dispose(),j.signal.value=j.initial,this._syncedSignals.splice($,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),writable(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Emitter.mixin(Transport);onContextInit(a=>{a.transport=new Transport({context:a})});onContextClose(a=>{a.transport.dispose()});class Source extends ToneAudioNode{constructor(o){super(o),this.input=void 0,this._state=new StateTimeline("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=noOp,this._syncedStop=noOp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Volume({context:this.context,mute:o.mute,volume:o.volume}),this.volume=this._volume.volume,readOnly(this,"volume"),this.onstop=o.onstop}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,onstop:noOp,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(o){this._volume.mute=o}_clampToCurrentTime(o){return this._synced?o:Math.max(o,this.context.currentTime)}start(o,$,j){let _e=isUndef(o)&&this._synced?this.context.transport.seconds:this.toSeconds(o);if(_e=this._clampToCurrentTime(_e),!this._synced&&this._state.getValueAtTime(_e)==="started")assert(GT(_e,this._state.get(_e).time),"Start time must be strictly greater than previous start time"),this._state.cancel(_e),this._state.setStateAtTime("started",_e),this.log("restart",_e),this.restart(_e,$,j);else if(this.log("start",_e),this._state.setStateAtTime("started",_e),this._synced){const et=this._state.get(_e);et&&(et.offset=this.toSeconds(defaultArg($,0)),et.duration=j?this.toSeconds(j):void 0);const tt=this.context.transport.schedule(rt=>{this._start(rt,$,j)},_e);this._scheduled.push(tt),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>_e&&this._syncedStart(this.now(),this.context.transport.seconds)}else assertContextRunning(this.context),this._start(_e,$,j);return this}stop(o){let $=isUndef(o)&&this._synced?this.context.transport.seconds:this.toSeconds(o);if($=this._clampToCurrentTime($),this._state.getValueAtTime($)==="started"||isDefined(this._state.getNextState("started",$))){if(this.log("stop",$),!this._synced)this._stop($);else{const j=this.context.transport.schedule(this._stop.bind(this),$);this._scheduled.push(j)}this._state.cancel($),this._state.setStateAtTime("stopped",$)}return this}restart(o,$,j){return o=this.toSeconds(o),this._state.getValueAtTime(o)==="started"&&(this._state.cancel(o),this._restart(o,$,j)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(o,$)=>{if($>0){const j=this._state.get($);if(j&&j.state==="started"&&j.time!==$){const _e=$-this.toSeconds(j.time);let et;j.duration&&(et=this.toSeconds(j.duration)-_e),this._start(o,this.toSeconds(j.offset)+_e,et)}}},this._syncedStop=o=>{const $=this.context.transport.getSecondsAtTime(Math.max(o-this.sampleTime,0));this._state.getValueAtTime($)==="started"&&this._stop(o)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(o=>this.context.transport.clear(o)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=noOp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ToneBufferSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const o=optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"]);connect(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Param({context:this.context,param:this._source.playbackRate,units:"positive",value:o.playbackRate}),this.loop=o.loop,this.loopStart=o.loopStart,this.loopEnd=o.loopEnd,this._buffer=new ToneAudioBuffer(o.url,o.onload,o.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{url:new ToneAudioBuffer,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(o){this._fadeIn=o}get fadeOut(){return this._fadeOut}set fadeOut(o){this._fadeOut=o}get curve(){return this._curve}set curve(o){this._curve=o}start(o,$,j,_e=1){assert(this.buffer.loaded,"buffer is either not set or not loaded");const et=this.toSeconds(o);this._startGain(et,_e),this.loop?$=defaultArg($,this.loopStart):$=defaultArg($,0);let tt=Math.max(this.toSeconds($),0);if(this.loop){const rt=this.toSeconds(this.loopEnd)||this.buffer.duration,ot=this.toSeconds(this.loopStart),st=rt-ot;GTE(tt,rt)&&(tt=(tt-ot)%st+ot),EQ(tt,this.buffer.duration)&&(tt=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,LT(tt,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(et,tt)),isDefined(j)){let rt=this.toSeconds(j);rt=Math.max(rt,0),this.stop(et+rt)}return this}_stopSource(o){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(o)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(o){this._source.loopStart=this.toSeconds(o)}get loopEnd(){return this._source.loopEnd}set loopEnd(o){this._source.loopEnd=this.toSeconds(o)}get buffer(){return this._buffer}set buffer(o){this._buffer.set(o)}get loop(){return this._source.loop}set loop(o){this._source.loop=o,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function generateWaveform(a,o){return __awaiter(this,void 0,void 0,function*(){const $=o/a.context.sampleRate,j=new OfflineContext(1,$,a.context.sampleRate);return new a.constructor(Object.assign(a.get(),{frequency:2/$,detune:0,context:j})).toDestination().start(0),(yield j.render()).getChannelData(0)})}class ToneOscillatorNode extends OneShotSource{constructor(){super(optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const o=optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"]);connect(this._oscillator,this._gainNode),this.type=o.type,this.frequency=new Param({context:this.context,param:this._oscillator.frequency,units:"frequency",value:o.frequency}),this.detune=new Param({context:this.context,param:this._oscillator.detune,units:"cents",value:o.detune}),readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(o){const $=this.toSeconds(o);return this.log("start",$),this._startGain($),this._oscillator.start($),this}_stopSource(o){this._oscillator.stop(o)}setPeriodicWave(o){return this._oscillator.setPeriodicWave(o),this}get type(){return this._oscillator.type}set type(o){this._oscillator.type=o}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oscillator extends Source{constructor(){super(optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const o=optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:o.frequency}),readOnly(this,"frequency"),this.detune=new Signal({context:this.context,units:"cents",value:o.detune}),readOnly(this,"detune"),this._partials=o.partials,this._partialCount=o.partialCount,this._type=o.type,o.partialCount&&o.type!=="custom"&&(this._type=this.baseType+o.partialCount.toString()),this.phase=o.phase}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(o){const $=this.toSeconds(o),j=new ToneOscillatorNode({context:this.context,onended:()=>this.onstop(this)});this._oscillator=j,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start($)}_stop(o){const $=this.toSeconds(o);this._oscillator&&this._oscillator.stop($)}_restart(o){const $=this.toSeconds(o);return this.log("restart",$),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel($),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oscillator._periodicWaveCache.find($=>$.phase===this._phase&&deepEquals($.partials,this._partials));{const o=Oscillator._periodicWaveCache.find($=>$.type===this._type&&$.phase===this._phase);return this._partialCount=o?o.partialCount:this._partialCount,o}}get type(){return this._type}set type(o){this._type=o;const $=["sine","square","sawtooth","triangle"].indexOf(o)!==-1;if(this._phase===0&&$)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=o);else{const j=this._getCachedPeriodicWave();if(isDefined(j)){const{partials:_e,wave:et}=j;this._wave=et,this._partials=_e,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[_e,et]=this._getRealImaginary(o,this._phase),tt=this.context.createPeriodicWave(_e,et);this._wave=tt,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oscillator._periodicWaveCache.push({imag:et,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:_e,type:this._type,wave:this._wave}),Oscillator._periodicWaveCache.length>100&&Oscillator._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(o){this.partialCount&&this._type!=="custom"&&o!=="custom"?this.type=o+this.partialCount:this.type=o}get partialCount(){return this._partialCount}set partialCount(o){assertRange(o,0);let $=this._type;const j=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(j&&($=j[1]),this._type!=="custom")o===0?this.type=$:this.type=$+o.toString();else{const _e=new Float32Array(o);this._partials.forEach((et,tt)=>_e[tt]=et),this._partials=Array.from(_e),this.type=this._type}}_getRealImaginary(o,$){let _e=2048;const et=new Float32Array(_e),tt=new Float32Array(_e);let rt=1;if(o==="custom"){if(rt=this._partials.length+1,this._partialCount=this._partials.length,_e=rt,this._partials.length===0)return[et,tt]}else{const ot=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(o);ot?(rt=parseInt(ot[2],10)+1,this._partialCount=parseInt(ot[2],10),o=ot[1],rt=Math.max(rt,2),_e=rt):this._partialCount=0,this._partials=[]}for(let ot=1;ot<_e;++ot){const st=2/(ot*Math.PI);let at;switch(o){case"sine":at=ot<=rt?1:0,this._partials[ot-1]=at;break;case"square":at=ot&1?2*st:0,this._partials[ot-1]=at;break;case"sawtooth":at=st*(ot&1?1:-1),this._partials[ot-1]=at;break;case"triangle":ot&1?at=2*(st*st)*(ot-1>>1&1?-1:1):at=0,this._partials[ot-1]=at;break;case"custom":at=this._partials[ot-1];break;default:throw new TypeError("Oscillator: invalid type: "+o)}at!==0?(et[ot]=-at*Math.sin($*ot),tt[ot]=at*Math.cos($*ot)):(et[ot]=0,tt[ot]=0)}return[et,tt]}_inverseFFT(o,$,j){let _e=0;const et=o.length;for(let tt=0;tt<et;tt++)_e+=o[tt]*Math.cos(tt*j)+$[tt]*Math.sin(tt*j);return _e}getInitialValue(){const[o,$]=this._getRealImaginary(this._type,0);let j=0;const _e=Math.PI*2,et=32;for(let tt=0;tt<et;tt++)j=Math.max(this._inverseFFT(o,$,tt/et*_e),j);return clamp(-this._inverseFFT(o,$,this._phase)/j,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(o){this._partials=o,this._partialCount=this._partials.length,o.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(o){this._phase=o*Math.PI/180,this.type=this._type}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oscillator._periodicWaveCache=[];class SignalOperator extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(),arguments,["context"])))}connect(o,$=0,j=0){return connectSignal(this,o,$,j),this}}class WaveShaper extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const o=optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]);isArray(o.mapping)||o.mapping instanceof Float32Array?this.curve=Float32Array.from(o.mapping):isFunction(o.mapping)&&this.setMap(o.mapping,o.length)}static getDefaults(){return Object.assign(Signal.getDefaults(),{length:1024})}setMap(o,$=1024){const j=new Float32Array($);for(let _e=0,et=$;_e<et;_e++){const tt=_e/(et-1)*2-1;j[_e]=o(tt,_e)}return this.curve=j,this}get curve(){return this._shaper.curve}set curve(o){this._shaper.curve=o}get oversample(){return this._shaper.oversample}set oversample(o){const $=["none","2x","4x"].some(j=>j.includes(o));assert($,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=o}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class AudioToGain extends SignalOperator{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new WaveShaper({context:this.context,mapping:o=>(o+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Multiply extends Signal{constructor(){super(Object.assign(optionsFromArguments(Multiply.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const o=optionsFromArguments(Multiply.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gain({context:this.context,minValue:o.minValue,maxValue:o.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(o.value,0)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class AMOscillator extends Source{constructor(){super(optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new AudioToGain({context:this.context}),this._modulationNode=new Gain({context:this.context});const o=optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:o.detune,frequency:o.frequency,onstop:()=>this.onstop(this),phase:o.phase,type:o.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oscillator({context:this.context,phase:o.phase,type:o.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:o.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),readOnly(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(o){this._modulator.start(o),this._carrier.start(o)}_stop(o){this._modulator.stop(o),this._carrier.stop(o)}_restart(o){this._modulator.restart(o),this._carrier.restart(o)}get type(){return this._carrier.type}set type(o){this._carrier.type=o}get baseType(){return this._carrier.baseType}set baseType(o){this._carrier.baseType=o}get partialCount(){return this._carrier.partialCount}set partialCount(o){this._carrier.partialCount=o}get modulationType(){return this._modulator.type}set modulationType(o){this._modulator.type=o}get phase(){return this._carrier.phase}set phase(o){this._carrier.phase=o,this._modulator.phase=o}get partials(){return this._carrier.partials}set partials(o){this._carrier.partials=o}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class FMOscillator extends Source{constructor(){super(optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gain({context:this.context,gain:0});const o=optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:o.detune,frequency:0,onstop:()=>this.onstop(this),phase:o.phase,type:o.type}),this.detune=this._carrier.detune,this.frequency=new Signal({context:this.context,units:"frequency",value:o.frequency}),this._modulator=new Oscillator({context:this.context,phase:o.phase,type:o.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:o.harmonicity}),this.modulationIndex=new Multiply({context:this.context,units:"positive",value:o.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),readOnly(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(o){this._modulator.start(o),this._carrier.start(o)}_stop(o){this._modulator.stop(o),this._carrier.stop(o)}_restart(o){return this._modulator.restart(o),this._carrier.restart(o),this}get type(){return this._carrier.type}set type(o){this._carrier.type=o}get baseType(){return this._carrier.baseType}set baseType(o){this._carrier.baseType=o}get partialCount(){return this._carrier.partialCount}set partialCount(o){this._carrier.partialCount=o}get modulationType(){return this._modulator.type}set modulationType(o){this._modulator.type=o}get phase(){return this._carrier.phase}set phase(o){this._carrier.phase=o,this._modulator.phase=o}get partials(){return this._carrier.partials}set partials(o){this._carrier.partials=o}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class PulseOscillator extends Source{constructor(){super(optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gain({context:this.context,gain:0}),this._thresh=new WaveShaper({context:this.context,mapping:$=>$<=0?-1:1});const o=optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"]);this.width=new Signal({context:this.context,units:"audioRange",value:o.width}),this._triangle=new Oscillator({context:this.context,detune:o.detune,frequency:o.frequency,onstop:()=>this.onstop(this),phase:o.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),readOnly(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(o){o=this.toSeconds(o),this._triangle.start(o),this._widthGate.gain.setValueAtTime(1,o)}_stop(o){o=this.toSeconds(o),this._triangle.stop(o),this._widthGate.gain.cancelScheduledValues(o),this._widthGate.gain.setValueAtTime(0,o)}_restart(o){this._triangle.restart(o),this._widthGate.gain.cancelScheduledValues(o),this._widthGate.gain.setValueAtTime(1,o)}get phase(){return this._triangle.phase}set phase(o){this._triangle.phase=o}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(o){this._triangle.type=o}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class FatOscillator extends Source{constructor(){super(optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const o=optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Signal({context:this.context,units:"frequency",value:o.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:o.detune}),this._spread=o.spread,this._type=o.type,this._phase=o.phase,this._partials=o.partials,this._partialCount=o.partialCount,this.count=o.count,readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(o){o=this.toSeconds(o),this._forEach($=>$.start(o))}_stop(o){o=this.toSeconds(o),this._forEach($=>$.stop(o))}_restart(o){this._forEach($=>$.restart(o))}_forEach(o){for(let $=0;$<this._oscillators.length;$++)o(this._oscillators[$],$)}get type(){return this._type}set type(o){this._type=o,this._forEach($=>$.type=o)}get spread(){return this._spread}set spread(o){if(this._spread=o,this._oscillators.length>1){const $=-o/2,j=o/(this._oscillators.length-1);this._forEach((_e,et)=>_e.detune.value=$+j*et)}}get count(){return this._oscillators.length}set count(o){if(assertRange(o,1),this._oscillators.length!==o){this._forEach($=>$.dispose()),this._oscillators=[];for(let $=0;$<o;$++){const j=new Oscillator({context:this.context,volume:-6-o*1.1,type:this._type,phase:this._phase+$/o*360,partialCount:this._partialCount,onstop:$===0?()=>this.onstop(this):noOp});this.type==="custom"&&(j.partials=this._partials),this.frequency.connect(j.frequency),this.detune.connect(j.detune),j.detune.overridden=!1,j.connect(this.output),this._oscillators[$]=j}this.spread=this._spread,this.state==="started"&&this._forEach($=>$.start())}}get phase(){return this._phase}set phase(o){this._phase=o,this._forEach(($,j)=>$.phase=this._phase+j/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(o){this._forEach($=>$.baseType=o),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(o){this._partials=o,this._partialCount=this._partials.length,o.length&&(this._type="custom",this._forEach($=>$.partials=o))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(o){this._partialCount=o,this._forEach($=>$.partialCount=o),this._type=this._oscillators[0].type}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(o=>o.dispose()),this}}class PWMOscillator extends Source{constructor(){super(optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Multiply({context:this.context,value:2});const o=optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new PulseOscillator({context:this.context,frequency:o.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oscillator({context:this.context,detune:o.detune,frequency:o.frequency,onstop:()=>this.onstop(this),phase:o.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),readOnly(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(o){o=this.toSeconds(o),this._modulator.start(o),this._pulse.start(o)}_stop(o){o=this.toSeconds(o),this._modulator.stop(o),this._pulse.stop(o)}_restart(o){this._modulator.restart(o),this._pulse.restart(o)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(o){this._modulator.phase=o}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OmniOscillatorSourceMap={am:AMOscillator,fat:FatOscillator,fm:FMOscillator,oscillator:Oscillator,pulse:PulseOscillator,pwm:PWMOscillator};class OmniOscillator extends Source{constructor(){super(optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const o=optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:o.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:o.detune}),readOnly(this,["frequency","detune"]),this.set(o)}static getDefaults(){return Object.assign(Oscillator.getDefaults(),FMOscillator.getDefaults(),AMOscillator.getDefaults(),FatOscillator.getDefaults(),PulseOscillator.getDefaults(),PWMOscillator.getDefaults())}_start(o){this._oscillator.start(o)}_stop(o){this._oscillator.stop(o)}_restart(o){return this._oscillator.restart(o),this}get type(){let o="";return["am","fm","fat"].some($=>this._sourceType===$)&&(o=this._sourceType),o+this._oscillator.type}set type(o){o.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=o.substr(2)):o.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=o.substr(2)):o.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=o.substr(3)):o==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):o==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=o)}get partials(){return this._oscillator.partials}set partials(o){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=o)}get partialCount(){return this._oscillator.partialCount}set partialCount(o){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=o)}set(o){return Reflect.has(o,"type")&&o.type&&(this.type=o.type),super.set(o),this}_createNewOscillator(o){if(o!==this._sourceType){this._sourceType=o;const $=OmniOscillatorSourceMap[o],j=this.now();if(this._oscillator){const _e=this._oscillator;_e.stop(j),this.context.setTimeout(()=>_e.dispose(),this.blockTime)}this._oscillator=new $({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(j)}}get phase(){return this._oscillator.phase}set phase(o){this._oscillator.phase=o}get sourceType(){return this._sourceType}set sourceType(o){let $="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&($=this._oscillator.type),o==="fm"?this.type="fm"+$:o==="am"?this.type="am"+$:o==="fat"?this.type="fat"+$:o==="oscillator"?this.type=$:o==="pulse"?this.type="pulse":o==="pwm"&&(this.type="pwm")}_getOscType(o,$){return o instanceof OmniOscillatorSourceMap[$]}get baseType(){return this._oscillator.baseType}set baseType(o){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&o!=="pulse"&&o!=="pwm"&&(this._oscillator.baseType=o)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(o){this._getOscType(this._oscillator,"fat")&&isNumber(o)&&(this._oscillator.count=o)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(o){this._getOscType(this._oscillator,"fat")&&isNumber(o)&&(this._oscillator.spread=o)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(o){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&isString(o)&&(this._oscillator.modulationType=o)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,o)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Add extends Signal{constructor(){super(Object.assign(optionsFromArguments(Add.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Gain({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,connectSeries(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Scale extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(Scale.getDefaults(),arguments,["min","max"]))),this.name="Scale";const o=optionsFromArguments(Scale.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Multiply({context:this.context,value:o.max-o.min}),this._add=this.output=new Add({context:this.context,value:o.min}),this._min=o.min,this._max=o.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(SignalOperator.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(o){this._min=o,this._setRange()}get max(){return this._max}set max(o){this._max=o,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Zero extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(Zero.getDefaults(),arguments))),this.name="Zero",this._gain=new Gain({context:this.context}),this.output=this._gain,this.input=void 0,connect(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),disconnect(this.context.getConstant(0),this._gain),this}}class LFO extends ToneAudioNode{constructor(){super(optionsFromArguments(LFO.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Param.prototype._fromType,this._toType=Param.prototype._toType,this._is=Param.prototype._is,this._clampValue=Param.prototype._clampValue;const o=optionsFromArguments(LFO.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Oscillator(o),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Gain({context:this.context,gain:o.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Signal({context:this.context,units:"audioRange",value:0}),this._zeros=new Zero({context:this.context}),this._a2g=new AudioToGain({context:this.context}),this._scaler=this.output=new Scale({context:this.context,max:o.max,min:o.min}),this.units=o.units,this.min=o.min,this.max=o.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),readOnly(this,["amplitude","frequency"]),this.phase=o.phase}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(o){return o=this.toSeconds(o),this._stoppedSignal.setValueAtTime(0,o),this._oscillator.start(o),this}stop(o){return o=this.toSeconds(o),this._stoppedSignal.setValueAtTime(this._stoppedValue,o),this._oscillator.stop(o),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(o){o=this._fromType(o),this._scaler.min=o}get max(){return this._toType(this._scaler.max)}set max(o){o=this._fromType(o),this._scaler.max=o}get type(){return this._oscillator.type}set type(o){this._oscillator.type=o,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(o){this._oscillator.partials=o,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(o){this._oscillator.phase=o,this._setStoppedValue()}get units(){return this._units}set units(o){const $=this.min,j=this.max;this._units=o,this.min=$,this.max=j}get state(){return this._oscillator.state}connect(o,$,j){return(o instanceof Param||o instanceof Signal)&&(this.convert=o.convert,this.units=o.units),connectSignal(this,o,$,j),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function range(a,o=1/0){const $=new WeakMap;return function(j,_e){Reflect.defineProperty(j,_e,{configurable:!0,enumerable:!0,get:function(){return $.get(this)},set:function(et){assertRange(et,a,o),$.set(this,et)}})}}function timeRange(a,o=1/0){const $=new WeakMap;return function(j,_e){Reflect.defineProperty(j,_e,{configurable:!0,enumerable:!0,get:function(){return $.get(this)},set:function(et){assertRange(this.toSeconds(et),a,o),$.set(this,et)}})}}class Player extends Source{constructor(){super(optionsFromArguments(Player.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const o=optionsFromArguments(Player.getDefaults(),arguments,["url","onload"]);this._buffer=new ToneAudioBuffer({onload:this._onload.bind(this,o.onload),onerror:o.onerror,reverse:o.reverse,url:o.url}),this.autostart=o.autostart,this._loop=o.loop,this._loopStart=o.loopStart,this._loopEnd=o.loopEnd,this._playbackRate=o.playbackRate,this.fadeIn=o.fadeIn,this.fadeOut=o.fadeOut}static getDefaults(){return Object.assign(Source.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1,reverse:!1})}load(o){return __awaiter(this,void 0,void 0,function*(){return yield this._buffer.load(o),this._onload(),this})}_onload(o=noOp){o(),this.autostart&&this.start()}_onSourceEnd(o){this.onstop(this),this._activeSources.delete(o),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(o,$,j){return super.start(o,$,j),this}_start(o,$,j){this._loop?$=defaultArg($,this._loopStart):$=defaultArg($,0);const _e=this.toSeconds($),et=j;j=defaultArg(j,Math.max(this._buffer.duration-_e,0));let tt=this.toSeconds(j);tt=tt/this._playbackRate,o=this.toSeconds(o);const rt=new ToneBufferSource({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(o+tt),this._state.setStateAtTime("stopped",o+tt,{implicitEnd:!0})),this._activeSources.add(rt),this._loop&&isUndef(et)?rt.start(o,_e):rt.start(o,_e,tt-this.toSeconds(this.fadeOut))}_stop(o){const $=this.toSeconds(o);this._activeSources.forEach(j=>j.stop($))}restart(o,$,j){return super.restart(o,$,j),this}_restart(o,$,j){this._stop(o),this._start(o,$,j)}seek(o,$){const j=this.toSeconds($);if(this._state.getValueAtTime(j)==="started"){const _e=this.toSeconds(o);this._stop(j),this._start(j,_e)}return this}setLoopPoints(o,$){return this.loopStart=o,this.loopEnd=$,this}get loopStart(){return this._loopStart}set loopStart(o){this._loopStart=o,this.buffer.loaded&&assertRange(this.toSeconds(o),0,this.buffer.duration),this._activeSources.forEach($=>{$.loopStart=o})}get loopEnd(){return this._loopEnd}set loopEnd(o){this._loopEnd=o,this.buffer.loaded&&assertRange(this.toSeconds(o),0,this.buffer.duration),this._activeSources.forEach($=>{$.loopEnd=o})}get buffer(){return this._buffer}set buffer(o){this._buffer.set(o)}get loop(){return this._loop}set loop(o){if(this._loop!==o&&(this._loop=o,this._activeSources.forEach($=>{$.loop=o}),o)){const $=this._state.getNextState("stopped",this.now());$&&this._state.cancel($.time)}}get playbackRate(){return this._playbackRate}set playbackRate(o){this._playbackRate=o;const $=this.now(),j=this._state.getNextState("stopped",$);j&&j.implicitEnd&&(this._state.cancel(j.time),this._activeSources.forEach(_e=>_e.cancelStop())),this._activeSources.forEach(_e=>{_e.playbackRate.setValueAtTime(o,$)})}get reverse(){return this._buffer.reverse}set reverse(o){this._buffer.reverse=o}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(o=>o.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}__decorate([timeRange(0)],Player.prototype,"fadeIn",void 0);__decorate([timeRange(0)],Player.prototype,"fadeOut",void 0);class GainToAudio extends SignalOperator{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new WaveShaper({context:this.context,mapping:o=>Math.abs(o)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Envelope extends ToneAudioNode{constructor(){super(optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Signal({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const o=optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=o.attack,this.decay=o.decay,this.sustain=o.sustain,this.release=o.release,this.attackCurve=o.attackCurve,this.releaseCurve=o.releaseCurve,this.decayCurve=o.decayCurve}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(o,$){if(isString(o))return o;{let j;for(j in EnvelopeCurves)if(EnvelopeCurves[j][$]===o)return j;return o}}_setCurve(o,$,j){if(isString(j)&&Reflect.has(EnvelopeCurves,j)){const _e=EnvelopeCurves[j];isObject(_e)?o!=="_decayCurve"&&(this[o]=_e[$]):this[o]=_e}else if(isArray(j)&&o!=="_decayCurve")this[o]=j;else throw new Error("Envelope: invalid curve: "+j)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(o){this._setCurve("_attackCurve","In",o)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(o){this._setCurve("_releaseCurve","Out",o)}get decayCurve(){return this._decayCurve}set decayCurve(o){assert(["linear","exponential"].some($=>$===o),`Invalid envelope curve: ${o}`),this._decayCurve=o}triggerAttack(o,$=1){this.log("triggerAttack",o,$),o=this.toSeconds(o);let _e=this.toSeconds(this.attack);const et=this.toSeconds(this.decay),tt=this.getValueAtTime(o);if(tt>0){const rt=1/_e;_e=(1-tt)/rt}if(_e<this.sampleTime)this._sig.cancelScheduledValues(o),this._sig.setValueAtTime($,o);else if(this._attackCurve==="linear")this._sig.linearRampTo($,_e,o);else if(this._attackCurve==="exponential")this._sig.targetRampTo($,_e,o);else{this._sig.cancelAndHoldAtTime(o);let rt=this._attackCurve;for(let ot=1;ot<rt.length;ot++)if(rt[ot-1]<=tt&&tt<=rt[ot]){rt=this._attackCurve.slice(ot),rt[0]=tt;break}this._sig.setValueCurveAtTime(rt,o,_e,$)}if(et&&this.sustain<1){const rt=$*this.sustain,ot=o+_e;this.log("decay",ot),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(rt,et+ot):this._sig.exponentialApproachValueAtTime(rt,ot,et)}return this}triggerRelease(o){this.log("triggerRelease",o),o=this.toSeconds(o);const $=this.getValueAtTime(o);if($>0){const j=this.toSeconds(this.release);j<this.sampleTime?this._sig.setValueAtTime(0,o):this._releaseCurve==="linear"?this._sig.linearRampTo(0,j,o):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,j,o):(assert(isArray(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(o),this._sig.setValueCurveAtTime(this._releaseCurve,o,j,$))}return this}getValueAtTime(o){return this._sig.getValueAtTime(o)}triggerAttackRelease(o,$,j=1){return $=this.toSeconds($),this.triggerAttack($,j),this.triggerRelease($+this.toSeconds(o)),this}cancel(o){return this._sig.cancelScheduledValues(this.toSeconds(o)),this}connect(o,$=0,j=0){return connectSignal(this,o,$,j),this}asArray(o=1024){return __awaiter(this,void 0,void 0,function*(){const $=o/this.context.sampleRate,j=new OfflineContext(1,$,this.context.sampleRate),_e=this.toSeconds(this.attack)+this.toSeconds(this.decay),et=_e+this.toSeconds(this.release),tt=et*.1,rt=et+tt,ot=new this.constructor(Object.assign(this.get(),{attack:$*this.toSeconds(this.attack)/rt,decay:$*this.toSeconds(this.decay)/rt,release:$*this.toSeconds(this.release)/rt,context:j}));return ot._sig.toDestination(),ot.triggerAttackRelease($*(_e+tt)/rt,0),(yield j.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}__decorate([timeRange(0)],Envelope.prototype,"attack",void 0);__decorate([timeRange(0)],Envelope.prototype,"decay",void 0);__decorate([range(0,1)],Envelope.prototype,"sustain",void 0);__decorate([timeRange(0)],Envelope.prototype,"release",void 0);const EnvelopeCurves=(()=>{let o,$;const j=[];for(o=0;o<128;o++)j[o]=Math.sin(o/(128-1)*(Math.PI/2));const _e=[],et=6.4;for(o=0;o<128-1;o++){$=o/(128-1);const ct=Math.sin($*(Math.PI*2)*et-Math.PI/2)+1;_e[o]=ct/10+$*.83}_e[128-1]=1;const tt=[],rt=5;for(o=0;o<128;o++)tt[o]=Math.ceil(o/(128-1)*rt)/rt;const ot=[];for(o=0;o<128;o++)$=o/(128-1),ot[o]=.5*(1-Math.cos(Math.PI*$));const st=[];for(o=0;o<128;o++){$=o/(128-1);const ct=Math.pow($,3)*4+.2,vt=Math.cos(ct*Math.PI*2*$);st[o]=Math.abs(vt*(1-$))}function at(ct){const vt=new Array(ct.length);for(let ht=0;ht<ct.length;ht++)vt[ht]=1-ct[ht];return vt}function ut(ct){return ct.slice(0).reverse()}return{bounce:{In:at(st),Out:st},cosine:{In:j,Out:ut(j)},exponential:"exponential",linear:"linear",ripple:{In:_e,Out:at(_e)},sine:{In:ot,Out:at(ot)},step:{In:tt,Out:at(tt)}}})();class Instrument extends ToneAudioNode{constructor(){super(optionsFromArguments(Instrument.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const o=optionsFromArguments(Instrument.getDefaults(),arguments);this._volume=this.output=new Volume({context:this.context,volume:o.volume}),this.volume=this._volume.volume,readOnly(this,"volume")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let o=!1;return this._synced||(this._synced=!0,o=!0),o}_syncMethod(o,$){const j=this["_original_"+o]=this[o];this[o]=(..._e)=>{const et=_e[$],tt=this.context.transport.schedule(rt=>{_e[$]=rt,j.apply(this,_e)},et);this._scheduledEvents.push(tt)}}unsync(){return this._scheduledEvents.forEach(o=>this.context.transport.clear(o)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(o,$,j,_e){const et=this.toSeconds(j),tt=this.toSeconds($);return this.triggerAttack(o,et,_e),this.triggerRelease(et+tt),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Monophonic extends Instrument{constructor(){super(optionsFromArguments(Monophonic.getDefaults(),arguments));const o=optionsFromArguments(Monophonic.getDefaults(),arguments);this.portamento=o.portamento,this.onsilence=o.onsilence}static getDefaults(){return Object.assign(Instrument.getDefaults(),{detune:0,onsilence:noOp,portamento:0})}triggerAttack(o,$,j=1){this.log("triggerAttack",o,$,j);const _e=this.toSeconds($);return this._triggerEnvelopeAttack(_e,j),this.setNote(o,_e),this}triggerRelease(o){this.log("triggerRelease",o);const $=this.toSeconds(o);return this._triggerEnvelopeRelease($),this}setNote(o,$){const j=this.toSeconds($),_e=o instanceof FrequencyClass?o.toFrequency():o;if(this.portamento>0&&this.getLevelAtTime(j)>.05){const et=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(_e,et,j)}else this.frequency.setValueAtTime(_e,j);return this}}__decorate([timeRange(0)],Monophonic.prototype,"portamento",void 0);class AmplitudeEnvelope extends Envelope{constructor(){super(optionsFromArguments(AmplitudeEnvelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gain({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Synth extends Monophonic{constructor(){super(optionsFromArguments(Synth.getDefaults(),arguments)),this.name="Synth";const o=optionsFromArguments(Synth.getDefaults(),arguments);this.oscillator=new OmniOscillator(Object.assign({context:this.context,detune:o.detune,onstop:()=>this.onsilence(this)},o.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new AmplitudeEnvelope(Object.assign({context:this.context},o.envelope)),this.oscillator.chain(this.envelope,this.output),readOnly(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Monophonic.getDefaults(),{envelope:Object.assign(omitFromObject(Envelope.getDefaults(),Object.keys(ToneAudioNode.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(omitFromObject(OmniOscillator.getDefaults(),[...Object.keys(Source.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(o,$){if(this.envelope.triggerAttack(o,$),this.oscillator.start(o),this.envelope.sustain===0){const j=this.toSeconds(this.envelope.attack),_e=this.toSeconds(this.envelope.decay);this.oscillator.stop(o+j+_e)}}_triggerEnvelopeRelease(o){this.envelope.triggerRelease(o),this.oscillator.stop(o+this.toSeconds(this.envelope.release))}getLevelAtTime(o){return o=this.toSeconds(o),this.envelope.getValueAtTime(o)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class MembraneSynth extends Synth{constructor(){super(optionsFromArguments(MembraneSynth.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const o=optionsFromArguments(MembraneSynth.getDefaults(),arguments);this.pitchDecay=o.pitchDecay,this.octaves=o.octaves,readOnly(this,["oscillator","envelope"])}static getDefaults(){return deepMerge(Monophonic.getDefaults(),Synth.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(o,$){const j=this.toSeconds($),_e=this.toFrequency(o instanceof FrequencyClass?o.toFrequency():o),et=_e*this.octaves;return this.oscillator.frequency.setValueAtTime(et,j),this.oscillator.frequency.exponentialRampToValueAtTime(_e,j+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}__decorate([range(0)],MembraneSynth.prototype,"octaves",void 0);__decorate([timeRange(0)],MembraneSynth.prototype,"pitchDecay",void 0);const workletContext=new Set;function addToWorklet(a){workletContext.add(a)}function registerProcessor(a,o){const $=`registerProcessor("${a}", ${o})`;workletContext.add($)}const toneAudioWorkletProcessor=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;addToWorklet(toneAudioWorkletProcessor);const singleIOProcess=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;addToWorklet(singleIOProcess);const delayLine=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;addToWorklet(delayLine);const workletName$1="feedback-comb-filter",feedbackCombFilter=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;registerProcessor(workletName$1,feedbackCombFilter);class Sampler extends Instrument{constructor(){super(optionsFromArguments(Sampler.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const o=optionsFromArguments(Sampler.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),$={};Object.keys(o.urls).forEach(j=>{const _e=parseInt(j,10);if(assert(isNote(j)||isNumber(_e)&&isFinite(_e),`url key is neither a note or midi pitch: ${j}`),isNote(j)){const et=new FrequencyClass(this.context,j).toMidi();$[et]=o.urls[j]}else isNumber(_e)&&isFinite(_e)&&($[_e]=o.urls[_e])}),this._buffers=new ToneAudioBuffers({urls:$,onload:o.onload,baseUrl:o.baseUrl,onerror:o.onerror}),this.attack=o.attack,this.release=o.release,this.curve=o.curve,this._buffers.loaded&&Promise.resolve().then(o.onload)}static getDefaults(){return Object.assign(Instrument.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:noOp,onerror:noOp,release:.1,urls:{}})}_findClosest(o){let j=0;for(;j<96;){if(this._buffers.has(o+j))return-j;if(this._buffers.has(o-j))return j;j++}throw new Error(`No available buffers for note: ${o}`)}triggerAttack(o,$,j=1){return this.log("triggerAttack",o,$,j),Array.isArray(o)||(o=[o]),o.forEach(_e=>{const et=ftomf(new FrequencyClass(this.context,_e).toFrequency()),tt=Math.round(et),rt=et-tt,ot=this._findClosest(tt),st=tt-ot,at=this._buffers.get(st),ut=intervalToFrequencyRatio(ot+rt),ct=new ToneBufferSource({url:at,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:ut}).connect(this.output);ct.start($,0,at.duration/ut,j),isArray(this._activeSources.get(tt))||this._activeSources.set(tt,[]),this._activeSources.get(tt).push(ct),ct.onended=()=>{if(this._activeSources&&this._activeSources.has(tt)){const vt=this._activeSources.get(tt),ht=vt.indexOf(ct);ht!==-1&&vt.splice(ht,1)}}}),this}triggerRelease(o,$){return this.log("triggerRelease",o,$),Array.isArray(o)||(o=[o]),o.forEach(j=>{const _e=new FrequencyClass(this.context,j).toMidi();if(this._activeSources.has(_e)&&this._activeSources.get(_e).length){const et=this._activeSources.get(_e);$=this.toSeconds($),et.forEach(tt=>{tt.stop($)}),this._activeSources.set(_e,[])}}),this}releaseAll(o){const $=this.toSeconds(o);return this._activeSources.forEach(j=>{for(;j.length;)j.shift().stop($)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(o,$,j,_e=1){const et=this.toSeconds(j);return this.triggerAttack(o,et,_e),isArray($)?(assert(isArray(o),"notes must be an array when duration is array"),o.forEach((tt,rt)=>{const ot=$[Math.min(rt,$.length-1)];this.triggerRelease(tt,et+this.toSeconds(ot))})):this.triggerRelease(o,et+this.toSeconds($)),this}add(o,$,j){if(assert(isNote(o)||isFinite(o),`note must be a pitch or midi: ${o}`),isNote(o)){const _e=new FrequencyClass(this.context,o).toMidi();this._buffers.add(_e,$,j)}else this._buffers.add(o,$,j);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(o=>{o.forEach($=>$.dispose())}),this._activeSources.clear(),this}}__decorate([timeRange(0)],Sampler.prototype,"attack",void 0);__decorate([timeRange(0)],Sampler.prototype,"release",void 0);class CrossFade extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new GainToAudio({context:this.context}),this.a=new Gain({context:this.context,gain:0}),this.b=new Gain({context:this.context,gain:0}),this.output=new Gain({context:this.context}),this._internalChannels=[this.a,this.b];const o=optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]);this.fade=new Signal({context:this.context,units:"normalRange",value:o.fade}),readOnly(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",connect(this._split,this.a.gain,0),connect(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Effect extends ToneAudioNode{constructor(o){super(o),this.name="Effect",this._dryWet=new CrossFade({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gain({context:this.context}),this.effectReturn=new Gain({context:this.context}),this.input=new Gain({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(o.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],readOnly(this,"wet")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{wet:1})}connectEffect(o){return this._internalChannels.push(o),this.effectSend.chain(o,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Panner extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Panner.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const o=optionsFromArguments(Panner.getDefaults(),arguments,["pan"]);this.pan=new Param({context:this.context,param:this._panner.pan,value:o.pan,minValue:-1,maxValue:1}),this._panner.channelCount=o.channelCount,this._panner.channelCountMode="explicit",readOnly(this,"pan")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const workletName="bit-crusher",bitCrusherWorklet=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;registerProcessor(workletName,bitCrusherWorklet);class FeedbackEffect extends Effect{constructor(o){super(o),this.name="FeedbackEffect",this._feedbackGain=new Gain({context:this.context,gain:o.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,readOnly(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Effect.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class PitchShift extends FeedbackEffect{constructor(){super(optionsFromArguments(PitchShift.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const o=optionsFromArguments(PitchShift.getDefaults(),arguments,["pitch"]);this._frequency=new Signal({context:this.context}),this._delayA=new Delay({maxDelay:1,context:this.context}),this._lfoA=new LFO({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Delay({maxDelay:1,context:this.context}),this._lfoB=new LFO({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new CrossFade({context:this.context}),this._crossFadeLFO=new LFO({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Delay({delayTime:o.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,readOnly(this,"delayTime"),this._pitch=o.pitch,this._windowSize=o.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const $=this.now();this._lfoA.start($),this._lfoB.start($),this._crossFadeLFO.start($),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(FeedbackEffect.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(o){this._pitch=o;let $=0;o<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,$=intervalToFrequencyRatio(o-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,$=intervalToFrequencyRatio(o)-1),this._frequency.value=$*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(o){this._windowSize=this.toSeconds(o),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Solo extends ToneAudioNode{constructor(){super(optionsFromArguments(Solo.getDefaults(),arguments,["solo"])),this.name="Solo";const o=optionsFromArguments(Solo.getDefaults(),arguments,["solo"]);this.input=this.output=new Gain({context:this.context}),Solo._allSolos.has(this.context)||Solo._allSolos.set(this.context,new Set),Solo._allSolos.get(this.context).add(this),this.solo=o.solo}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(o){o?this._addSolo():this._removeSolo(),Solo._allSolos.get(this.context).forEach($=>$._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Solo._soloed.has(this.context)||Solo._soloed.set(this.context,new Set),Solo._soloed.get(this.context).add(this)}_removeSolo(){Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).delete(this)}_isSoloed(){return Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).has(this)}_noSolos(){return!Solo._soloed.has(this.context)||Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Solo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Solo._allSolos=new Map;Solo._soloed=new Map;class PanVol extends ToneAudioNode{constructor(){super(optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const o=optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Panner({context:this.context,pan:o.pan,channelCount:o.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Volume({context:this.context,volume:o.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=o.mute,readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(o){this._volume.mute=o}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Channel extends ToneAudioNode{constructor(){super(optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const o=optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Solo({solo:o.solo,context:this.context}),this._panVol=this.output=new PanVol({context:this.context,pan:o.pan,volume:o.volume,mute:o.mute,channelCount:o.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(o){this._solo.solo=o}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(o){this._panVol.mute=o}_getBus(o){return Channel.buses.has(o)||Channel.buses.set(o,new Gain({context:this.context})),Channel.buses.get(o)}send(o,$=0){const j=this._getBus(o),_e=new Gain({context:this.context,units:"decibels",gain:$});return this.connect(_e),_e.connect(j),_e}receive(o){return this._getBus(o).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Channel.buses=new Map;class Listener extends ToneAudioNode{constructor(){super(...arguments),this.name="Listener",this.positionX=new Param({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Param({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Param({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Param({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Param({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Param({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Param({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Param({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Param({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}onContextInit(a=>{a.listener=new Listener({context:a})});onContextClose(a=>{a.listener.dispose()});getContext().transport;getContext().destination;getContext().destination;getContext().listener;getContext().draw;getContext();const initialState={file:null,metadata:{cover:null,title:"",artist:"",album:""},playback:{isPlaying:!1,isLooping:!1,pitch:0,speed:1,loopStart:null,loopEnd:null,zoom:1},wavesurfer:null,pitchShifter:null,loading:{isMetadataLoading:!1,isWavesurferLoading:!1},error:null},useAudio=a=>{const[{file:o,metadata:$,playback:j,wavesurfer:_e,pitchShifter:et,loading:tt,error:rt},ot]=reactExports.useReducer((Ct,Et)=>{switch(Et.type){case"setFile":return{...Ct,file:Et.payload};case"setMetadata":return{...Ct,metadata:Et.payload};case"togglePlay":return{...Ct,playback:{...Ct.playback,isPlaying:!Ct.playback.isPlaying}};case"loop":return{...Ct,playback:{...Ct.playback,isLooping:Et.payload}};case"setPitch":return{...Ct,playback:{...Ct.playback,pitch:Et.payload}};case"setSpeed":return{...Ct,playback:{...Ct.playback,speed:Et.payload}};case"setZoom":return{...Ct,playback:{...Ct.playback,zoom:Et.payload}};case"setLoopStart":return{...Ct,playback:{...Ct.playback,loopStart:Et.payload}};case"setLoopEnd":return{...Ct,playback:{...Ct.playback,loopEnd:Et.payload}};case"setWavesurfer":return{...Ct,wavesurfer:Et.payload};case"setPitchShifter":return{...Ct,pitchShifter:Et.payload};case"setIsMetadataLoading":return{...Ct,loading:{...Ct.loading,isMetadataLoading:Et.payload}};case"setIsWavesurferLoading":return{...Ct,loading:{...Ct.loading,isWavesurferLoading:Et.payload}};case"setError":return{...Ct,error:Et.payload};case"reset":return initialState}},initialState),st=useTheme();reactExports.useEffect(()=>{(async()=>{if(o){ot({type:"setIsMetadataLoading",payload:!0});const{common:Et}=await lib$3.parseBlob(o),St={cover:lib$3.selectCover(Et.picture),title:Et.title,artist:Et.artist,album:Et.album};ot({type:"setMetadata",payload:St}),ot({type:"setIsMetadataLoading",payload:!1})}})()},[o]),reactExports.useEffect(()=>((async()=>{if(!_e&&o&&a){ot({type:"setIsWavesurferLoading",payload:!0});const Et=new Audio,St=WaveSurfer.create({container:a,cursorColor:st.palette.primary.main,media:Et}),gt=St.registerPlugin(s.create());St.on("ready",()=>{ot({type:"setIsWavesurferLoading",payload:!1})}),gt.on("region-created",()=>{ot({type:"loop",payload:!0})}),gt.on("region-updated",wt=>{ot({type:"setLoopStart",payload:wt.start}),ot({type:"setLoopEnd",payload:wt.end})}),gt.on("region-out",wt=>{St.isPlaying()&&wt.play()});try{await St.loadBlob(o);const wt=new AudioContext;setContext(wt);const Mt=wt.createMediaElementSource(Et),Ot=new PitchShift(0);connect(Mt,Ot),connect(Ot,wt.destination),ot({type:"setPitchShifter",payload:Ot}),ot({type:"setWavesurfer",payload:St})}catch(wt){ot({type:"setError",payload:wt})}}})(),()=>{_e&&(_e.destroy(),ot({type:"reset"}))}),[a,st,o,_e]);const at=reactExports.useCallback(Ct=>{ot({type:"setFile",payload:Ct})},[]),ut=reactExports.useCallback(()=>{_e&&(_e.playPause(),ot({type:"togglePlay"}))},[_e]),ct=reactExports.useCallback(Ct=>{if(_e){const Et=_e.getActivePlugins()[0];Ct?Et.addRegion({start:j.loopStart||0,end:j.loopEnd||_e.getDuration(),color:st.palette.primary.main+"80"}):(Et.clearRegions(),ot({type:"loop",payload:!1}))}},[j.loopEnd,j.loopStart,st.palette.primary.main,_e]),vt=reactExports.useCallback(()=>{_e&&(j.isLooping&&j.loopStart?_e.setTime(j.loopStart):_e.setTime(0))},[j.isLooping,j.loopStart,_e]),ht=reactExports.useCallback(Ct=>{et&&(et.pitch=Ct,ot({type:"setPitch",payload:Ct}))},[et]),yt=reactExports.useCallback(Ct=>{_e&&(_e.setPlaybackRate(Ct),ot({type:"setSpeed",payload:Ct}))},[_e]),bt=reactExports.useMemo(()=>lodashExports.debounce(Ct=>{_e&&_e.zoom(Ct)},200),[_e]),dt=reactExports.useCallback(Ct=>{_e&&(ot({type:"setZoom",payload:Ct}),bt(Ct))},[bt,_e]),xt=reactExports.useCallback(()=>{ot({type:"reset"})},[]),Tt=tt.isMetadataLoading||tt.isWavesurferLoading;return{setFile:at,file:o,metadata:$,playback:{...j,playPause:ut,loop:ct,replay:vt,setPitch:ht,setSpeed:yt,setZoom:dt},isLoading:Tt,error:rt,reset:xt}},Main=()=>{const a=reactExports.useRef(null),{playback:o,file:$,metadata:j,setFile:_e,isLoading:et,error:tt,reset:rt}=useAudio(a.current),ot=reactExports.useCallback(()=>{o.playPause()},[o]),st=reactExports.useCallback(()=>{o.loop(!o.isLooping)},[o]),at=reactExports.useCallback(()=>{o.replay()},[o]),ut=reactExports.useCallback(dt=>{o.setPitch(dt)},[o]),ct=reactExports.useCallback(dt=>{o.setSpeed(dt)},[o]),vt=reactExports.useCallback(dt=>{o.setZoom(dt)},[o]),ht=dt=>{_e(dt)},yt=()=>{_e(null)},bt=()=>{rt()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et&&jsxRuntimeExports.jsx(Loader,{sx:{position:"fixed"}}),jsxRuntimeExports.jsxs(Stack$1,{gap:2,sx:{my:{xs:2,sm:3}},children:[$&&jsxRuntimeExports.jsx(Container$1,{children:jsxRuntimeExports.jsx("div",{ref:a})}),$&&jsxRuntimeExports.jsx(Container$1,{maxWidth:"xs",children:jsxRuntimeExports.jsx(Zoom,{value:o.zoom,onChange:vt})}),jsxRuntimeExports.jsx(Container$1,{maxWidth:"md",children:jsxRuntimeExports.jsxs(Stack$1,{gap:1,children:[$?jsxRuntimeExports.jsx(FileInfo,{metadata:j,onDeleteClick:yt,deleteDisabled:o.isPlaying}):jsxRuntimeExports.jsx(Uploader,{onUpload:ht}),jsxRuntimeExports.jsx(PlaybackButtons,{onPlayClick:ot,onRepeatClick:st,onReplayClick:at,isPlaying:o.isPlaying,isLooping:o.isLooping,disabled:$===null}),jsxRuntimeExports.jsx(PlaybackEffects,{onPitchChange:ut,onSpeedChange:ct,pitch:o.pitch,speed:o.speed,disabled:$===null})]})})]}),jsxRuntimeExports.jsxs(Dialog$1,{open:tt!==null,onClose:bt,children:[jsxRuntimeExports.jsx(DialogTitle$1,{children:"Invalid audio file"}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{children:"The current audio file is invalid or not supported. Try another one."})}),jsxRuntimeExports.jsx(DialogActions$1,{children:jsxRuntimeExports.jsx(Button$1,{onClick:bt,autoFocus:!0,children:"Ok"})})]})]})},App=()=>{const a=useMediaQuery("(prefers-color-scheme: dark)"),o=reactExports.useMemo(()=>createTheme({palette:{mode:a?"dark":"light"}}),[a]);return jsxRuntimeExports.jsxs(ThemeProvider,{theme:o,children:[jsxRuntimeExports.jsx(CssBaseline,{}),jsxRuntimeExports.jsx(Main,{})]})};client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
